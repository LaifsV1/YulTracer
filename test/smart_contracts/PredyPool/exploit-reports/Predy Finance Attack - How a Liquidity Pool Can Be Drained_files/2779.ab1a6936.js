"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["2779"],{44430:function(e,n,i){i.d(n,{Z:()=>o});let o={divider:"divider-Ti4OTa",vertical:"vertical-jkeHTs"}},27836:function(e,n,i){i.d(n,{b:()=>a,j:()=>l});var o=i(16584),t=i(95441),d=i(80026),r=i(6911);function l(e){let{publisherTerms:n,utm_source:i}=e,{iString:l}=(0,t.M1)();return(0,o.BX)(o.HY,{children:[l("By registering you agree to")," ",n&&(0,o.BX)(o.HY,{children:[n,", "]}),(0,o.BX)(d.xv,{as:"span",translated:!0,children:["Substack's ",(0,o.tZ)(a,{href:(0,r._Q)({utm_source:i}),children:"Terms of Service"})]}),(0,o.BX)(d.xv,{as:"span",translated:!0,children:[", our ",(0,o.tZ)(a,{href:(0,r.Zz)({utm_source:i}),children:"Privacy Policy"})]}),(0,o.BX)(d.xv,{as:"span",translated:!0,children:[", and our ",(0,o.tZ)(a,{href:(0,r.WF)({utm_source:i}),children:"Information Collection Notice"})]}),"."]})}function a(e){let{href:n,children:i}=e;return(0,o.tZ)("a",{className:(0,d.oB)({decoration:"underline"}),href:n,target:"_blank",rel:"noopener",children:i})}},57391:function(e,n,i){i.d(n,{Vt:()=>y,f9:()=>G,gn:()=>g,jc:()=>b,kx:()=>x,ng:()=>h});var o,t=i(7409),d=i(99282),r=i(16584),l=i(6400),a=i(98661),u=i(30396),s=i(78718),w=i.n(s),c=i(35702),v=i(48980),p=i(8589);let f={variantOverrides:{},experimentFeatures:{},experimentExposures:{}};function g(){return"undefined"!=typeof window&&(0,t._)({variantOverrides:{},experimentFeatures:{},experimentExposures:{}},w()(window._preloads,["variantOverrides","experimentFeatures","experimentExposures","pubIdOverride"]))||f}let m=g(),_="undefined"!=typeof window?null===(o=window._preloads)||void 0===o?void 0:o.siteConfigs:{},h=(e,n)=>{let i=n=>{if(!n||!e)return null;let i=e[n];return void 0===i?null:i},o=e=>{if(!e)return null;let o=i(e);if((0,p.Dh)(o))return{intendedVariant:o,shouldLog:!1};if(n.variantOverrides&&e in n.variantOverrides)return{intendedVariant:n.variantOverrides[e],shouldLog:!1};let t=n.experimentExposures||{};if(t[e])return{intendedVariant:t[e],shouldLog:!1};let d=n.experimentFeatures||{};return d[e]?{intendedVariant:d[e],shouldLog:!0}:null},t=async(e,n,i)=>{if("undefined"!=typeof window){window._preloads.experimentExposures=window._preloads.experimentExposures||{};let o=window._preloads.experimentExposures;o[e]=n;try{await (0,v.rd)("/api/v1/experiment_exposure",{json:{experiment_name:e,variant_name:n,ignore_downsampling:!!i},method:"post"})}catch(n){delete o[e]}}};return{getExperimentVariant:e=>{let n=o(e);return n?n.intendedVariant:null},exposeExperiment:async function(e){let{ignoreDownsampling:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{intendedVariant:i,shouldLog:d}=o(e)||{};return!!d&&(await t(e,i,!!n),!0)},getExposedVariant:e=>{if(!e)return null;let o=i(e);if((0,p.Dh)(o))return o;if(n.variantOverrides&&e in n.variantOverrides)return n.variantOverrides[e];let t=n.experimentExposures||{};return t[e]?t[e]:null},refreshExperimentVariants:async function(){let e,{ignoreDownsampling:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n&&(e=new URLSearchParams({ignore_downsampling:"true"}));let i=await (0,v.rd)("/api/v1/experiment_features",{method:"get",query:e});(null==i?void 0:i.features)&&(0,c.a)({experimentFeatures:i.features})}}},x=(0,l.createContext)(h(_,m));function y(e){let{siteConfigs:n={},experimentInfo:i,children:o}=e,t=i||m,d=(0,u.Ye)(()=>h(n,t),[n,...Object.values(t)]);return(0,r.tZ)(x.Provider,{value:d,children:o})}function b(){return(0,u.qp)(x)}x.displayName="ExperimentsContext";let G=e=>{let n=(0,a.forwardRef)((n,i)=>{let o=b();return(0,r.tZ)(e,(0,d._)((0,t._)({},o,n),{ref:i}))});return n.displayName="withExperimentsContext(".concat(e.displayName||e.name||"Anonymous",")"),n}},37168:function(e,n,i){i.d(n,{WH:()=>g,ZN:()=>m,hO:()=>_});var o,t,d=i(7409),r=i(99282),l=i(16584),a=i(6400),u=i(98661),s=i(30396),w=i(57391),c=i(40647);let v=(0,w.gn)(),p="undefined"!=typeof window&&null!==(t=null===(o=window._preloads)||void 0===o?void 0:o.siteConfigs)&&void 0!==t?t:{},f=(e,n)=>(0,d._)({},(0,w.ng)(e,n),(0,c.Xz)(e)),g=(0,a.createContext)(f(p,v));function m(e){let{siteConfigs:n={},experimentInfo:i,children:o}=e,t=i||v,d=(0,s.Ye)(()=>f(n,t),[n,t]);return(0,l.tZ)(g.Provider,{value:d,children:o})}g.displayName="ExperimentsAndSiteConfigContext";let _=e=>{let n=(0,u.forwardRef)((n,i)=>{let o=(0,s.qp)(g);return(0,l.tZ)(e,(0,r._)((0,d._)({},o,n),{ref:i}))});return n.displayName="withExperimentsAndSiteConfigContext(".concat(e.displayName||e.name||"Anonymous",")"),n}},60807:function(e,n,i){i.d(n,{Fl:()=>m,SE:()=>_,St:()=>p,aF:()=>g,dr:()=>f});var o,t,d,r,l=i(7409),a=i(99282),u=i(16584),s=i(98661),w=i(48980);let c="undefined"!=typeof window&&null!==(d=null===(o=window._preloads)||void 0===o?void 0:o.user)&&void 0!==d?d:null,v="undefined"!=typeof window&&null!==(r=null===(t=window._preloads)||void 0===t?void 0:t.userSettings)&&void 0!==r?r:{},p=(0,s.createContext)({user:c,setUser:()=>void 0,userSettings:v,changeSetting:()=>Promise.resolve()});function f(e){let{defaultValue:n,userSettings:i,children:o}=e,[t,d]=(0,s.useState)(n||c),[r,f]=(0,s.useState)(null!=i?i:v),g=async(e,n,i,o)=>{if(!t&&!(null==o?void 0:o.token))return;let d=r[e];f((0,a._)((0,l._)({},r),{[e]:n}));try{await (0,w.rd)("/api/v1/user-setting",{method:"PUT",json:{type:e,value_bool:"bool"!==i&&(i||"boolean"!=typeof n)?void 0:n,value_datetime:"datetime"!==i&&(i||"string"!=typeof n)?void 0:n,value_text:"text"===i?n:void 0,token:null==o?void 0:o.token}})}catch(n){if(n instanceof w.kp)alert(n.getMessage()),f(n=>(0,a._)((0,l._)({},n),{[e]:d}));else throw n}},m=(0,s.useMemo)(()=>({user:t,setUser:d,userSettings:r,changeSetting:g}),[t,r]);return(0,u.tZ)(p.Provider,{value:m,children:o})}function g(){return(0,s.useContext)(p).user}function m(){return(0,s.useContext)(p).userSettings}function _(){return(0,s.useContext)(p)}p.displayName="UserContext"},53516:function(e,n,i){i.d(n,{S:()=>d});var o=i(55229),t=i(8090);function d(){var e,n;"undefined"!=typeof window&&(null===(n=window)||void 0===n?void 0:null===(e=n.navigator)||void 0===e?void 0:e.sendBeacon)&&(window.navigator.sendBeacon=window.navigator.sendBeacon.bind(window.navigator)),(0,t.Kl)(),(0,o.LH)(),(0,o.dl)(),(0,o.jP)(),(0,t.Md)()}},55229:function(e,n,i){i.d(n,{Hx:()=>f,LH:()=>_,NA:()=>g,XY:()=>m,dl:()=>v,iE:()=>p,jP:()=>h,xL:()=>x});var o=i(7409),t=i(15872),d=i(49762),r=i(98914),l=i(6070),a=i(31742),u=i(60308),s=i(69332);function w(e){let{toHead:n=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.fo)(()=>{let i=document.createElement("script");if(i.async=!0,i.src=e,n)document.head.appendChild(i);else{let e=document.getElementsByTagName("script")[0];e.parentNode&&e.parentNode.insertBefore(i,e)}})}function c(){return"undefined"!=typeof window&&window._preloads&&window._preloads.publicationSettings&&window._preloads.publicationSettings.google_analytics_4_token||null}function v(){var e,n,i,o,t,r,l,u,s,v;if("undefined"==typeof window)return;let f=null===(i=window)||void 0===i?void 0:null===(n=i._preloads)||void 0===n?void 0:null===(e=n.pub)||void 0===e?void 0:e.google_tag_manager_token;if((null===(r=window)||void 0===r?void 0:null===(t=r._preloads)||void 0===t?void 0:null===(o=t.disabledCookies)||void 0===o?void 0:o.includes(a.ky.GA_TAG_MANAGER))||(null===(s=window)||void 0===s?void 0:null===(u=s._preloads)||void 0===u?void 0:null===(l=u.disabledCookies)||void 0===l?void 0:l.includes(a.YJ.GA_TAG_MANAGER))||!f||f===c())return;window.dataLayer=window.dataLayer||[],(0,d.default)("exempt_from_gtm_filter")?window.dataLayer.push({"gtm.allowlist":["customPixels","customScripts","google","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}):window.dataLayer.push({"gtm.allowlist":["google"],"gtm.blocklist":["customPixels","customScripts","html","nonGooglePixels","nonGoogleScripts","nonGoogleIframes","sandboxedScripts"]}),window.dataLayer.push({"gtm.start":new Date().getTime(),event:"gtm.js"});let g=p();(null===(v=g.user)||void 0===v?void 0:v.id)&&window.dataLayer.push({userId:g.user.id.toString()}),w("https://www.googletagmanager.com/gtm.js?id=".concat(f),{toHead:!0})}function p(){let e;return"undefined"!=typeof window&&(e=window._analyticsConfig),e||(e={}),e.properties||(e.properties={}),e.properties.browserSessionId=t.W,e}function f(e){var n,i,t,d,r,a,u,s;let w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("undefined"==typeof window)return;let c=p();(null===(n=c.user)||void 0===n?void 0:n.id)&&(w.user_id=c.user.id.toString()),(null===(i=window)||void 0===i?void 0:i.publisherGA4gtag)&&window.publisherGA4gtag("event",e,w),(null===(t=window)||void 0===t?void 0:t.dataLayer)&&(null===(a=window)||void 0===a?void 0:null===(r=a._preloads)||void 0===r?void 0:null===(d=r.pub)||void 0===d?void 0:d.google_tag_manager_token)&&(0,l.HD)({pub:null===(s=window)||void 0===s?void 0:null===(u=s._preloads)||void 0===u?void 0:u.pub})&&window.dataLayer.push((0,o._)({event:e},w))}function g(e,n){var i;"undefined"!=typeof window&&(null===(i=window)||void 0===i?void 0:i.gtag)&&window.gtag("event",e,n)}function m(e){var n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=p(),t=function(){let e="undefined"!=typeof window&&window._preloads&&window._preloads.pub&&window._preloads.pub.ga_pixel_id;return e&&e.startsWith("UA-")?null:e}();if(!t)return;let d=(0,s.m)(window.location.href);i=Object.assign({v:1,t:e,tid:t,cid:o.anonymousId,dl:document.location.origin+document.location.pathname+document.location.search,dt:document.title||"",dr:document.referrer||"",cn:d.utm_campaign,cs:d.utm_source,cm:d.utm_medium,ck:d.utm_term,cc:d.utm_content,ci:d.utm_id},i),(null===(n=o.user)||void 0===n?void 0:n.id)&&(i.uid=o.user.id.toString()),new Image().src="https://www.google-analytics.com/collect?".concat((0,u.Y$Q)(i))}function _(){var e,n,i,t,d,r,l;if("undefined"==typeof window||(null===(i=window)||void 0===i?void 0:null===(n=i._preloads)||void 0===n?void 0:null===(e=n.disabledCookies)||void 0===e?void 0:e.includes(a.ky.GA_TRACKING))||(null===(r=window)||void 0===r?void 0:null===(d=r._preloads)||void 0===d?void 0:null===(t=d.disabledCookies)||void 0===t?void 0:t.includes(a.YJ.GA_TRACKING)))return;let u=c();if(!u)return;window.GA4DataLayer=window.GA4DataLayer||[],window.publisherGA4gtag=function(){var e;null===(e=window.GA4DataLayer)||void 0===e||e.push(arguments)},window.publisherGA4gtag("js",new Date);let s=p();window.publisherGA4gtag("config",u,(0,o._)({send_page_view:!1},s.user&&{user_id:null==s?void 0:null===(l=s.user)||void 0===l?void 0:l.id.toString()}))}function h(){var e,n,i,o,t,d,r;if("undefined"==typeof window||(null===(i=window)||void 0===i?void 0:null===(n=i._preloads)||void 0===n?void 0:null===(e=n.disabledCookies)||void 0===e?void 0:e.includes(a.ky.GA_TRACKING))||(null===(d=window)||void 0===d?void 0:null===(t=d._preloads)||void 0===t?void 0:null===(o=t.disabledCookies)||void 0===o?void 0:o.includes(a.YJ.GA_TRACKING)))return;let l=p();(l.localGaPixelId||l.adwordsAccountId)&&(window.localGaDataLayer=window.localGaDataLayer||[],window.gtag=function(){var e,n;null===(n=window)||void 0===n||null===(e=n.localGaDataLayer)||void 0===e||e.push(arguments)},window.gtag("js",new Date),l.localGaPixelId&&window.gtag("config",l.localGaPixelId),l.adwordsAccountId&&window.gtag("config",l.adwordsAccountId),(null===(r=l.user)||void 0===r?void 0:r.id)&&window.gtag("userId",l.user.id.toString()),w("https://www.googletagmanager.com/gtag/js?id=".concat(l.localGaPixelId||l.adwordsAccountId,"&l=localGaDataLayer")))}function x(){return"undefined"!=typeof window&&window._preloads&&window._preloads.pub&&window._preloads.pub.fb_pixel_id}},64528:function(e,n,i){i.d(n,{N:()=>d});var o=i(16584),t=i(6400);let d=e=>{let{children:n,separator:i}=e,d=[],r=(0,t.toChildArray)(n);return r.forEach((e,n)=>{d.push(e),n!==r.length-1&&d.push(i)}),(0,o.tZ)(o.HY,{children:d})}}}]);