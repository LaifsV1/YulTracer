"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["7737"],{31190:function(e,t,r){r.d(t,{Z:()=>n});let n={closeWelcomeModal:"closeWelcomeModal-KVUfKQ",maybeLater:"maybeLater-PlK9NK",publicationCoverPhotoLeft:"publicationCoverPhotoLeft-txdH2G",publicationCoverPhotoRight:"publicationCoverPhotoRight-RHPl8T",largePublicationCoverPhotoRight:"largePublicationCoverPhotoRight-A77S35",column:"column-_rp_8U",largeColumn:"largeColumn-bqn6Me",centeredColumn:"centeredColumn-M8Fujf",largeCenteredColumn:"largeCenteredColumn-AfeswM",hideColumnSmallScreens:"hideColumnSmallScreens-rlLOgZ",hideLargeColumnSmallScreens:"hideLargeColumnSmallScreens-LQBTX8",publicationCoverPhotoCenter:"publicationCoverPhotoCenter-rMU5R1",publicationLogo:"publicationLogo-EWjoMq",coverPrimary:"coverPrimary-cGRhhL",coverSecondary:"coverSecondary-pfbfwO",blurbImage:"blurbImage-bS0Pkx",containerClassName:"containerClassName-iHFmrN",promptClassName:"promptClassName-fM9VHe",inputClassName:"inputClassName-v5NZvy",subscribeButtonClassName:"subscribeButtonClassName-wpxkEl",largeHeading:"largeHeading-ZEJJF0",largeSubHeading:"largeSubHeading-lGmUwg",largePromptClassName:"largePromptClassName-Uexj1F",largeInputWrapperClassName:"largeInputWrapperClassName-VqAUAb",largeInputClassName:"largeInputClassName-zCK22A",largeSubscribeButtonClassName:"largeSubscribeButtonClassName-gTO6Dt",postContainer:"postContainer-iqizM2",postTitle:"postTitle-uVmG1_",postSubtitle:"postSubtitle-sIac6Y",postImage:"postImage-nsvz_r",faces:"faces-igzFCe",face:"face-G_PpVO",first:"first-bCHdQ8",last:"last-GRcjMY",bigSubtitle:"bigSubtitle-o28Z4u",balancedText:"balancedText-oQ__Kv",tosLink:"tosLink-n6HoHl",blurbText:"blurbText-isJ4mY",tosText:"tosText-yAQHNw"}},68686:function(e,t,r){r.d(t,{Z:()=>n});let n={input:"input-y4v6N4",textarea:"textarea-GbEjRX",autogrowing:"autogrowing-_ipn9Y",inputText:"inputText-pV_yWb",inputWithButtonWrapper:"inputWithButtonWrapper-qFTACT",primary:"primary-MUgbK6",inputWithButtonInput:"inputWithButtonInput-KDznfS",start:"start-p226EZ",end:"end-LEvC6s",segmentedInputContainer:"segmentedInputContainer-BnsX3X",inputWithButtonButton:"inputWithButtonButton-SsgPne",focus:"focus-nqjos7",leading:"leading-hoxUwz",trailing:"trailing-cHz8Pv",error:"error-QSGsmD",disabled:"disabled-bZ2Wej",readOnly:"readOnly-yVYuPy",wrapper:"wrapper-JJvHsG",unstyled:"unstyled-IJLUJU"}},91925:function(e,t,r){r.d(t,{s:()=>l});var n=r(16584),a=r(4615);function l(e){let{children:t}=e;return(0,n.tZ)(a.f6,{theme:"coverTheme-PJLqY5",children:t})}},64343:function(e,t,r){r.d(t,{Z:()=>s});var n=r(7409),a=r(99282),l=r(16584),i=r(64515);let s=e=>(0,l.tZ)(i.l,(0,a._)((0,n._)({},e),{name:"RightArrowIcon",svgParams:{height:20,width:20},children:(0,l.tZ)("path",{d:"M7.5 15L12.5 10L7.5 5",strokeWidth:"1.5",strokeLinecap:"round","stroke-linejoin":"round"})}))},21312:function(e,t,r){r.d(t,{Z:()=>l});var n=r(16584),a=r(30396);function l(e){let{text:t,maxLines:r,ellipsesText:l="..."}=e,i=(0,a.sO)(null),[s,o]=(0,a.eJ)(t);return(0,a.d4)(()=>{(()=>{if(!i.current)return;i.current.innerText="-";let e=(i.current.clientHeight+1)*r+1,n=0,a=0,s=t.length;for(;n<=s;){if(a=Math.floor((n+s)/2),i.current.innerText=t.slice(0,a),a===t.length&&i.current.clientHeight<=e){i.current.innerText="",o(t);return}i.current.clientHeight<=e?n=a+1:s=a-1}let u=t.slice(0,a-l.length-2);i.current.innerText="",o(u+l)})()},[i,t,r,l]),(0,n.BX)("div",{style:{position:"relative"},children:[(0,n.tZ)("div",{children:s}),(0,n.tZ)("div",{ref:i,style:{visibility:"hidden",position:"absolute",width:"100%"}})]})}},15872:function(e,t,r){r.d(t,{W:()=>n});let n=(0,r(84864).randomString)()},7882:function(e,t,r){r.d(t,{Kt:()=>m,NL:()=>h,Wf:()=>p,ib:()=>b,x8:()=>d});var n=r(7409),a=r(99282),l=r(98848),i=r(28599),s=r.n(i),o=r(73955),u=r.n(o),_=r(98661),c=r(48980);function p(e,t){let{auto:i,initialResult:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[u,p]=(0,_.useState)({result:o||null,isLoading:!!i,hasLoadedOnce:!1,error:null,promise:null}),d=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{abortController:i=new(s())}=t,o=(0,l._)(t,["abortController"]);let u=e((0,a._)((0,n._)({},o),{signal:i.signal})).then(e=>{if(!i.signal.aborted)return p({isLoading:!1,hasLoadedOnce:!0,error:null,result:e,promise:null}),e},e=>{if(!i.signal.aborted)return Promise.all([r.e("7152"),r.e("6993")]).then(r.bind(r,91985)).then(t=>{var r,n;let{Sentry:a}=t,l=e instanceof c.kp?{message:e.getMessage(),url:null===(r=e.url)||void 0===r?void 0:r.toString(),body:e.body}:{message:"There was an error fetching a resource"},i=e instanceof c.kp?{pathname:null===(n=e.url)||void 0===n?void 0:n.pathname}:{};a.captureException(e,{extra:l,tags:i})}),p(t=>(0,a._)((0,n._)({},t),{isLoading:!1,error:e,result:null,promise:null})),e});return p(e=>(0,a._)((0,n._)({},e),{isLoading:!0,error:null,promise:u})),u};return(0,_.useEffect)(()=>{if(i){let e=new(s());return d({abortController:e}),()=>{e.abort()}}},t||[]),(0,a._)((0,n._)({},u),{refetch:d,setResult:e=>{p(t=>(0,a._)((0,n._)({},t),{error:null,result:e,isLoading:!1,promise:null}))},clearError:()=>{p((0,a._)((0,n._)({},u),{error:null}))}})}function d(e,t){switch(t.type){case"page_reset":var r;if(null===(r=t.payload)||void 0===r?void 0:r.merge)return e.slice(0,1);return[{isLoading:!0,error:null,result:null}];case"page_start":{let r=e.slice(),{page:l,id:i,merge:s}=t.payload,o={result:null,id:i,isLoading:!0,error:null};return r[l]=s?(0,a._)((0,n._)({},o,r[l]),{id:i}):o,r}case"page_load":{let{id:r,result:l}=t.payload;return e.map(e=>e.id===r?(0,a._)((0,n._)({},e),{isLoading:!1,result:l,error:null}):e)}case"page_error":{let{id:r,error:l}=t.payload;return e.map(e=>e.id===r?(0,a._)((0,n._)({},e),{isLoading:!1,result:null,error:l}):e)}}return e}let g=new Map;function b(e){var{pathname:t,auto:r,initialResult:i,deps:s,cacheTtl:o}=e,u=(0,l._)(e,["pathname","auto","initialResult","deps","cacheTtl"]);let _=p(e=>{var{pathname:r}=e,a=(0,l._)(e,["pathname"]);if(!t)throw Error("useFetch requires a pathname");if(o){let e=g.get(t);if(e){let{ts:t,ttl:r,promise:n}=e;if(t+r>Date.now())return n}}let i=(0,c.rd)(null!=r?r:t,(0,n._)({},u,a));return o&&g.set(t,{ts:Date.now(),ttl:o,promise:i}),i},s||[],{auto:r,initialResult:i});return(0,a._)((0,n._)({},_),{setResult:e=>{t&&o&&g.set(t,{ts:Date.now(),ttl:o,promise:Promise.resolve(e)}),_.setResult(e)}})}function h(e){var{pathname:t,auto:r,initialResult:i,deps:o,getPageInit:p,pages:g,dispatch:b}=e,h=(0,l._)(e,["pathname","auto","initialResult","deps","getPageInit","pages","dispatch"]);return function(e,t){var r;let{auto:i,initialResult:o,pages:c,dispatch:p}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[g,b]=(0,_.useReducer)(d,[{result:o||null,isLoading:!!i,error:null}],void 0),h=null!=c?c:g,m=null!=p?p:b,E=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{abortController:r=new(s()),page:a=h.length,merge:i=!1,options:o}=t,_=(0,l._)(t,["abortController","page","merge","options"]);let c=h[a-1],p=u()();return m({type:"page_start",payload:{page:a,id:p,merge:i}}),e({options:(0,n._)({},o,_),signal:r.signal,page:a,lastPage:c}).then(e=>{if(!r.signal.aborted)return m({type:"page_load",payload:{page:a,id:p,result:e}}),e},e=>{if(!r.signal.aborted)return m({type:"page_error",payload:{page:a,id:p,error:e}}),e})},A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var{merge:t=!1}=e,r=(0,l._)(e,["merge"]);return m({type:"page_reset",payload:{merge:t}}),E((0,a._)((0,n._)({},r),{page:0,merge:t}))};(0,_.useEffect)(()=>{if(i){let e=new(s());return A({abortController:e}),()=>{e.abort()}}},t||[]);let T=!1,I=async()=>{if(!T){let e=h[h.length-1];if(!e.isLoading&&!e.error)return T=!0,await E()}},C=h[h.length-1];return{pages:h,page:h.length,lastPage:C,fetchMore:I,canFetchMore:C&&!C.isLoading&&!C.error,fetchFirstPage:A,hasLoadedOnce:!!(null===(r=h[0])||void 0===r?void 0:r.result)}}(e=>{let{page:r,lastPage:a,options:l}=e;if(!t)throw Error("useFetch requires a pathname");let i=p({init:(0,n._)({},h,l),page:r,lastPage:a});return(0,c.rd)(t,i)},o||[],{auto:r,initialResult:i,pages:g,dispatch:b})}function m(e,t,r){let n=(0,_.useRef)(null);return(0,_.useCallback)(function(){for(var r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];clearTimeout(n.current),n.current=setTimeout(()=>e(...a),t)},r)}},31742:function(e,t,r){r.d(t,{Ic:()=>i,YJ:()=>o,js:()=>a,ky:()=>s,pt:()=>l});var n=r(7409);let a={SUBSTACK:"substack",PUBLISHER:"publisher"},l={NECESSARY:"Necessary",PERFORMANCE:"Performance",FUNCTIONALITY:"Functionality"},i={ANONYMOUS_ID:"ajs_anonymous_id",AB_TESTING_ID:"ab_testing_id",AB_EXPERIMENT_SAMPLED:"ab_experiment_sampled",LIKELY_LOGGED_IN:"substack.lli",VISIT_ID:"visit_id",HIDE_COOKIE_BANNER:"hideCookieBanner",INTRO_POPUP_LAST_HIDDEN_AT:"intro_popup_last_hidden_at",LIKE_UPSELL_LAST_SHOWN_AT:"like_upsell_last_shown_at",CHATBOT_TERMS_LAST_ACCEPTED_AT:"chatbot_terms_last_accepted_at",SESSION_SID:"substack.sid",CUSTOM_DOMAIN_SESSION_SID:"connect.sid",DISABLE_HTML_PIXELS:"disable_html_pixels",DISABLE_EXPERIMENTS:"disable_experiments",COOKIE_STORAGE_KEY:"cookie_storage_key",PREFERRED_LANGUAGE:"preferred_language",OAUTH_INTERACTION:"substack.oauth_interaction",OAUTH_SESSION:"substack.oauth_session",OAUTH_RESUME:"substack.oauth_resume"},s=(0,n._)({GA_TRACKING:"_ga_tracking-substack",GA_TAG_MANAGER:"_ga_tag_manager-substack",AD_QUICK_TRACKING_PIXEL:"ad_quick_tracking_pixel-substack",META_TRACKING_PIXEL:"meta_tracking_pixel-substack",EXPERIMENTS:"experiments-substack",AWSALB:"AWSALB-substack",MUX_DATA:"muxData-substack",DATADOG_S:"_dd_s-substack",CF_CLEARENCE:"cf_clearance-substack",CF_BM:"__cf_bm-substack",FULLSTORY_UID:"fs_uid-substack",ZENDESK_ID:"__zlcmid-substack"},i),o={GA_TRACKING:"_ga_tracking-publisher",GA_TAG_MANAGER:"_ga_tag_manager-publisher",FB_PIXEL:"fb_pixel-publisher",TWITTER_PIXEL:"twitter_pixel-publisher",PARSELY_PIXEL:"parsely_pixel-publisher"};s.FULLSTORY_UID,s.GA_TRACKING,s.GA_TAG_MANAGER,o.GA_TRACKING,o.GA_TAG_MANAGER,o.PARSELY_PIXEL,o.TWITTER_PIXEL,o.FB_PIXEL,s.DATADOG_S,s.AD_QUICK_TRACKING_PIXEL,i.AB_TESTING_ID,i.ANONYMOUS_ID,i.VISIT_ID,s.EXPERIMENTS,(0,n._)({},s,o)}}]);