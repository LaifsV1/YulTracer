"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["2516"],{87900:function(e,t,i){i.d(t,{Z:()=>m});var n=i(7409),o=i(99282),a=i(16584),r=i(6400),l=i(68833),s=i(59176),d=i(98914),c=i(60308),u=i(26111);let h="domain-redirect-time";class m extends r.Component{componentDidMount(){let e=this.loadedWithLikelyLoggedInParam()?"param":null;e&&!this.shouldBlockLoginRedirect()?this.attemptLoginRedirect({source:e}):this.useIframe()&&window.addEventListener("message",e=>this.handleFrameMessage(e)),(0,d.iO)("triedSigningIn")}shouldBlockLoginRedirect(){var e;let t=parseInt((0,s.mM)(h,0));return this.state.block_auto_login||!(null===(e=this.state.pub)||void 0===e?void 0:e.custom_domain)||this.state.user||"undefined"==typeof window||Date.now()-t<=864e5||this.state.triedSigningIn}handleFrameMessage(e){var t,i,n;if((null===(t=e.data)||void 0===t?void 0:t.type)!=="frame-state")return;let o=!this.shouldBlockLoginRedirect()&&(null===(i=e.data)||void 0===i?void 0:i.loggedInAtSubstack);(0,l.j)(l.FP.FRAME_MESSAGE_HANDLED,{loggedInAtSubstack:null===(n=e.data)||void 0===n?void 0:n.loggedInAtSubstack,loggedInAtCustomDomain:!!this.state.user,attemptRedirect:o}),o&&this.attemptLoginRedirect({source:"cookie"})}attemptLoginRedirect(){var e;let{source:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.j)(l.FP.CUSTOM_DOMAIN_LOGIN_REDIRECT_ATTEMPTED,{fromParam:"param"===t,source:t}),(0,s.ex)(h,"".concat(Date.now()));let i=(0,c.YZ5)({useOriginalUrl:!0});this.props.initialData.hide_intro_popup&&(i=(0,c.rhs)(i,{hide_intro_popup:!0})),location.href=(0,c.uXE)({for_pub:null===(e=this.state.pub)||void 0===e?void 0:e.subdomain,justTrying:!0,redirect:i})}loadedWithLikelyLoggedInParam(){return"undefined"!=typeof window&&window._preloads.original_url&&!!(0,u.x)(window._preloads.original_url,"lli")}useIframe(){var e,t,i;return!("undefined"==typeof window||this.loadedWithLikelyLoggedInParam()||!(null===(e=this.state.pub)||void 0===e?void 0:e.custom_domain)||(0,c.fF3)(null===(i=window)||void 0===i?void 0:null===(t=i.location)||void 0===t?void 0:t.href))}render(){return this.useIframe()?(0,a.tZ)("iframe",{src:"".concat((0,c.ZJn)(),"/channel-frame"),className:"channel-frame",width:"0",height:"0"}):null}constructor(e,t){super(e,t),this.state=(0,o._)((0,n._)({},e.initialData),{triedSigningIn:(0,u.x)("triedSigningIn")})}}},44471:function(e,t,i){i.d(t,{m$:()=>g});var n,o,a=i(7409),r=i(99282),l=i(16584),s=i(6400);i(98661);var d=i(30396),c=i(48980);let u="undefined"!=typeof window&&null!==(o=null===(n=window._preloads)||void 0===n?void 0:n.publicationUserSettings)&&void 0!==o?o:{},h=e=>({getSettingForPubUser:t=>{if(!t||!e)return null;let i=e[t];return void 0===i?null:i}}),m=(0,s.createContext)((0,r._)((0,a._)({},h(u)),{changeUserSetting:()=>Promise.resolve(void 0)}));function g(e){let{preloadPubUserSettings:t={},children:i}=e,[n,o]=(0,d.eJ)(t),s=(0,d.I4)(async(e,t)=>{o(i=>(0,r._)((0,a._)({},i),{[e]:t}));try{await (0,c.rd)("/api/v1/publication_user_settings/user",{method:"PUT",json:{type:e,value:t}})}catch(e){console.error(e)}},[o]),u=(0,d.Ye)(()=>(0,r._)((0,a._)({},h(n)),{changeUserSetting:s}),[n,s]);return(0,l.tZ)(m.Provider,{value:u,children:i})}m.displayName="PublicationUserSettingsContext"},49762:function(e,t,i){i.d(t,{SiteConfigGate:()=>l,default:()=>r,getConfigFor:()=>a});var n=i(16584),o=i(40647);function a(e){var t;if(!e||"undefined"==typeof window||!(null===(t=window._preloads)||void 0===t?void 0:t.siteConfigs))return null;let i=window._preloads.siteConfigs[e];return void 0===i?null:i}let r=a;function l(e){let{configKey:t,children:i,value:a=!0}=e;return(0,o.xR)().getConfigFor(t)==a?(0,n.tZ)(n.HY,{children:i}):null}},98248:function(e,t,i){i.d(t,{$j:()=>h,Hl:()=>g,jv:()=>m});var n=i(7409),o=i(99282),a=i(98848),r=i(16584),l=i(94184),s=i.n(l);i(98661),i(71068);var d=i(19081),c=i(49391);let u={14:2,20:2.5,24:2,32:1.5,40:1.25},h=e=>{var{size:t=24,theme:i="default",className:l}=e,h=(0,a._)(e,["size","theme","className"]);let m=u[t]||2;return(0,r.tZ)(d.hs,(0,o._)((0,n._)({padding:16,className:s()(c.Z.spinner,c.Z["theme_".concat(i)],l)},h),{children:(0,r.BX)("svg",{width:t,height:t,viewBox:"0 0 24 24",vectorEffect:"non-scaling-stroke",children:[(0,r.tZ)("circle",{className:c.Z.bg,cx:12,cy:12,r:11,strokeWidth:m,fill:"none",stroke:"var(--color-utility-detail)"}),(0,r.tZ)("circle",{className:c.Z.fg,cx:12,cy:12,r:11,strokeWidth:m,fill:"none"})]})}))},m=e=>{var{size:t=24,theme:i="default",className:l}=e,u=(0,a._)(e,["size","theme","className"]);let h=Array.from({length:10},(e,t)=>"".concat(36*t," 12 12")).join(";");return(0,r.tZ)(d.hs,(0,o._)((0,n._)({padding:16,className:s()(c.Z.thinker,c.Z["theme_".concat(i)],l)},u),{children:(0,r.tZ)("svg",{width:t,height:t,viewBox:"0 0 24 24",children:(0,r.BX)("g",{children:[Array.from({length:10}).map((e,t)=>(0,r.tZ)("rect",{x:"11",y:"1",width:2,height:6,rx:"1",ry:"1",opacity:(t+1)/10,transform:"rotate(".concat(36*t," 12 12)")},t)),(0,r.tZ)("animateTransform",{attributeName:"transform",type:"rotate",calcMode:"discrete",dur:"0.5s",values:h,repeatCount:"indefinite"})]})})}))},g=e=>{var{size:t=24,theme:i="default",className:l,percent:h}=e,m=(0,a._)(e,["size","theme","className","percent"]);let g=u[t]||2;return(0,r.tZ)(d.hs,(0,o._)((0,n._)({padding:16,className:s()(c.Z.radialProgress,c.Z["theme_".concat(i)],l),style:{"--percent":"".concat(h)}},m),{children:(0,r.BX)("svg",{width:t,height:t,viewBox:"0 0 24 24","vector-effect":"non-scaling-stroke",children:[(0,r.tZ)("circle",{className:c.Z.bg,cx:12,cy:12,r:11,strokeWidth:g,fill:"none",stroke:"var(--color-utility-detail)"}),(0,r.tZ)("circle",{className:c.Z.fg,cx:12,cy:12,r:11,strokeWidth:g,fill:"none"})]})}))}},58175:function(e,t,i){i.d(t,{et:()=>Z,hh:()=>S,xv:()=>g});var n=i(7409),o=i(99282),a=i(98848),r=i(16584),l=i(94184),s=i.n(l),d=i(98661),c=i(95441),u=i(5435),h=i(71068),m=i(23648);let g=e=>{var{className:t,align:i,size:l,weight:d,transform:g}=e,f=(0,a._)(e,["className","align","size","weight","transform"]);f=(0,o._)((0,n._)({},f),{textAlign:null!=i?i:f.textAlign,textTransform:null!=g?g:f.textTransform,fontSize:null!=l?l:f.fontSize,fontWeight:null!=d?d:f.fontWeight});let{iString:p,language:_}=(0,c.M1)(),v=f.children;if(f.translated&&"en"!==_){let e=[],t=[],i=(0,u.Fb)(f.children,e,t),n=p(i,...t);if(n&&n!==i)try{v=(0,u.rl)(n,e)}catch(e){console.log("Could not translate ".concat(i),e)}}return(0,r.tZ)(h.xu,(0,o._)((0,n._)({className:s()(m.Z.reset,t)},f),{children:v}))};function f(e){var{className:t,displayName:i}=e,l=(0,a._)(e,["className","displayName"]);let c=(0,d.forwardRef)((e,i)=>{var{className:d}=e,c=(0,a._)(e,["className"]);return(0,r.tZ)(g,(0,o._)((0,n._)({},l,c),{ref:i,className:s()(t,d)}))});return c.displayName=i,c}let p=f({as:"h1",font:"display",size:36,weight:"bold",lineHeight:44}),_=f({as:"h2",font:"display",size:30,lineHeight:36,weight:"bold"}),v=f({as:"h3",font:"display",size:24,lineHeight:28,weight:"bold"}),w=f({as:"h4",font:"display",size:20,lineHeight:24,weight:"bold"}),y=f({font:"text",size:19,lineHeight:26,weight:"regular"}),k=f({font:"text",fontSize:17,lineHeight:24,fontWeight:"regular"}),Z={font:"text",fontSize:15,lineHeight:20,fontWeight:"regular"},N=f(Z),x=f({font:"text",fontSize:13,lineHeight:20,fontWeight:"regular"}),b=f({font:"text",size:11,lineHeight:20,weight:"regular"}),H=f((0,o._)((0,n._)({},{font:"meta",fontSize:11,lineHeight:20,fontWeight:"medium",textTransform:"uppercase",color:"secondary"}),{className:m.Z.meta})),M=f({font:"digit",size:12,lineHeight:20,weight:"bold",transform:"uppercase",className:m.Z.digit}),S=f({as:"a",decoration:"hover-underline"});f({as:"span"});let C=f({font:"text",color:"primary",className:m.Z.marketingBody}),z=f({as:"h1",weight:"regular",className:m.Z.marketingHeading1}),I=f({as:"h2",weight:"medium",className:m.Z.marketingHeading2}),B=f({as:"h3",weight:"medium",className:m.Z.marketingHeading3}),L=f({as:"h4",weight:"medium",className:m.Z.marketingHeading4}),A=f({as:"h5",weight:"bold",className:m.Z.marketingHeading5}),P=f({as:"h4",weight:"regular",textAlign:"center",className:m.Z.marketingQuote}),T=f({as:"h4",size:30,weight:"regular",className:m.Z.marketingSubtitle});g.H1=p,g.H2=_,g.H3=v,g.H4=w,g.B1=y,g.B2=k,g.B3=N,g.B4=x,g.B5=b,g.Meta=H,g.Digit=M,g.MarketingBody=C,g.MarketingHeading1=z,g.MarketingHeading2=I,g.MarketingHeading3=B,g.MarketingHeading4=L,g.MarketingHeading5=A,g.MarketingQuote=P,g.MarketingSubtitle=T},39276:function(e,t,i){i.d(t,{A:()=>n});let n=(0,i(71068).zo)({display:"contents"},"a")},86458:function(e,t,i){i(84864)},31582:function(e,t,i){i.d(t,{$e:()=>n,vq:()=>o}),i(18029),i(98012),i(84864);let n=(e,t)=>{let i;if(t&&t!==e.currency){var n,o,a;if(!(null===(n=e.currency_options)||void 0===n?void 0:n[t]))return;i=null!==(a=null===(o=e.currency_options[t])||void 0===o?void 0:o.unit_amount)&&void 0!==a?a:null}else i="object"in e&&"price"===e.object?e.unit_amount:e.amount;return null!=i?i:0},o=(e,t)=>{var i;return t&&t!==e.currency?null===(i=e.metadata.minimum_local)||void 0===i?void 0:i[t]:e.metadata.minimum}},18967:function(e,t,i){i.d(t,{E4:()=>o,ML:()=>a});var n,o=((n={}).CompOneMonth="comp_one_month",n.CompThreeMonths="comp_three_months",n.CompSixMonths="comp_six_months",n.CompNineMonths="comp_nine_months",n.CompTwelveMonths="comp_twelve_months",n.Custom="custom",n);let a={comp_one_month:"1 month comp",comp_three_months:"3 month comp",comp_six_months:"6 month comp",comp_nine_months:"9 month comp",comp_twelve_months:"12 month comp",custom:"Custom"}}}]);