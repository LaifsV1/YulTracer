"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["3018"],{45537:function(e,t,n){n.d(t,{Z:()=>i});let i={webContainer:"webContainer-IIk356",container:"container-hh54mh",emailWrapper:"emailWrapper-NhzydE",text:"text-Fj8WVT",title:"title-RBoKZn",button:"button-hAEuwt"}},18427:function(e,t,n){n.d(t,{Z:()=>i});let i={container:"container-sfnj9V",emailWrapper:"emailWrapper-qwz6NP"}},35144:function(){},11085:function(e,t,n){n.d(t,{Z:()=>i});let i={cardBlack:"cardBlack-dn8aTu",cardGreen:"cardGreen-BvacOd",secondaryText:"secondaryText-Kde6jh",valueSmall:"valueSmall-XtHNnD",valueBig:"valueBig-wmUc5E",sparkle1:"sparkle1-RUNGBp",sparkle2:"sparkle2-mQOtay",sparkle3:"sparkle3-We1mnM"}},81567:function(e,t,n){n.d(t,{Z:()=>i});let i={imageGallery:"imageGallery-npMLlr",static:"static-he6Urp",canEdit:"canEdit-MxZtx8",editGalleryWrap:"editGalleryWrap-GFPuXa",editGallery:"editGallery-Z5jDW6",imageCaption:"imageCaption-iHC8xR",image:"image-IE_pDY",zoom:"zoom-YdDT6p",imageRow:"imageRow-_Y6x8T","length-2":"length-2-inHdHY",length2:"length-2-inHdHY",inbox:"inbox-uLXwi5",imageGalleryWrap:"imageGalleryWrap-ICPFaM",imageWrap:"imageWrap-egM10V",small:"small-AA4Dt8",medium:"medium-ZeIdEU"}},60520:function(e,t,n){n.d(t,{Z:()=>i});let i={latexWrapper:"latexWrapper-xXiahu",latexEdit:"latexEdit-CT7sNA",emptyStateWrapper:"emptyStateWrapper-SwgxAc"}},4291:function(e,t,n){n.d(t,{Z:()=>i});let i={pubTheme:"pubTheme-yiXxQA"}},87857:function(e,t,n){n.d(t,{Z:()=>i});let i={container:"container-xiJVit"}},82021:function(e,t,n){n.d(t,{Z:()=>i});let i={containerElevated:"containerElevated-R4qz8n",containerInline:"containerInline-L_YjpZ",videoTrimmerWrapper:"videoTrimmerWrapper-m8Tcry",videoTrimmerSlider:"videoTrimmerSlider-RWqSeS",videoTrimmerSliderVisible:"videoTrimmerSliderVisible-kDKdSk",durationContainer:"durationContainer-h05YYe",captionsAvailable:"captionsAvailable-C8g24C",captionsNotAvailable:"captionsNotAvailable-gazpbB"}},8525:function(e,t,n){n.d(t,{Z:()=>i});let i={modalTitle:"modalTitle-uFJ1Ep",qrCode:"qrCode-zZoQdZ",appBadge:"appBadge-Vbgl8S",phoneInput:"phoneInput-PdUisS",noGrow:"noGrow-lP58Da"}},71075:function(e,t,n){n.d(t,{Z:()=>i});let i={digestPostEmbed:"digestPostEmbed-flwiST",menu:"menu-juA09f",caption:"caption-QiPycG",captionEditor:"captionEditor-bK4vPR",smSquare:"smSquare-NGbPBa",mdSquare:"mdSquare-pPKPYa",fullWidth:"fullWidth-Ta6aEE",inheritColor:"inheritColor-WetTGJ",link:"link-HREYZo",disableLink:"disableLink-tkz2Oq"}},57747:function(e,t,n){n.d(t,{Z:()=>i});let i={mediaNodeView:"mediaNodeView-e5SnLi","align-left":"align-left-zBTRM0",alignLeft:"align-left-zBTRM0","align-center":"align-center-GLlHHY",alignCenter:"align-center-GLlHHY","align-right":"align-right-b0iEsr",alignRight:"align-right-b0iEsr",staticView:"staticView-rMg88c",staticImageWrap:"staticImageWrap-zeAxjE",left:"left-Pmbfny",right:"right-jUl_lm",imageContainer:"imageContainer-BFwwV8",large:"large-zd0XRW",full:"full-B7kzBg",caption:"caption-hKmpHN",placeholder:"placeholder-HWtRBz",static:"static-oTq1ez",inlineCaptionEditor:"inlineCaptionEditor-kbzlrs",horizontalResizeHandle:"horizontalResizeHandle-nC_iub",mediaControlButtons:"mediaControlButtons-lqBkgd",active:"active-jfe8JH",mediaControlTextEditor:"mediaControlTextEditor-oFhu3a",hasCaption:"hasCaption-A8cBUm",zoom:"zoom-zeAR_Z",pointer:"pointer-Hr6Xl2"}},24718:function(e,t,n){n.d(t,{Z:()=>i});let i={presentedBy:"presentedBy-B4Sz3Y",image:"image-JHUk8w",emailWrapper:"emailWrapper-LqRu0S",presentedByEmail:"presentedByEmail-OfmHXh",editorBorder:"editorBorder-I0g0rz",editorHelperText:"editorHelperText-PWUmEI",docContentWrapper:"docContentWrapper-gAF4Ud",docContentWrapperEmail:"docContentWrapperEmail-CAWEeY"}},66033:function(e,t,n){n.d(t,{Z:()=>i});let i={button:"button-ultxpw",buttonDisabled:"buttonDisabled-Uxc4ZD","button-justify-content-start":"button-justify-content-start-X35nBJ",buttonJustifyContentStart:"button-justify-content-start-X35nBJ","button-size-lg":"button-size-lg-mFsNs8",buttonSizeLg:"button-size-lg-mFsNs8","button-size-md":"button-size-md-J2SsUW",buttonSizeMd:"button-size-md-J2SsUW","button-size-sm":"button-size-sm-M_QSNF",buttonSizeSm:"button-size-sm-M_QSNF","button-variant-primary":"button-variant-primary-XjvZp5",buttonVariantPrimary:"button-variant-primary-XjvZp5","button-variant-primary-accent":"button-variant-primary-accent-YDCMgj",buttonVariantPrimaryAccent:"button-variant-primary-accent-YDCMgj","button-variant-tertiary":"button-variant-tertiary-TX9xVJ",buttonVariantTertiary:"button-variant-tertiary-TX9xVJ","button-variant-inverse":"button-variant-inverse-e7GG60",buttonVariantInverse:"button-variant-inverse-e7GG60","button-variant-outline":"button-variant-outline-sYoYJU",buttonVariantOutline:"button-variant-outline-sYoYJU","button-variant-outline-accent":"button-variant-outline-accent-EBL9Rj",buttonVariantOutlineAccent:"button-variant-outline-accent-EBL9Rj","button-as-link":"button-as-link-Cr7op3",buttonAsLink:"button-as-link-Cr7op3","button-variant-accordion":"button-variant-accordion-qRdmQc",buttonVariantAccordion:"button-variant-accordion-qRdmQc"}},4777:function(e,t,n){n.d(t,{Z:()=>i});let i={container:"container-s8tYit","preset-h1-sans":"preset-h1-sans-Qop2bo",presetH1Sans:"preset-h1-sans-Qop2bo","preset-h1-serif":"preset-h1-serif-QyYae8",presetH1Serif:"preset-h1-serif-QyYae8","preset-h1-text":"preset-h1-text-Xj6FhR",presetH1Text:"preset-h1-text-Xj6FhR","preset-h2-serif":"preset-h2-serif-IuXvG0",presetH2Serif:"preset-h2-serif-IuXvG0","preset-h3-compressed":"preset-h3-compressed-dB9FAX",presetH3Compressed:"preset-h3-compressed-dB9FAX","preset-h3-condensed":"preset-h3-condensed-kGahdt",presetH3Condensed:"preset-h3-condensed-kGahdt","preset-h4-sans-condensed":"preset-h4-sans-condensed-Reqd8Y",presetH4SansCondensed:"preset-h4-sans-condensed-Reqd8Y","preset-h4-sans-regular":"preset-h4-sans-regular-S6R6pb",presetH4SansRegular:"preset-h4-sans-regular-S6R6pb","preset-h4-sans-regular-menu":"preset-h4-sans-regular-menu-RuwXXd",presetH4SansRegularMenu:"preset-h4-sans-regular-menu-RuwXXd","preset-h4-serif":"preset-h4-serif-sMtXaD",presetH4Serif:"preset-h4-serif-sMtXaD","preset-h5-sans":"preset-h5-sans-oGxgjp",presetH5Sans:"preset-h5-sans-oGxgjp","preset-h5-serif":"preset-h5-serif-mY7BSm",presetH5Serif:"preset-h5-serif-mY7BSm","preset-h6-sans":"preset-h6-sans-Gi2FdE",presetH6Sans:"preset-h6-sans-Gi2FdE","preset-h6-serif":"preset-h6-serif-NHX2Ix",presetH6Serif:"preset-h6-serif-NHX2Ix","preset-h7-serif":"preset-h7-serif-qxcjrB",presetH7Serif:"preset-h7-serif-qxcjrB","preset-h7-sans":"preset-h7-sans-bXgWg2",presetH7Sans:"preset-h7-sans-bXgWg2","preset-d1-sans-regular":"preset-d1-sans-regular-HmsiTa",presetD1SansRegular:"preset-d1-sans-regular-HmsiTa","preset-d1-sans-medium":"preset-d1-sans-medium-qccA4g",presetD1SansMedium:"preset-d1-sans-medium-qccA4g","preset-d1-serif":"preset-d1-serif-eNQpMA",presetD1Serif:"preset-d1-serif-eNQpMA","preset-d2-serif":"preset-d2-serif-Zt3T9I",presetD2Serif:"preset-d2-serif-Zt3T9I","preset-d3-serif":"preset-d3-serif-RnjX7h",presetD3Serif:"preset-d3-serif-RnjX7h","preset-d3-serif-bold":"preset-d3-serif-bold-IdUurP",presetD3SerifBold:"preset-d3-serif-bold-IdUurP","preset-d4-serif":"preset-d4-serif-SEAETp",presetD4Serif:"preset-d4-serif-SEAETp","preset-d4-serif-bold":"preset-d4-serif-bold-HsJN25",presetD4SerifBold:"preset-d4-serif-bold-HsJN25","preset-st1":"preset-st1-O4T2tk",presetSt1:"preset-st1-O4T2tk","preset-st2":"preset-st2-XavWyr",presetSt2:"preset-st2-XavWyr","preset-st3":"preset-st3-mae929",presetSt3:"preset-st3-mae929","preset-st4":"preset-st4-nrV6E9",presetSt4:"preset-st4-nrV6E9","preset-body":"preset-body-JzLL5Q",presetBody:"preset-body-JzLL5Q","preset-body-link":"preset-body-link-V8UQqw",presetBodyLink:"preset-body-link-V8UQqw","preset-detail-large":"preset-detail-large-s2MDYG",presetDetailLarge:"preset-detail-large-s2MDYG","preset-detail-small":"preset-detail-small-mk1EbE",presetDetailSmall:"preset-detail-small-mk1EbE","preset-pullquote":"preset-pullquote-jlelFS",presetPullquote:"preset-pullquote-jlelFS","preset-article-byline":"preset-article-byline-YLd430",presetArticleByline:"preset-article-byline-YLd430","preset-timestamp":"preset-timestamp-JIzgHn",presetTimestamp:"preset-timestamp-JIzgHn","preset-caption":"preset-caption-U1Uztw",presetCaption:"preset-caption-U1Uztw","preset-misc-sans":"preset-misc-sans-y4snTd",presetMiscSans:"preset-misc-sans-y4snTd","preset-sm-preview-byline":"preset-sm-preview-byline-W4hKcb",presetSmPreviewByline:"preset-sm-preview-byline-W4hKcb","preset-lg-preview-byline":"preset-lg-preview-byline-dy8tib",presetLgPreviewByline:"preset-lg-preview-byline-dy8tib","preset-list-item-menu":"preset-list-item-menu-EiM1Es",presetListItemMenu:"preset-list-item-menu-EiM1Es","align-left":"align-left-kbuSQE",alignLeft:"align-left-kbuSQE","align-center":"align-center-UWtlhT",alignCenter:"align-center-UWtlhT","align-right":"align-right-onO3hJ",alignRight:"align-right-onO3hJ","wrap-pretty":"wrap-pretty-ejTmFK",wrapPretty:"wrap-pretty-ejTmFK","wrap-balance":"wrap-balance-jmGdbe",wrapBalance:"wrap-balance-jmGdbe",clamp:"clamp-Vi5QjU","clamp-1":"clamp-1-OfiQ1V",clamp1:"clamp-1-OfiQ1V","clamp-2":"clamp-2-_Mb9Jj",clamp2:"clamp-2-_Mb9Jj","clamp-3":"clamp-3-jYPWgo",clamp3:"clamp-3-jYPWgo","clamp-4":"clamp-4-qoVcAB",clamp4:"clamp-4-qoVcAB","clamp-5":"clamp-5-rto_2V",clamp5:"clamp-5-rto_2V","clamp-6":"clamp-6-tHjoiW",clamp6:"clamp-6-tHjoiW","color-accent":"color-accent-ACVlDT",colorAccent:"color-accent-ACVlDT","color-primary":"color-primary-NaQ4Ae",colorPrimary:"color-primary-NaQ4Ae","color-white":"color-white-MlYGuP",colorWhite:"color-white-MlYGuP","color-blue":"color-blue-MQGY4t",colorBlue:"color-blue-MQGY4t","color-tertiary":"color-tertiary-mHRDyo",colorTertiary:"color-tertiary-mHRDyo","color-disabled":"color-disabled-gVbtOK",colorDisabled:"color-disabled-gVbtOK","white-space-nowrap":"white-space-nowrap-oTjHiF",whiteSpaceNowrap:"white-space-nowrap-oTjHiF"}},67312:function(e,t,n){n.d(t,{Z:()=>i});let i={buttonContainer:"buttonContainer-tH3LP9"}},12811:function(e,t,n){n.d(t,{Z:()=>i});let i={verticalMenuLabel:"verticalMenuLabel-vDULBF"}},22777:function(e,t,n){n.d(t,{Z:()=>i});let i={verticalMenu:"verticalMenu-iEWUZS",customThumbnailInput:"customThumbnailInput-XO3HWP",placeholder:"placeholder-VDJ0cC",loadingPlaceholder:"loadingPlaceholder-PycMQg",videoPlaceholder:"videoPlaceholder-z7fCRh",thumbnailPicture:"thumbnailPicture-sSZ1qk",videoEditorMenu:"videoEditorMenu-PM9LlQ",verticalMenuLabel:"verticalMenuLabel-lDnMVg",clipIcon:"clipIcon-bRPUgg"}},96085:function(e,t,n){n.d(t,{Z:()=>i});let i={videoEditorEmbed:"videoEditorEmbed-YEDZay",videoUploaderEmbed:"videoUploaderEmbed-nDin41",videoUploaderProgressEmbed:"videoUploaderProgressEmbed-WeUy9l",videoUploaderProgressHero:"videoUploaderProgressHero-GSgd0q",videoPortal:"videoPortal-J4jgUG",contextMenu:"contextMenu-YJ0GMi",uploadThumbnailButton:"uploadThumbnailButton-mlBfUX",updatingThumbnailLoader:"updatingThumbnailLoader-TIJ3Re",resumingVideoUploadAlert:"resumingVideoUploadAlert-WC3zea",topLabels:"topLabels-Od3jRz",topLabel:"topLabel-x6LVGU"}},24750:function(){},54888:function(e,t,n){n.d(t,{Z:()=>i});let i={ufiContainer:"ufiContainer-LU0_2M",buttonContainer:"buttonContainer-xv9qhQ",button:"button-RzzGHK",icon:"icon-Eo432M",count:"count-hQZHkH",hidden:"hidden-UUUxXN",like:"like-IrcdrZ",active:"active-R2L4nI",heart:"heart-CVM02Z",clickedOnce:"clickedOnce-OWrgAu",isLiked:"isLiked-wLecwK","heart-bounce":"heart-bounce-Lo7g_9",heartBounce:"heart-bounce-Lo7g_9",spark:"spark-Lg1gFb","spark-burst":"spark-burst-g6xVlj",sparkBurst:"spark-burst-g6xVlj",restack:"restack-bjXABC",isRestacked:"isRestacked-UViDCR",restackIcon:"restackIcon-BPrd9M","restack-spin":"restack-spin-XskJfD",restackSpin:"restack-spin-XskJfD",heartWrapper:"heartWrapper-xJzNVs",sparks:"sparks-p7Vzbk"}},20063:function(e,t,n){n.d(t,{Z:()=>i});let i={livePill:"livePill-wNMCye"}},50475:function(e,t,n){n.d(t,{Z:()=>i});let i={input:"input-ZGrgg4"}},54991:function(e,t,n){n.d(t,{Z:()=>i});let i={avatar:"avatar-LanjdX",badge:"badge-Uvjr_O",container:"container-t1XakO",header:"header-MPtCPc",emailButton:"emailButton-TJW1DY",cta:"cta-htyRl8"}},52434:function(e,t,n){n.d(t,{Z:()=>i});let i={value:"value-MNKe0r"}},52503:function(e,t,n){n.d(t,{Z:()=>i});let i={kbd:"kbd-PuF2B0"}},36827:function(e,t,n){n.d(t,{Z:()=>i});let i={searchInput:"searchInput-fUS3Nw"}},53501:function(e,t,n){n.d(t,{Z:()=>i});let i={input:"input-AalwWx",error:"error-Feisn0",textarea:"textarea-Y7xHxw","font-text":"font-text-O992pd",fontText:"font-text-O992pd","font-monospace":"font-monospace-lad5nM",fontMonospace:"font-monospace-lad5nM"}},12517:function(e,t,n){n.d(t,{Z:()=>i});let i={container:"container-ODcHQE",containerMultiply:"containerMultiply-l6GUkC",containerAnimated:"containerAnimated-jVAZvQ","silhouette-scroll":"silhouette-scroll-zaCEVB",silhouetteScroll:"silhouette-scroll-zaCEVB"}},87089:function(e,t,n){n.d(t,{Z:()=>i});let i={pill:"pill-KqexDs",pillSelected:"pillSelected-ngbq5t"}},5749:function(e,t,n){n.d(t,{Z:()=>i});let i={variables:"variables-fH4ag7",containsAppPrompt:"containsAppPrompt-UMsmqt",isHidden:"isHidden-vzcyV0",page:"page-aOaH_e",miniInboxItem:"miniInboxItem-qLFrMG",newItems:"newItems-twwRBA",facepile:"facepile-BvssMQ",face:"face-P6q4PH",tabIcon:"tabIcon-KkbGZ1",feedItem:"feedItem-ONDKv3",feedUnit:"feedUnit-NTpfyQ",showThreadGutter:"showThreadGutter-X3iYha",hasAvatar:"hasAvatar-XDSVUi",hasAction:"hasAction-pgoBA3",seeMoreFade:"seeMoreFade-xP5n8v",feedPermalinkUnit:"feedPermalinkUnit-JBJrHa",permalinkHeader:"permalinkHeader-bQJTnJ",seeMoreReplies:"seeMoreReplies-K4uhty",seeMoreThread:"seeMoreThread-KEnEyq",seeMoreThreadSegment:"seeMoreThreadSegment-_Apecq",top:"top-zb_BJC",hasContext:"hasContext-_DCyNJ",replyUnit:"replyUnit-tO0ejm",youtube:"youtube-AgNZc0",tiktok:"tiktok-x4gDkP",spotify:"spotify-cCmxPs",appleMusic:"appleMusic-OezLQy",soundcloud:"soundcloud-p1bsAU",youtubeIframe:"youtubeIframe-kP47yC",tiktokIframe:"tiktokIframe-izo_uk",feedCommentBody:"feedCommentBody-UWho7S",feedCommentBodyInner:"feedCommentBodyInner-AOzMIC",smallPreview:"smallPreview-dZMrxO",underlineLink:"underlineLink-RuIQrC",disabled:"disabled-W2Bv0n",peopleYouMayKnowContainer:"peopleYouMayKnowContainer-A79AYm",peopleYouMayKnow:"peopleYouMayKnow-GCnR1N",seeMore:"seeMore-D88zkH",seeMoreText:"seeMoreText-Y5A1El",postAttachment:"postAttachment-eYV3fM",saveButton:"saveButton-BUhk5Q",commentContainer:"commentContainer-kpPRBB",vibrantHeader:"vibrantHeader-We3FVb",postImage:"postImage-L4FlO9",vibrantPostImage:"vibrantPostImage-TTXyOq",linkImage:"linkImage-i4xmRa",linkImagePlaceholder:"linkImagePlaceholder-zpM5qk",actionRow:"actionRow-T4wXed",moreButtonContainer:"moreButtonContainer-zdayXV",moreButton:"moreButton-EXZOW4",shortPostText:"shortPostText-HTEthL",large:"large-xah3K0",stat:"stat-Q5QJPb",reportModal:"reportModal-LypavT",likeButton:"likeButton-R3Kfso",heartWrapper:"heartWrapper-PXEHho",heart:"heart-oifoWn",active:"active-c0Nov_",clickedOnce:"clickedOnce-CLj8DV",isLiked:"isLiked-iBpLIp","heart-bounce":"heart-bounce-_VxmXZ",heartBounce:"heart-bounce-_VxmXZ",spark:"spark-Jja6Nt","spark-burst":"spark-burst-qrrWP7",sparkBurst:"spark-burst-qrrWP7",sparks:"sparks-KOlXwI",ripple:"ripple-DknUjK",vibrant:"vibrant-Ys_KyG",saved:"saved-BzlEct",videoThumbnailImage:"videoThumbnailImage-GeQb7o",feedStatsGrid:"feedStatsGrid-lsizQ6",inlineLinkRow:"inlineLinkRow-b2tbOE",transparentLoginPrompt:"transparentLoginPrompt-sD3O95",appPrompt:"appPrompt-gZ1qj_",asParent:"asParent-gmw3iy"}},73015:function(e,t,n){n.d(t,{Z:()=>i});let i={controlsCentered:"controlsCentered-TEIxxh",track:"track-pNMNGn"}},64830:function(e,t,n){n.d(t,{Z:()=>i});let i={"container--dialog":"container--dialog-IFBVqS",containerDialog:"container--dialog-IFBVqS","container--overlay":"container--overlay-NodljG",containerOverlay:"container--overlay-NodljG","container--animated":"container--animated-lBR5nE",containerAnimated:"container--animated-lBR5nE","container--animated-in":"container--animated-in-AmGha2",containerAnimatedIn:"container--animated-in-AmGha2","icon-container":"icon-container-XN2D7I",iconContainer:"icon-container-XN2D7I","content-top":"content-top-eM6ECM",contentTop:"content-top-eM6ECM","content-bottom":"content-bottom-VxiZOP",contentBottom:"content-bottom-VxiZOP",icon:"icon-k4eGDx",inlineIconContainer:"inlineIconContainer-fljw1h","restart-button":"restart-button-XCv0DP",restartButton:"restart-button-XCv0DP"}},66861:function(e,t,n){n.d(t,{Z:()=>i});let i={playButton:"playButton-VfYy0S",playButtonIcon:"playButtonIcon-iVd8T6",videoIcon:"videoIcon-pEKkgy",pauseIconBar:"pauseIconBar-fixY8H",pauseIcon:"pauseIcon-bgib4b",videoPauseIconBar:"videoPauseIconBar-boRJoC",audioWaveform:"audioWaveform-K3CCe7",voiceAmplitude:"voiceAmplitude-Hp8N5A"}},73798:function(e,t,n){n.d(t,{Z:()=>i});let i={bottomControlsContainer:"bottomControlsContainer-kx5Iet",bottomInnerControlsContainer:"bottomInnerControlsContainer-nA_qdP",backDrop:"backDrop-OMzeTr",captionsContainer:"captionsContainer-sSAb5L",centerControlsContainer:"centerControlsContainer-CKUlUi",settingsControlsContainer:"settingsControlsContainer-V3A25d",settingsControlsBox:"settingsControlsBox-svKH2p",topOverlaysContainer:"topOverlaysContainer-xo1FwD",bottomOverControlsContainer:"bottomOverControlsContainer-FnhEyj",castStatus:"castStatus-Gq0e5M",spinner:"spinner-iKxsfj"}},20080:function(e,t,n){n.d(t,{Z:()=>i});let i={volumeBarContainer:"volumeBarContainer-AVLNVa",volumeBar:"volumeBar-N1rUCF",mainContainer:"mainContainer-_32N5B",volumeLevel:"volumeLevel-VDMLnw"}},19925:function(e,t,n){n.d(t,{A:()=>o});var i=n(16584),r=n(55679),a=n(62049);let o=e=>{let{node:t}=e,{attrs:n}=t;return(0,i.tZ)(r.T5,{children:(0,i.tZ)(a.V,{postId:n.postId})})}},21793:function(e,t,n){n.d(t,{h:()=>m});var i=n(58865),r=n(16584),a=n(63623),o=n(95441),l=n(94874),s=n(19081),d=n(38841),c=n(58175),u=n(11085);function p(){let e=(0,i._)(["","-Month Paid Pass"]);return p=function(){return e},e}function h(){let e=(0,i._)(["","-Day Paid Pass"]);return h=function(){return e},e}function m(e){let{pub:t,variant:n="avatar",isStatic:i=!1,days:m,gifter:g,value:v}=e,{iString:f,iTemplate:C}=(0,o.M1)();return(0,r.BX)(s.gq,{className:"avatar"===n?u.Z.cardBlack:u.Z.cardGreen,justifyContent:"center",radius:"lg",children:[(0,r.BX)(s.tu,{alignItems:"center",justifyContent:"center",gap:16,children:["cashappcore"===n?(0,r.tZ)(c.xv,{className:u.Z.valueBig,color:"white",font:"display",children:v}):i?(0,r.tZ)(d.CN,{pub:t,size:100,format:"png"}):(null==g?void 0:g.photo_url)?(0,r.tZ)(l.qE,{user:g,size:100}):(0,r.tZ)(d.wk,{pub:t,size:100}),(0,r.BX)(s.tu,{alignItems:"center",gap:4,paddingX:8,children:[(0,r.tZ)(c.xv.H3,{color:"white",weight:"heavy",align:"center",children:t.name}),(0,r.tZ)(c.xv.B3,{className:u.Z.secondaryText,children:m?m%30==0?C(p(),m/30):C(h(),m):f("Free Guest Pass")})]})]}),"avatar"===n&&v&&(0,r.tZ)(c.xv.H4,{className:u.Z.valueSmall,weight:"medium",children:v}),(0,r.tZ)(a.Z,{className:u.Z.sparkle1,size:33,strokeWidth:0}),(0,r.tZ)(a.Z,{className:u.Z.sparkle2,size:27,strokeWidth:0}),(0,r.tZ)(a.Z,{className:u.Z.sparkle3,size:20,strokeWidth:0})]})}},52244:function(e,t,n){n.d(t,{v:()=>p});var i=n(16584),r=n(55679),a=n(19242),o=n(70843),l=n(95441),s=n(19081),d=n(58175),c=n(87077);let u="icon-goBaOg",p=e=>{let{}=e,{iString:t}=(0,l.M1)(),n=t("This may be a temporary error, please refresh the page to try again.");return(0,i.tZ)(r.T5,{children:(0,i.BX)(s.tu,{alignItems:"center",justifyContent:"center",className:"container-njkc6x",children:[(0,i.tZ)(a.Z,{className:u}),(0,i.BX)(s.gq,{alignItems:"center",gap:4,children:[(0,i.tZ)(d.xv.Meta,{translated:!0,color:"accent",children:"Image not found"}),(0,i.tZ)(c.u,{text:n,children:(0,i.tZ)(o.Z,{size:12,className:u})})]})]})})}},81138:function(e,t,n){n.d(t,{t:()=>o});var i=n(16584),r=n(55679),a=n(22582);let o=e=>{let{node:t,editor:n}=e;return(0,i.tZ)(r.T5,{className:"image-gallery-embed","data-drag-handle":"",children:(0,i.tZ)(a.hJ,{node:t,editor:n})})}},3880:function(e,t,n){n.d(t,{E:()=>m,i:()=>f});var i=n(16584),r=n(30396),a=n(94184),o=n.n(a),l=n(24202),s=n(20888),d=n(27625),c=n(19081),u=n(58175),p=n(91400),h=n(54796);function m(e){let{className:t,assets:n,readOnly:a,isRestack:s,isPreview:d,isDm:u,onClick:p,aspect:m,maxWidth:v,maxHeight:f,children:C,isContained:w,outline:Z,isPermalink:b}=e,y=(0,l.dz)(n),k=y;y.length>6&&(k=k.slice(0,6));let[A,_]=(0,r.eJ)(null),x=(e,t)=>{e.preventDefault(),_({index:t})};return(0,i.BX)(c.hs,{className:o()(h.Z.imageGrid,h.Z["size-".concat(Math.min(y.length,6))],u&&h.Z.dm,d&&h.Z.preview,w&&h.Z.contained,b&&h.Z.permalink,s&&h.Z.restack,t),gap:4,radius:"md",overflow:"hidden",children:[k.map((e,t)=>{let{src:n,explicit:r,width:o,height:l,id:s}=e,d=y.length-(t+1);return(0,i.tZ)(g,{asset:n,explicit:r,total:y.length,readOnly:a,aspect:m,width:o,height:l,numRemaining:t+1===6&&d>0?d:void 0,maxWidth:v,maxHeight:f,outline:w||1!==y.length?Z:"detail",onClick:a?void 0:e=>{e.defaultPrevented||(e.preventDefault(),p&&p({attachmentId:s,attachmentType:"image"}),x(e,t))},children:C},n)}),!a&&(0,i.tZ)(l.$9,{assets:y,imageViewer:A,setImageViewer:_,readOnly:a})]})}function g(e){let t,n,r,a,{asset:o,explicit:s,onClick:d,total:c,numRemaining:u,readOnly:m,aspect:g,width:f,height:C,outline:w="none",maxWidth:Z=500,maxHeight:b=420,children:y}=e,k=(0,p.XA)();null!=f&&null!=C&&(f/=2,C/=2,t=Math.round(null!=Z?Math.min(f,Z):f),n=Math.round(C/f*t),1===c&&(t>Z?(a=Math.round(n*Z/t),r=Z):(r=t,a=n),b&&a>b&&(r=Math.round(r*b/a),a=b),k&&(a="auto")));let A=(0,i.BX)(i.HY,{children:[y,u&&(0,i.tZ)(v,{count:u})]});return(0,i.tZ)(l.Z4,{asset:o,explicit:s,onClick:d,readOnly:m,width:r,height:a,maxWidth:r,className:h.Z.gridImage,imageProps:{aspect:g||(1===c?"":"1:1"),smartCrop:1!==c},outline:w,flex:"grow",radius:"sm",style:{"--aspect-ratio":"".concat(t," / ").concat(n)},children:A})}function v(e){let{count:t}=e;return(0,i.tZ)(c.hs,{className:h.Z.imageCountOverlay,position:"absolute",justifyContent:"center",alignItems:"center",inset:0,children:(0,i.BX)(u.xv.B1,{color:"vibrance-primary",weight:"medium",children:["+",t]})})}function f(e){let{className:t,assets:n}=e,r=(0,l.dz)(n),a=r;r.length>4&&(a=a.slice(0,4));let s=(0,l.iv)(r),{onShow:u}=(0,d.Sl)(s);return(0,i.BX)(c.hs,{className:o()(h.Z.imageGridThumbnail,h.Z["size-".concat(Math.min(r.length,4))],t),gap:2,width:72,height:72,radius:"md",overflow:"hidden",sizing:"border-box",border:"detail",position:"relative",flex:"auto",children:[a.map(e=>{let{src:t}=e;return(0,i.tZ)(C,{asset:t,size:72},t)}),s&&(0,i.tZ)(d.HU,{onShow:u})]})}function C(e){let{asset:t,size:n=64}=e;return(0,i.tZ)(c.hs,{className:h.Z.thumbnailImage,bg:"secondary",overflow:"hidden",children:(0,i.tZ)(s.e,{src:t,maxWidth:n,useRetinaSizing:!0,imageIsFixedWidth:!0,imageProps:{aspect:"1:1",smartCrop:!0},width:n,height:n,loading:"lazy",ignorePicture:!0})})}},2563:function(e,t,n){n.r(t),n.d(t,{ImageViewerContents:()=>w,ImageViewerModal:()=>C});var i=n(16584),r=n(30396),a=n(94184),o=n.n(a),l=n(2564),s=n(56743),d=n(71375),c=n(71212);n(98661);var u=n(98914),p=n(15771),h=n(19081),m=n(6490),g=n(98248),v=n(60308);let f={chrome:"chrome-_LLvs8",inactive:"inactive-_Lk_xA",modalImageButtonContainer:"modalImageButtonContainer-gaFoGh",modalImageSidebar:"modalImageSidebar-WtdDRF",imgContainer:"imgContainer-_cFpip",img:"img-nwpk1x",isLoading:"isLoading-siuKfF"};function C(e){let{showModal:t,modalContent:n,onClose:r,step:a,includeDownloadButton:o=!0}=e;return(0,i.tZ)(m.u_,{isOpen:t,onClose:r,position:"full",children:(0,i.tZ)(w,{modalContent:n,onClose:r,stepDefault:a,includeDownloadButton:o})})}function w(e){let{modalContent:t=[],onClose:n,stepDefault:a,includeDownloadButton:p}=e,[h,m]=(0,r.eJ)(a),[C,w]=(0,r.eJ)(!0),b=(0,u.K1)(),y=e=>{e.currentTarget===e.target&&n()},[k,A]=(0,r.eJ)(!1);(0,r.d4)(()=>{if(!b){let e;let t=e=>{let{key:t}=e;["ArrowRight","ArrowDown"].includes(t)?(x(),e.stopPropagation()):["ArrowLeft","ArrowUp"].includes(t)&&(_(),e.stopPropagation())},n=n=>{(null==n?void 0:n.type)==="keydown"&&t(n),clearTimeout(e),A(!1),e=setTimeout(()=>{A(!0)},2e3)};return window.addEventListener("pointermove",n,{capture:!0,passive:!0}),window.addEventListener("pointerdown",n,{capture:!0,passive:!0}),window.addEventListener("keydown",n,{capture:!0,passive:!0}),n(),()=>{clearTimeout(e),window.removeEventListener("pointermove",n,{capture:!0}),window.removeEventListener("pointerdown",n,{capture:!0}),window.removeEventListener("keydown",n,{capture:!0})}}},[b,h]);let _=()=>{0!==h&&(m(h-1),w(!0))},x=()=>{h!==t.length-1&&(m(h+1),w(!0))},{attrs:{src:E,alt:I,title:B}}=t[h];(0,r.d4)(()=>{if(!C){var e;let n=null===(e=t[h+1])||void 0===e?void 0:e.attrs.src;n&&(new Image().src=(0,v.zF4)(n,void 0,{quality:"auto:good"}))}},[h,C]);let T=b?8:16;return(0,i.BX)(i.HY,{children:[(0,i.BX)("div",{className:o()(f.chrome,k&&f.inactive),children:[h<t.length-1&&(0,i.tZ)(Z,{buttonFunction:x,style:{right:0,padding:T},isSidebar:!0,icon:(0,i.tZ)(l.Z,{size:20,strokeWidth:2})}),h>0&&(0,i.tZ)(Z,{buttonFunction:_,style:{left:0,padding:T},isSidebar:!0,icon:(0,i.tZ)(s.Z,{size:20,strokeWidth:2})}),(0,i.tZ)(Z,{buttonFunction:n,style:{position:"absolute",right:T,top:T},isSidebar:!1,icon:(0,i.tZ)(d.Z,{size:20})}),p&&(0,i.tZ)(Z,{buttonFunction:e=>{e.stopPropagation(),function(e,t){let n=document.createElement("a");document.body.appendChild(n),n.href=t,n.target="_blank",n.click(),document.body.removeChild(n)}(0,E)},style:{position:"absolute",left:T,top:T},isSidebar:!1,icon:(0,i.tZ)(c.Z,{size:20})})]}),(0,i.tZ)("div",{className:f.imgContainer,onClick:y,children:(0,i.tZ)("img",{className:o()(f.img,C&&f.isLoading),onLoad:()=>{w(!1)},alt:null!=I?I:void 0,title:null!=B?B:void 0,src:(0,v.zF4)(E,void 0,{quality:"auto:good"}),onClick:y},E)}),C&&(0,i.tZ)("div",{style:{position:"absolute",top:"50%",left:"50%"},children:(0,i.tZ)(g.$j,{})})]})}function Z(e){let{buttonFunction:t,style:n,isSidebar:r,icon:a,tetherRef:l}=e;return(0,i.tZ)(h.hs,{className:o()(f.modalImageButtonContainer,r?f.modalImageSidebar:null),style:n,alignItems:"center",justifyContent:"center",onClick:t,ref:l,children:(0,i.tZ)(p.GI,{priority:"secondary",rounded:!0,children:a})})}},40297:function(e,t,n){n.d(t,{RF:()=>g,AM:()=>m,wb:()=>v});var i=n(16584);n(6400);var r=n(30396),a=n(94184),o=n.n(a),l=n(74691),s=n.n(l),d=n(61649),c=n(19081),u=n(98248),p=n(93370);let h={timeline:"timeline-WDyd1C",railContainer:"railContainer-W63jgB",rail:"rail-LM6nrG",draggable:"draggable-XUqwr1",draggableLeft:"draggableLeft-MDthpn",draggableRight:"draggableRight-LVVwsd",tooltip:"tooltip-ceWgga",visible:"visible-Y2jC2J",hidden:"hidden-G_OmGT",playback:"playback-UIgSL0",nonSelectable:"nonSelectable-SHHRwG",tick:"tick-RKB6b5",lgTick:"lgTick-iLU6yS",smTick:"smTick-ED2tnj",currentTick:"currentTick-xH7tpT",selection:"selection-m8n06y",selectionFadeLeft:"selectionFadeLeft-rID4fZ",selectionFadeRight:"selectionFadeRight-iIPOWk",handle:"handle-prO_Ky",storyboard:"storyboard-xsBzUl",ticks:"ticks-EA7bBQ",handles:"handles-waTdni",shadow:"shadow-wpFmkU",shadowContainer:"shadowContainer-JsGn6N"},m=e=>{let{videoElement:t,start:n,setStart:a,end:o,setEnd:l,storyboard:s,maxDuration:p,minDuration:m,maxTimelineDuration:g=360,minTimelineDuration:v=360,looping:C,zoom:w,setZoom:Z}=e,[b,y]=(0,r.eJ)(!1),[k,A]=(0,r.eJ)(0),[_,x]=(0,r.eJ)(Math.max(0,n-d.Zl)),[E,I]=(0,r.eJ)(0),[B,T]=(0,r.eJ)(0),L=(0,r.sO)(0),[S,M]=(0,r.eJ)({isDragging:!1,element:void 0});return(0,r.d4)(()=>{let e=()=>{if(t){A(t.duration);let e=[360,t.duration];g&&e.push(g),I(Math.min(...e))}};return t&&t.addEventListener("loadedmetadata",e),(null==t?void 0:t.duration)&&e(),()=>{t&&t.removeEventListener("loadedmetadata",e)}},[g,t]),(0,r.d4)(()=>{let e=()=>{t&&T(t.currentTime)};if(t)return t.addEventListener("timeupdate",e),()=>{t.removeEventListener("timeupdate",e)}},[t]),(0,r.d4)(()=>{if(!b)return;let e=Math.abs(B-L.current);if(L.current=B,e<1){C&&t&&!S.isDragging&&(B>o||B<n)&&(t.currentTime=n);return}if(!S.isDragging&&(B>E||B<_)){let e=E-_,t=Math.min(B,k-e);x(t),I(t+e)}},[B,b]),(0,r.d4)(()=>{if(!k||S.isDragging)return;if(n>_&&o<E){y(!0);return}let e=o-n,t=Math.min(k,o+e);x(Math.max(0,n-e)),I(t);let i=(0,d.MZ)(e);(!w||i<w)&&Z(i),y(!0)},[n,o,k]),(0,r.d4)(()=>{if(!b)return;let e=E-_,t=(0,d.AO)(w),i=isNaN(e)||e<d.Zl?.5:(n-_)/e,r=_+i*e,a=r-i*t,o=r+(1-i)*t,l=a,s=o;a<0?s=Math.min(k,(l=0)+t):o>k&&(l=Math.max(0,(s=k)-t)),(!g||!(s-l>g))&&(!v||!(s-l<v))&&(I(s),x(l))},[w,g,v,k,b]),(0,i.tZ)("div",{className:h.timeline,children:k>0?(0,i.tZ)(f,{startTimeline:_,setStartTimeline:x,endTimeline:E,setEndTimeline:I,startPosition:n,setStartPosition:e=>{if(m&&e+m>=o){a(o-m);return}if(p&&e+p<=o){a(o-p);return}a(e)},endPosition:o,setEndPosition:e=>{if(m&&e-m<=n){l(n+m);return}if(p&&e-p>=n){l(n+p);return}l(e)},setPosition:(e,t)=>{a(e),l(t)},playerPosition:B,setPlayback:e=>{t&&(t.currentTime=e)},duration:k,onDragging:e=>{M(e)},storyboard:s}):(0,i.tZ)(c.gq,{alignItems:"center",justifyContent:"center",children:(0,i.tZ)(u.$j,{})})})},g=e=>{let{storyboard:t,imageUrl:n,x:r,y:a,displayWidth:o,displayHeight:l,className:s}=e,d=(r?r/t.tile_width:0)*o,c=(a?a/t.tile_height:0)*l,u={width:"".concat(o,"px"),height:"".concat(l,"px"),backgroundImage:"url(".concat(n,")"),backgroundPosition:"-".concat(d,"px -").concat(c,"px"),backgroundSize:"500%"};return(0,i.tZ)("div",{className:s,style:u})};function v(e,t){return e.reduce((e,n)=>Math.abs(n.start-t)<Math.abs(e.start-t)?n:e)}let f=e=>{let{startTimeline:t,setStartTimeline:n,endTimeline:a,setEndTimeline:l,startPosition:d,setStartPosition:u,endPosition:m,setEndPosition:f,setPosition:Z,playerPosition:b,setPlayback:y,duration:k,storyboard:A,onDragging:_}=e,x=(0,r.sO)(null),E=(0,r.sO)(null),I=(0,r.sO)(m-d),B=(0,r.sO)(null),[T,L]=(0,r.eJ)({isDragging:!1,element:void 0}),S=a-t,M=(0,r.Ye)(()=>m-d,[m,d]),N=d-t,P=m-t,D=b-t,R=t<1,O=1>Math.abs(a-k),X=(0,r.Ye)(()=>N/S*100,[S,N]),j=(0,r.Ye)(()=>P/S*100,[P,S]),z=(0,r.Ye)(()=>D/S*100,[D,S]),U="linear-gradient(to right, \n    rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.5) calc(".concat(X,"% - 6px), \n    rgba(0,0,0,0) calc(").concat(X,"% - 6px), rgba(0,0,0,0) calc(").concat(j,"% + 6px), \n    rgba(0,0,0,0.5) calc(").concat(j,"% + 6px), rgba(0,0,0,0.5) 100%)"),H=(0,r.I4)(e=>{u(Math.max(0,e/100*S+t))},[S,u,t]),F=(0,r.I4)(e=>{f(Math.min(k,e/100*S+t))},[k,S,f,t]);(0,r.d4)(()=>{_(T)},[T]);let W=()=>{document.addEventListener("selectstart",q)},V=()=>{document.removeEventListener("selectstart",q)},q=e=>{e.preventDefault(),e.stopPropagation()},Y=()=>{setTimeout(()=>{L({isDragging:!1,element:void 0})},300),E.current=null,B.current=null,V(),document.removeEventListener("mousemove",J),document.removeEventListener("mouseup",Y),document.removeEventListener("pointerup",Y)},J=e=>{if(null===E.current)return;let i=e.clientX-E.current;if(L({isDragging:!0,element:"interval"}),!x.current)return;let r=i/x.current.getBoundingClientRect().width*S,o=d+r,s=o+I.current;B.current?o<0?(Z(0,I.current),n(0)):s>k?(Z(k-I.current,k),l(k)):Z(o,s):t-r>0&&a-r<=k&&(n(Math.max(0,t-r)),l(Math.min(k,a-r)))};return(0,i.tZ)("div",{className:h.railContainer,children:(0,i.BX)("div",{className:h.rail,ref:x,onMouseDown:e=>{if(!x.current)return;W(),E.current=e.clientX,I.current=m-d;let t=x.current.getBoundingClientRect().left,n=(e.clientX-t)/x.current.getBoundingClientRect().width*100,i=n>=X&&n<=j;B.current=i,document.addEventListener("mousemove",J),document.addEventListener("mouseup",Y),document.addEventListener("pointerup",Y)},onClick:e=>{if(e.stopPropagation(),e.preventDefault(),T.isDragging||!x.current)return;E.current=e.clientX,I.current=m-d;let n=x.current.getBoundingClientRect().left,i=(e.clientX-n)/x.current.getBoundingClientRect().width*100,r=i>=X&&i<=j,a=t+i/100*S;if(r)y(a);else{let e=s()(a,0,k-I.current),t=e+I.current;Z(e,t)}},children:[(()=>{var e,n;if(!A)return null;let r=null!==(n=null==x?void 0:null===(e=x.current)||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==n?n:0;if(0===r)return null;let o=(function(e,t,n){let i=[],r=Math.floor(e/n)*n,a=Math.ceil(t/n)*n;for(let e=r;e<=a;e+=n)i.push(e);return i})(t,a,S/r*(60*(A.tile_width/A.tile_height))).map(e=>({time:e,tile:v(A.tiles,e)}));return(0,i.tZ)(c.gq,{className:h.storyboard,children:o.map((e,n)=>{let{time:r,tile:a}=e,o=(r-t)/S*100;return(0,i.tZ)("div",{style:{position:"absolute",left:"calc(".concat(o,"% + 6px)")},children:(0,i.tZ)(g,{storyboard:A,imageUrl:A.url,displayHeight:60,displayWidth:A.tile_width/A.tile_height*60,x:a.x,y:a.y},"".concat(a.x,"-").concat(a.y,"-").concat(n))})})})})(),(0,i.tZ)("div",{className:h.nonSelectable,style:{background:U,position:"absolute",top:0,bottom:0,left:0,right:0}}),(0,i.BX)("div",{className:o()(h.handles,h.nonSelectable),children:[(0,i.tZ)("div",{className:h.selection,style:{left:"calc(".concat(X,"% - 6px)"),width:"calc(".concat(j-X,"% + 12px)")}}),!R&&(0,i.tZ)("div",{className:h.selectionFadeLeft}),!O&&(0,i.tZ)("div",{className:h.selectionFadeRight})]}),(0,i.tZ)(w,{divRef:x,startTimeline:t,railDuration:a-t,active:!T.isDragging}),(0,i.BX)("div",{className:h.handles,children:[(0,i.tZ)(C,{className:"".concat(h.draggable," ").concat(h.draggableLeft),railRef:x,label:(0,p.DL)(null!=M?M:0,!0),position:X,maxPosition:j,setPosition:H,isDragging:"start"===T.element,setIsDragging:e=>e?L({isDragging:!0,element:"start"}):L({isDragging:!1,element:void 0})}),(0,i.tZ)(C,{className:"".concat(h.draggable," ").concat(h.draggableRight),railRef:x,label:(0,p.DL)(null!=M?M:0,!0),position:j,minPosition:X,setPosition:F,isDragging:"end"===T.element,setIsDragging:e=>e?L({isDragging:!0,element:"end"}):L({isDragging:!1,element:void 0})}),(0,i.tZ)(C,{className:h.playback,railRef:x,label:(0,p.DL)(M,!0),position:z,isDragging:T.isDragging,disabled:!0})]})]})})};h.lgTick,h.lgTick,h.smTick,h.smTick;let C=e=>{let{railRef:t,position:n,disabled:a,setPosition:o,label:l,maxPosition:s,minPosition:d,className:c,onDragStart:u,onDragEnd:p,showIcon:m=!0,setIsDragging:g}=e,v=(0,r.sO)(null),[f,C]=(0,r.eJ)(!1),w=()=>{document.addEventListener("selectstart",b)},Z=()=>{document.removeEventListener("selectstart",b)},b=e=>{e.preventDefault(),e.stopPropagation()},y=()=>{setTimeout(()=>{null==g||g(!1)},0),C(!1),Z(),document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",y),document.removeEventListener("pointerup",y),p&&p()},k=e=>{if(null==g||g(!0),!t.current||!v.current)return;let n=t.current.getBoundingClientRect().left,i=t.current.getBoundingClientRect().width,r=(e.clientX-n)/i*100;o&&(void 0!==s&&void 0!==d?o(Math.min(s,Math.max(d,r))):void 0!==s?o(Math.min(s,r)):void 0!==d?o(Math.max(d,r)):o(r))};return(0,i.BX)("div",{className:c,ref:v,style:{left:"".concat(n,"%")},onMouseDown:e=>{!a&&(null==g||g(!1),e.stopPropagation(),C(!0),w(),document.addEventListener("mousemove",k),document.addEventListener("mouseup",y),document.addEventListener("pointerup",y),u&&u())},children:[m&&(0,i.tZ)("div",{className:h.handle}),(0,i.tZ)("div",{className:"".concat(h.tooltip," ").concat(f?h.visible:h.hidden," ").concat(h.nonSelectable),children:l})]})},w=e=>{let{divRef:t,startTimeline:n,railDuration:a,active:l}=e,[s,d]=(0,r.eJ)(null),[c,u]=(0,r.eJ)(!1),m=e=>{if(t.current){let i=t.current.getBoundingClientRect(),{left:r,width:o}=i,l=e.clientX-r;d({x:e.clientX-i.left,time:n+l/o*100/100*a})}},g=()=>u(!0),v=()=>u(!1);return((0,r.d4)(()=>(t.current&&(t.current.addEventListener("mousemove",m),t.current.addEventListener("mouseenter",g),t.current.addEventListener("mouseleave",v)),()=>{t.current&&(t.current.removeEventListener("mousemove",m),t.current.removeEventListener("mouseenter",g),t.current.removeEventListener("mouseleave",v))}),[n,a]),l&&s&&c)?(0,i.BX)("div",{className:o()(h.shadowContainer,h.nonSelectable),style:{left:s.x},children:[(0,i.tZ)("div",{className:h.shadow}),(0,i.tZ)("div",{className:o()(h.tooltip,h.mouseTracker),children:(0,p.DL)(s.time,!0)})]}):null}},89241:function(e,t,n){n.d(t,{g:()=>_});var i=n(16584),r=n(30396),a=n(94184),o=n.n(a),l=n(7654),s=n.n(l),d=n(23493),c=n.n(d),u=n(80569),p=n.n(u),h=n(7409),m=n(75697),g=n(68833),v=n(19081),f=n(43681);let C=e=>{let{clipEnd:t,clipStart:n,post:r,pub:a}=e,o={t:n.toFixed(1),d:(t-n).toFixed(1)},l={variant:"icon",url:(0,m.O1)(null,{post:r,pub:a,useCustomDomainOverOpen:!0,params:o}),onLinkClicked:e=>{(0,g.j)(g.FP.SHARE_LINK_CLICKED,(0,h._)({is_clip:!0,type:e,post_id:r.id},o)),(0,g.j)(g.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"share_to_".concat(e),source:"video clipper"})}},s=(0,f.LM)(l),d=(0,f.oy)(l),c=(0,f.gY)(l),u=(0,f.Wh)(l),p=(0,f.kB)(l);return(0,i.BX)(v.gq,{alignItems:"center",gap:16,children:[s,c,d,u,p]})};var w=n(61649),Z=n(33804),b=n(40297),y=n(95441),k=n(15771),A=n(82021);function _(e){var t,n,a;let{hideBottomControls:l,initialEnd:d,initialStart:u,isInline:h,videoPlayerRef:m,videoUpload:g,post:f,pub:_,onCancel:x,onSubmit:E,onSubmitLabel:I,minClipDuration:B=1,maxClipDuration:T=Number.MAX_VALUE,minTimelineDuration:L=0,maxTimelineDuration:S=Number.MAX_VALUE}=e,{clipTimes:M,setClipEnd:N,setClipStart:P,zoom:D,setZoom:R}=(0,w.Sr)(),{start:O,end:X}=null!=M?M:{start:null!=u?u:0,end:null!=d?d:Math.min(w.ss,null!==(a=null==g?void 0:g.duration)&&void 0!==a?a:w.ss)};(0,r.d4)(()=>{setTimeout(()=>{var e,t;!M&&(null==m?void 0:null===(t=m.current)||void 0===t?void 0:null===(e=t.player)||void 0===e?void 0:e.duration)&&(P(O),N(X))},1e3)},[]);let[j,z]=(0,r.eJ)(),[U,H]=(0,r.eJ)(!1),{iString:F}=(0,y.M1)(),W=(0,r.Ye)(()=>c()(e=>{var t;let{time:n}=e;!(null==m?void 0:null===(t=m.current)||void 0===t?void 0:t.player)||s()(n)||(m.current.player.currentTime=n)},10),[m]);(0,r.d4)(()=>{m&&W({time:X})},[X,W,m]),(0,r.d4)(()=>{m&&W({time:O})},[O,W,m]),(0,r.d4)(()=>{let e=async e=>{let{body:{src:t}}=await p().get("/api/v1/video/upload/".concat(e,"/storyboard"));z((await p().get(t)).body)};(null==g?void 0:g.id)&&e(g.id)},[g]);let V=async()=>{H(!0),await (null==E?void 0:E({start:O,duration:X-O,render_transcript_as:void 0})),H(!1)};return m?(0,i.tZ)(Z.w,{children:(0,i.tZ)(v.hs,{bg:"primary",className:o()(A.Z.containerElevated,{[A.Z.containerInline]:h}),children:(0,i.BX)(v.tu,{gap:16,flex:"grow",children:[(0,i.tZ)(v.gq,{className:A.Z.videoTrimmerWrapper,children:(null===(t=m.current)||void 0===t?void 0:t.player)&&(0,i.tZ)(b.AM,{videoElement:null===(n=m.current)||void 0===n?void 0:n.player,start:O,setStart:e=>{P(e)},end:X,setEnd:e=>{N(e)},minDuration:B,maxDuration:T,maxTimelineDuration:S,minTimelineDuration:L,storyboard:j,looping:!0,zoom:D,setZoom:R})}),!l&&(0,i.BX)(v.gq,{justifyContent:"space-between",alignItems:"center",gap:16,opacity:U?50:100,children:[(0,i.tZ)(w.l7,{}),(0,i.BX)(v.gq,{alignItems:"center",gap:16,children:[f&&_&&(0,i.tZ)(C,{clipEnd:X,clipStart:O,post:f,pub:_}),x&&(0,i.tZ)(k.zx,{priority:"secondary",onClick:x,disabled:U,children:F("Cancel")}),"string"==typeof I?(0,i.tZ)(k.zx,{priority:"primary",onClick:V,disabled:U,children:I}):null==I?void 0:I(V)]})]})]})})}):null}},70075:function(e,t,n){n.d(t,{c:()=>w});var i=n(16584),r=n(98661),a=n(30396),o=n(94874),l=n(15771),s=n(19081),d=n(98248),c=n(38841),u=n(58175),p=n(87989),h=n(55533),m=n(60308);let g={items:"items-SZnmh_",item:"item-VxynEz",isSelected:"isSelected-Yq6O15",showMore:"showMore-rDQFwq",badge:"badge-cOMigQ"},v=e=>{let{items:t,selectItem:n,selectedItem:r,setSelectedItem:a,selectedItemRef:o,query:l}=e;return(0,i.tZ)(i.HY,{children:t.map(e=>(0,i.tZ)(C,{isSelected:r&&e.id===r.id&&e.type===r.type,onClick:()=>n(e),onMouseEnter:()=>a(e),elemRef:r&&e.id===r.id&&e.type===r.type?o:void 0,isDisabled:!!e.disabledReason,children:(0,i.BX)(s.gq,{flex:"grow",alignItems:"center",gap:12,padding:8,children:["user"===e.type&&(0,i.tZ)(f,{item:e,query:l}),"pub"===e.type&&(0,i.BX)(i.HY,{children:[(0,i.tZ)(c.wk,{className:g.profileImg,logoUrl:e.photo_url||(0,m.I4e)(e.id),size:32,publicationName:e.name}),(0,i.BX)(s.tu,{style:{maxWidth:"260px"},children:[(0,i.tZ)(u.xv.B4,{weight:"semibold",color:"primary",ellipsis:!0,as:"div",children:e.name}),e.author_name&&e.author_name.length>0?(0,i.BX)(u.xv.B5,{color:"secondary",ellipsis:!0,translated:!0,children:["by ",I18N.p(e.author_name)]}):null]})]})]})},e.id+e.type))})};function f(e){let{item:t}=e,n=t.publication_name;if(!n&&t.publications&&t.publications.length>0){var r,a;n=t.primary_publication_id?null===(r=t.publications.find(e=>{let{id:n}=e;return n===t.primary_publication_id})||t.publications[0])||void 0===r?void 0:r.name:null===(a=t.publications[0])||void 0===a?void 0:a.name}return(0,i.BX)(i.HY,{children:[(0,i.tZ)(o.qE,{className:g.avatar,photoUrl:(0,m.zF4)(t.photo_url||(0,m.I4e)(t.id),80),size:36}),(0,i.BX)(s.tu,{maxWidth:220,children:[(0,i.BX)(s.gq,{gap:4,minWidth:0,children:[(0,i.tZ)(u.xv.B4,{color:t.disabledReason?"secondary":"primary",weight:"semibold",ellipsis:!0,children:t.name}),0!==t.bestseller_tier&&(0,i.tZ)(p.UserBadge,{className:g.badge,tier:t.bestseller_tier,size:"sm",userId:t.id})]}),"unmentionable"===t.disabledReason?(0,i.tZ)(u.xv.B5,{color:"secondary",children:"\uD83D\uDD12 Mentions disabled"}):n&&t.handle?(0,i.BX)(u.xv.B4,{color:"secondary",ellipsis:!0,children:[t.handle," â€¢ ",n]}):n?(0,i.tZ)(u.xv.B5,{color:"secondary",ellipsis:!0,children:n}):t.handle?(0,i.tZ)(u.xv.B4,{color:"secondary",ellipsis:!0,children:t.handle}):null]})]})}let C=e=>{let{children:t,isSelected:n,onClick:r,onMouseEnter:a,elemRef:o,className:l,isDisabled:s}=e;return(0,i.tZ)("button",{className:"".concat(g.item," ").concat(n?g.isSelected:""," ").concat(null!=l?l:""),onClick:r,onMouseEnter:a,onMouseDown:e=>{e.preventDefault();let{target:t}=e;t&&void 0!==t.focus&&t.focus()},ref:o,tabIndex:-1,disabled:s,children:t})},w=(0,r.forwardRef)((e,t)=>{var n;let{items:r,selectItem:o,query:c,isLoading:u,placeholderText:p,noResultsText:m,minQueryLength:v=0,language:f}=e,{iString:w}=I18N.i(f),[b,y]=(0,a.eJ)(0),[k,A]=(0,a.eJ)(!1),_=r.size>1,x=Array.from(r.values()).some(e=>e.length>(_?3:6))&&!k,E=Array.from(r.values()).map(e=>k?e:e.slice(0,_?3:6)).flat(),I=(0,a.sO)(),B=null!==(n=E[b])&&void 0!==n?n:null,T=E.length+ +!!x,L=!!x&&b===T-1,S=(0,a.sO)(null);(0,a.d4)(()=>{b>=0&&I.current&&I.current.scrollIntoView({behavior:"smooth",block:"nearest"})},[b,I]);let M=()=>{y((b+T-1)%T)},N=()=>{y((b+1)%T)},P=()=>{B&&o(B),L&&A(!0)};(0,a.d4)(()=>{y(0),A(!1)},[r]);let D=e=>{let t=E.findIndex(t=>t.id===e.id);-1!==t?y(t):y(0)};return((0,a.aP)(t,()=>({getElement:()=>S.current,onKeyDown:e=>{let{event:t}=e;return"ArrowUp"===t.key?(M(),!0):"ArrowDown"===t.key?(N(),!0):"Enter"===t.key&&(P(),!0)}})),p&&(!c||c.length<v))?(0,i.tZ)(s.tu,{className:g.items,alignItems:"center",children:(0,i.tZ)(h.vJ,{title:p,body:w("Start typing...")})}):(0,i.BX)("div",{className:g.items,ref:S,children:[Array.from(r.entries()).map(e=>{let[t,n]=e;return(0,i.tZ)(Z,{title:_?w(t):void 0,maxItemsToDisplay:k?void 0:_?3:6,items:n,selectItem:o,selectedItem:B,setSelectedItem:D,selectedItemRef:I,query:c})}),u&&(0,i.tZ)(s.tu,{padding:8,alignItems:"center",children:(0,i.tZ)(d.$j,{})}),!u&&0===T&&(0,i.tZ)(s.gq,{padding:8,children:(0,i.tZ)(h.vJ,{title:m,body:w("Try another search...")})}),x&&(0,i.tZ)(s.tu,{padding:8,children:(0,i.tZ)(C,{isSelected:L,onMouseEnter:()=>y(T-1),onClick:()=>A(!0),elemRef:L?I:void 0,className:g.showMore,children:(0,i.tZ)(l.zx,{priority:"secondary",flex:"grow",children:w("Load more...")})})})]})}),Z=e=>{let{title:t,maxItemsToDisplay:n,items:r,selectItem:a,selectedItem:o,setSelectedItem:l,selectedItemRef:d,query:c}=e,p=n?r.slice(0,n):r;return(0,i.BX)(i.HY,{children:[t&&(0,i.tZ)(s.tu,{padding:8,children:(0,i.tZ)(u.xv.Meta,{color:"secondary",weight:"semibold",children:t})}),(0,i.tZ)(v,{items:p,selectItem:a,selectedItem:o,setSelectedItem:l,selectedItemRef:d,query:c})]})}},72984:function(e,t,n){n.d(t,{k:()=>d});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(98661),s=n(98914);let d=(0,l.forwardRef)((e,t)=>{var{onClick:n,href:l,localNavigation:d,newTab:c}=e,u=(0,a._)(e,["onClick","href","localNavigation","newTab"]);let p=l?e=>{(!n||(n.call(e.target,e),!e.defaultPrevented))&&(0,s.uX)(l,{event:e,local_navigation:d,newTab:c})}:n;return(0,o.tZ)("button",(0,r._)((0,i._)({tabIndex:0},u),{ref:t,onClick:p}))})},17117:function(e,t,n){n.d(t,{Z:()=>u});var i=n(16584),r=n(30396),a=n(94184),o=n.n(a),l=n(80569),s=n.n(l),d=n(60308);let c=e=>parseFloat(e).toFixed(2),u=e=>{let{symbol:t,prependSymbol:n=!1,isStatic:a=!1}=e,l="/api/v1/price/".concat(t),[u,p]=(0,r.eJ)(null),[h,m]=(0,r.eJ)(null),[g,v]=(0,r.eJ)(!1);return((0,r.d4)(()=>{(async()=>{try{let e=await s().get(l);if(e.body){if("not_found"===e.body.status){v(!0);return}p(e.body.price),m(e.body.change_pct)}}catch(e){v(!0)}})()},[l]),!n&&t.startsWith("$")&&(t=t.slice(1)),a)?(0,i.tZ)("span",{children:(0,i.BX)("a",{"data-component-name":"CashtagStatic",href:"".concat((0,d.eSs)(t)),children:[t," "]})}):g?(0,i.BX)("span",{children:[t," "]}):(0,i.BX)("a",{className:o()("cashtag",{neutral:0==h,positive:h&&parseFloat(h)>0,negative:h&&0>parseFloat(h)}),target:"_blank",rel:"noopener",href:"".concat((0,d.eSs)(t)),"data-attrs":JSON.stringify({symbol:t}),"data-component-name":"Cashtag",children:["".concat(t.toUpperCase()," "),(0,i.tZ)("span",{children:(0,i.tZ)("span",{children:(0,i.BX)("span",{className:o()("delta"),children:["".concat(c(h||0),"%"),!h||parseFloat(h)>0?String.fromCharCode(8593):String.fromCharCode(8595)]})})})]})}},12277:function(e,t,n){n.d(t,{M:()=>a});var i=n(16584),r=n(30396);let a=e=>{var t;let{attrs:n}=e,a=(0,r.sO)(null);if((0,r.d4)(()=>{let e=e=>{let t;if(!a.current||e.source!==a.current.contentWindow)return;let n=e.data;if("string"==typeof n)try{n=JSON.parse(n)}catch(e){return}n&&"number"==typeof n.height?t=n.height:"number"==typeof n&&(t=n),"number"==typeof t&&t>0&&a.current&&(a.current.style.height="".concat(t,"px"))};if(null==n?void 0:n.url)return window.addEventListener("message",e),()=>{window.removeEventListener("message",e)}},[null==n?void 0:n.url]),!n||!n.url)return null;let o="iframe-pinterest-".concat((null===(t=n.url.split("/").pop())||void 0===t?void 0:t.split("?")[0])||Date.now());return(0,i.tZ)("div",{class:"pinterest-embed-wrap outer","data-url":n.url,children:(0,i.tZ)("iframe",{ref:a,id:o,className:"pinterest-embed-iframe",src:n.url,width:"350px",frameBorder:"0",scrolling:"no",loading:n.belowTheFold?"lazy":void 0,title:n.title||"Pinterest Pin"})})}},74204:function(e,t,n){n.d(t,{$:()=>o});var i=n(16584),r=n(55679),a=n(16564);let o=e=>{let{node:t}=e;return(0,i.tZ)(r.T5,{children:(0,i.tZ)(a.cM,{label:t.attrs.label,src:"/api/v1/audio/upload/".concat(t.attrs.mediaUploadId,"/src"),duration:t.attrs.duration})})}},19691:function(e,t,n){n.d(t,{Z:()=>g});var i=n(7409),r=n(99282),a=n(16584),o=n(30396),l=n(91036),s=n.n(l),d=n(42123),c=n(347),u=n(15771),p=n(19081),h=n(64300),m=n(71075);let g=e=>{let{initialCaption:t,onSave:n,onCancel:l}=e,g=t.replace(/<br\s*\/?>/gi,"\n"),[v,f]=(0,o.eJ)(g);return(0,a.tZ)(c.h,{children:(0,a.BX)(p.tu,{flex:"grow",gap:8,children:[(0,a.tZ)(h.g,(0,r._)((0,i._)({},d.H),{className:m.Z.captionEditor,maxLength:5e3,name:"description",placeholder:"Enter a caption...",rows:6,value:v,onChange:e=>{f(e.target.value)}})),(0,a.BX)(p.hs,{gap:8,justifyContent:"end",paddingY:8,children:[(0,a.tZ)(u.zx,{priority:"secondary",onClick:l,children:"Cancel"}),(0,a.tZ)(u.zx,{priority:"primary",onClick:()=>{let e=v.replace(/\n/g,"<br>");n(s()(e,(0,r._)((0,i._)({},s().defaults),{allowedTags:["br"]})))},children:"Save"})]})]})})}},89198:function(e,t,n){n.d(t,{X:()=>s});var i=n(7409),r=n(99282),a=n(16584),o=n(55679),l=n(17218);let s=e=>{let{node:t,editor:n,deleteNode:s,updateAttributes:d,getPos:c}=e,u=t.attrs,p=(0,r._)((0,i._)({},u),{isEditor:!!n});return(0,a.tZ)(o.T5,{className:"digestPostEmbed","data-drag-handle":"",children:(0,a.tZ)(l.F,(0,r._)((0,i._)({},p),{isEditor:!0,editor:n,updateAttributes:d,deleteNode:s,getPos:c}))})}},17218:function(e,t,n){n.d(t,{F:()=>W});var i=n(7409),r=n(99282),a=n(16584),o=n(30396),l=n(94184),s=n.n(l),d=n(66120),c=n(95441),u=n(15771),p=n(61254),h=n(19081),m=n(84747),g=n(71075);let v=e=>{let{enableExtraSmallOption:t,size:n,onOpen:i,onClose:r,onEditCaption:o,onSetLayout:l,onSetShowBylines:s,showBylines:v,onConvertToLink:f,onConvertToEmbeddedPost:C,onDelete:w,showBylinesOption:Z}=e,{iString:b}=(0,c.M1)();return(0,a.tZ)(h.hs,{className:g.Z.menu,justifyContent:"end",children:(0,a.BX)(m.M,{layerOptions:{placement:"bottom-end"},trigger:(0,a.tZ)(u.hU,{priority:"secondary-outline",children:(0,a.tZ)(d.Z,{size:20})}),onClose:r,onOpen:i,children:[t&&(0,a.tZ)(m.u,{disabled:"xs"===n,onClick:()=>l("xs"),children:b("Extra small display")}),(0,a.tZ)(m.u,{disabled:"sm"===n,onClick:()=>l("sm"),children:b("Small display")}),(0,a.tZ)(m.u,{disabled:"md"===n,onClick:()=>l("md"),children:b("Medium display")}),(0,a.tZ)(m.u,{disabled:"lg"===n,onClick:()=>l("lg"),children:b("Large display")}),(0,a.tZ)(p.iz,{}),Z&&(0,a.tZ)(m.u,{onClick:()=>s(!v),children:b(v?"Hide bylines":"Show bylines")}),("lg"===n||"md"===n)&&(0,a.tZ)(m.u,{onClick:o,children:b("Edit caption")}),(0,a.tZ)(m.u,{onClick:()=>C(),children:b("Convert to default")}),(0,a.tZ)(m.u,{onClick:f,children:b("Convert to link")}),(0,a.tZ)(m.u,{priority:"destructive",onClick:w,children:b("Remove")})]})})};var f=n(26522),C=n(77116),w=n(57219),Z=n(42123),b=n(51776);let y=e=>{let{initialValue:t,placeholder:n,onSave:l,onCancel:s}=e,{iString:d}=(0,c.M1)(),[p,m]=(0,o.eJ)(t),g=(0,o.sO)(null);return(0,o.d4)(()=>{g.current&&(g.current.focus(),g.current.select())},[]),(0,a.BX)(h.tu,{gap:16,children:[(0,a.tZ)(b.oi,(0,r._)((0,i._)({},Z.H),{ref:g,placeholder:n,value:p,onInput:e=>{m(e.target.value)}})),(0,a.BX)(h.hs,{gap:8,justifyContent:"end",children:[(0,a.tZ)(u.zx,{priority:"tertiary",onClick:e=>{e.preventDefault(),e.stopPropagation(),null==s||s()},children:d("Cancel")}),(0,a.tZ)(u.zx,{priority:"primary",onClick:e=>{e.preventDefault(),e.stopPropagation(),null==l||l(p.trim())},children:d("Save")})]})]})};var k=n(620),A=n(7523),_=n(32926);let x={link:"link-LXCHWO"},E=e=>{let{disableLinks:t,isEditingTitle:n,post:i,onEditTitle:r,onSaveTitle:o,onCancelTitle:l}=e,{iString:s}=(0,c.M1)(),{title:d,canonical_url:u}=i,p=(0,_.Q)(i);return(0,a.tZ)(k.l,{children:(0,a.BX)(h.tu,{gap:8,children:[(0,a.tZ)(A.Z,{color:"accent",preset:"detail-large",children:p}),n?(0,a.tZ)(h.tu,{padding:8,children:(0,a.tZ)(y,{initialValue:d,placeholder:s("Edit title..."),onCancel:l,onSave:o})}):(0,a.tZ)("a",{href:u,rel:"noopener",target:"_blank",onClick:e=>{t&&e.preventDefault()},children:(0,a.tZ)(A.Z,{className:x.link,preset:"h7-serif",style:{cursor:"pointer"},onClick:null!=r?r:void 0,children:d})})]})})};var I=n(19691),B=n(20888),T=n(74626);let L={button:"button-PdemLh"},S=e=>{let{buttonSize:t,cta:n,disableLinks:i,handleCancelCta:r,handleEditCta:o,handleSaveCta:l,href:s,isEditingCta:d}=e,{iString:u}=(0,c.M1)();return(0,a.tZ)("div",{onClick:d?void 0:null!=o?o:void 0,children:d?(0,a.tZ)(y,{initialValue:n,placeholder:u("Edit CTA..."),onCancel:r,onSave:l}):(0,a.tZ)(T._,{className:L.button,href:s,justifyContent:"start",renderAsLink:!0,size:t,trailingIcon:"chevron-right",variant:"tertiary",onClick:i?e=>{e.preventDefault()}:void 0,children:n||u("Read full story")})})};var M=n(1548);let N=e=>{let{bylines:t}=e;return(null==t?void 0:t.length)?(0,a.tZ)(A.Z,{color:"tertiary",preset:"detail-large",children:(0,a.tZ)(M.M,{array:t||[],formatter:e=>{let{name:t}=e;return t},limit:3})}):null},P=e=>{let{caption:t,cta:n,disableLinks:i,isEditingCaption:r,isEditingTitle:o,isEditingCta:l,post:s,onCancelCaption:d,onCancelTitle:u,onCancelCta:p,onEditCaption:m,onEditTitle:g,onEditCta:v,onSaveCaption:f,onSaveTitle:C,onSaveCta:w,showBylines:Z}=e,{iString:b}=(0,c.M1)(),{publishedBylines:_,title:x,canonical_url:E,cover_image:T,cover_image_alt:L}=s;return(0,a.tZ)(k.l,{children:(0,a.BX)(h.tu,{children:[(0,a.tZ)(h.tu,{paddingBottom:12,children:o?(0,a.tZ)(h.tu,{padding:8,children:(0,a.tZ)(y,{initialValue:x,placeholder:b("Edit title..."),onCancel:u,onSave:C})}):(0,a.tZ)("a",{href:E,rel:"noopener",target:"_blank",onClick:e=>{i&&e.preventDefault()},children:(0,a.tZ)(A.Z,{preset:"h5-sans",onClick:null!=g?g:void 0,children:x})})}),(0,a.tZ)(h.tu,{paddingBottom:12,children:Z&&(0,a.tZ)(N,{bylines:_})}),T&&(0,a.tZ)(h.tu,{paddingBottom:16,children:(0,a.tZ)("a",{href:E,rel:"noopener",target:"_blank",onClick:e=>{i&&e.preventDefault()},children:(0,a.tZ)(B.e,{alt:null!=L?L:x,imageProps:{height:Math.round(650),smartCrop:!0},maxWidth:1300,src:T})})}),(0,a.tZ)(h.hs,{flex:"grow",paddingBottom:8,children:(0,a.tZ)("div",{className:"captionContainer-e38vU2",children:r&&d&&f?(0,a.tZ)(h.tu,{paddingX:8,children:(0,a.tZ)(I.Z,{initialCaption:t,onCancel:d,onSave:f})}):(0,a.tZ)("p",{dangerouslySetInnerHTML:{__html:t},onClick:null!=m?m:void 0})})}),(0,a.tZ)(S,{cta:n,disableLinks:i,handleCancelCta:p,handleEditCta:v,handleSaveCta:w,href:E,isEditingCta:l})]})})};var D=n(98422);let R={imageLink:"imageLink-AC6EYn",image:"image-DiWGMJ",imageMobile:"imageMobile-PivMk8"},O=e=>{var t;let{disableLinks:n,post:i,isEditingTitle:r,onEditTitle:o,onSaveTitle:l,onCancelTitle:d,isEditingCta:u,onEditCta:p,onCancelCta:m,onSaveCta:g,cta:v,showBylines:f}=e,{iString:C}=(0,c.M1)(),{isMobile:w}=(0,D.v9)(),{publishedBylines:Z,title:b,canonical_url:_,cover_image:x,cover_image_alt:E}=i;return(0,a.tZ)(k.l,{children:(0,a.BX)(h.gq,{alignItems:"stretch",gap:16,children:[x&&(0,a.tZ)("a",{className:R.imageLink,href:_,rel:"noopener",target:"_blank",onClick:e=>{n&&e.preventDefault()},children:(0,a.tZ)(B.e,{alt:null!=E?E:b,className:s()(R.image,{[null!==(t=R.imageMobile)&&void 0!==t?t:""]:w}),imageProps:{height:w?180:300,smartCrop:!0,aspect:"1:1"},maxWidth:w?180:300,src:x})}),(0,a.BX)(h.tu,{flex:"grow",gap:8,children:[r?(0,a.tZ)(h.tu,{paddingRight:8,paddingY:8,children:(0,a.tZ)(y,{initialValue:b,placeholder:C("Edit title..."),onCancel:d,onSave:l})}):(0,a.tZ)("a",{href:_,rel:"noopener",target:"_blank",onClick:e=>{n&&e.preventDefault()},children:(0,a.tZ)(A.Z,{preset:"h5-sans",style:n?{}:{cursor:"pointer"},onClick:null!=o?o:void 0,children:b})}),f&&(0,a.tZ)(N,{bylines:Z}),(0,a.tZ)(S,{cta:v,disableLinks:n,handleCancelCta:m,handleEditCta:p,handleSaveCta:g,href:_,isEditingCta:u})]})]})})},X=e=>{let{post:t,disableLinks:n,isEditingTitle:i,onEditTitle:r,onSaveTitle:o,onCancelTitle:l,onEditCta:s,onSaveCta:d,onCancelCta:u,isEditingCta:p,showBylines:m,cta:g}=e,{iString:v}=(0,c.M1)(),{publishedBylines:f,title:C,canonical_url:w}=t;return(0,a.tZ)(k.l,{children:(0,a.BX)(h.tu,{gap:4,children:[(0,a.BX)(h.tu,{gap:8,children:[i?(0,a.tZ)(h.tu,{padding:8,children:(0,a.tZ)(y,{initialValue:C,placeholder:v("Edit title..."),onCancel:l,onSave:o})}):(0,a.tZ)("a",{href:w,rel:"noopener",target:"_blank",onClick:e=>{n&&e.preventDefault()},children:(0,a.tZ)(A.Z,{preset:"h5-sans",onClick:null!=r?r:void 0,children:C})}),m&&(0,a.tZ)(N,{bylines:f})]}),(0,a.tZ)(S,{buttonSize:"sm",cta:g,disableLinks:n,handleCancelCta:u,handleEditCta:s,handleSaveCta:d,href:w,isEditingCta:p})]})})};var j=n(6070);let z=e=>{document.dispatchEvent(new CustomEvent("updateDigestPostEmbed",{detail:e,bubbles:!0}))},U=e=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToLink",{detail:e,bubbles:!0}))},H=e=>{document.dispatchEvent(new CustomEvent("convertDigestPostEmbedToEmbeddedPost",{detail:e,bubbles:!0}))},F=()=>{document.dispatchEvent(new CustomEvent("deleteDigestPostEmbed",{bubbles:!0}))},W=e=>{let{nodeId:t,caption:n,cta:l,size:d="lg",isEditor:c,showBylines:u,title:p,publishedBylines:h,post_date:m,cover_image:Z,cover_image_alt:b,canonical_url:y,section_name:k,id:A,type:_,video_upload_id:x,reaction_count:I,comment_count:B,publication_name:T,publication_logo_url:L,editor:S,updateAttributes:M,deleteNode:N,getPos:D,pub:R}=e,[W,V]=(0,o.eJ)(!1),[q,Y]=(0,o.eJ)(!1),[J,G]=(0,o.eJ)(!1),[K,Q]=(0,o.eJ)(!1),[$,ee]=(0,o.eJ)(!1),et=(0,j.HD)({pub:R}),en={title:p,publishedBylines:h,post_date:m,cover_image:Z,cover_image_alt:b,canonical_url:y,section_name:k,id:A,type:_,video_upload_id:x,reaction_count:I,comment_count:B,publication_name:T,publication_logo_url:L},ei=()=>{Y(!0),V(!1),z({nodeId:t,shouldDisableDrag:!0})},er={onCancelTitle:c?()=>{G(!1),z({nodeId:t,shouldDisableDrag:!1})}:null,onEditTitle:c?()=>{G(!0),V(!1),z({nodeId:t,shouldDisableDrag:!0})}:null,onSaveTitle:c?e=>{G(!1),M?M({title:e}):z({nodeId:t,title:e,shouldDisableDrag:!1})}:null,isEditingTitle:J},ea={onCancelCaption:c?()=>{Y(!1),z({nodeId:t,shouldDisableDrag:!1})}:null,onEditCaption:c?ei:null,onSaveCaption:c?e=>{Y(!1),M?M({caption:e}):z({nodeId:t,caption:e,shouldDisableDrag:!1})}:null,isEditingCaption:q},eo={onCancelCta:c?()=>{Q(!1),z({nodeId:t,shouldDisableDrag:!1})}:null,onEditCta:c?()=>{Q(!0),V(!1),z({nodeId:t,shouldDisableDrag:!0})}:null,onSaveCta:c?e=>{Q(!1),M?M({cta:e}):z({nodeId:t,cta:e,shouldDisableDrag:!1})}:null,isEditingCta:K};return(0,a.tZ)("div",{className:s()(g.Z.digestPostEmbed),"data-component-name":"DigestPostEmbed",onMouseEnter:()=>!q&&!J&&V(!0),onMouseLeave:()=>!$&&V(!1),children:(0,a.BX)(a.HY,{children:[c&&W&&(0,a.tZ)(v,{enableExtraSmallOption:et,showBylines:u,showBylinesOption:et,size:d,onClose:()=>ee(!1),onConvertToEmbeddedPost:()=>{S&&D?S.commands.convertDigestPostEmbedToEmbeddedPostV2({pos:D(),attrs:(0,i._)({url:y},en)}):H({url:y})},onConvertToLink:()=>{S&&D?S.commands.convertDigestPostEmbedToLinkV2({pos:D(),url:y}):U({url:y})},onDelete:()=>{N?N():F()},onEditCaption:ei,onOpen:()=>ee(!0),onSetLayout:e=>{M?M({size:e}):z((0,i._)({nodeId:t,caption:n,cta:l,size:e,shouldDisableDrag:!1},en))},onSetShowBylines:e=>{M?M({showBylines:e}):z((0,i._)({nodeId:t,showBylines:e,shouldDisableDrag:!1},en))}}),"xs"===d&&(et?(0,a.tZ)(E,(0,r._)((0,i._)({},er),{disableLinks:c,post:en})):(0,a.tZ)(w.u,{disableLinks:c,post:en})),"sm"===d&&(et?(0,a.tZ)(X,(0,r._)((0,i._)({},er,eo),{cta:l,disableLinks:c,post:en,showBylines:u})):(0,a.tZ)(w.u,{disableLinks:c,post:en})),"md"===d&&(et?(0,a.tZ)(O,(0,r._)((0,i._)({},er,eo),{cta:l,disableLinks:c,post:en,showBylines:u})):(0,a.tZ)(C.a,(0,r._)((0,i._)({},ea),{caption:n,disableLinks:c,post:en}))),"lg"===d&&(et?(0,a.tZ)(P,(0,r._)((0,i._)({},ea,er,eo),{caption:n,cta:l,disableLinks:c,post:en,showBylines:u})):(0,a.tZ)(f.c,(0,r._)((0,i._)({},ea),{caption:n,disableLinks:c,post:en})))]})})}},42123:function(e,t,n){n.d(t,{H:()=>r});let i=e=>{e.stopPropagation()},r={onKeyPress:i,onCopy:i,onPaste:i,onKeyDown:i}},33730:function(e,t,n){n.d(t,{V:()=>p});var i=n(58865),r=n(16584),a=n(55679),o=n(28596),l=n(347),s=n(95441),d=n(15771),c=n(19081);function u(){let e=(0,i._)(["Message ",""]);return u=function(){return e},e}let p=e=>{let{node:t}=e,n=t.attrs,{iTemplate:i}=(0,s.M1)();return(0,r.tZ)(a.T5,{className:"directMessage","data-drag-handle":"",children:(0,r.tZ)(l.h,{children:(0,r.tZ)(c.tu,{alignItems:"center",justifyContent:"center",flex:"grow",style:{marginBottom:"20px"},children:(0,r.tZ)(d.zx,{priority:"primary",leading:(0,r.tZ)(o.Z,{size:20}),children:i(u(),n.userName)})})})})}},78532:function(e,t,n){let i;n.d(t,{_:()=>L});var r=n(16584),a=n(30396),o=n(55679),l=n(94184),s=n.n(l),d=n(25235),c=n(31992),u=n(29942),p=n(62686),h=n(40160),m=n(8700),g=n(99869),v=n(92027),f=n(2563),C=n(20888),w=n(95441),Z=n(15771),b=n(19081),y=n(21685),k=n(58175),A=n(51776),_=n(87077),x=n(60308),E=n(57747);let I={normal:"large",large:"full",full:"normal"},B=e=>{let{alt:t,onUpdateAlt:n}=e,{iString:i}=(0,w.M1)();return(0,r.tZ)(b.tu,{gap:8,justifyContent:"center",className:E.Z.mediaControlTextEditor,children:(0,r.BX)(b.tu,{gap:8,children:[(0,r.tZ)(k.xv.B3,{translated:!0,font:"meta",color:"secondary",children:"Alt text"}),(0,r.tZ)(A.oi,{value:t,onChange:e=>n(e.currentTarget.value),placeholder:i("Describe imagesâ€¦")})]})})},T=e=>{let{href:t,onSave:n}=e,[i,o]=(0,a.eJ)(t||""),{iString:l}=(0,w.M1)();return(0,r.BX)(b.tu,{gap:8,justifyContent:"center",className:E.Z.mediaControlTextEditor,children:[(0,r.BX)(b.tu,{gap:4,children:[(0,r.tZ)(k.xv.B3,{translated:!0,font:"meta",color:"secondary",children:"URL"}),(0,r.tZ)(A.oi,{placeholder:"Add image linkâ€¦",value:i,onChange:e=>o(e.currentTarget.value)})]}),(0,r.BX)(b.gq,{gap:8,children:[t&&(0,r.tZ)(Z.zx,{priority:"destructive",size:"sm",onClick:()=>n(null),children:l("Remove")}),(0,r.tZ)(Z.zx,{priority:"primary",size:"sm",onClick:()=>{let e=(0,d.find)(i,"url");e.length?n(e[0].href.replace("http:","https:")):alert(l("Invalid url"))},disabled:t===i||!i.length,children:(null==t?void 0:t.length)?l("Update"):l("Save")})]})]})},L=e=>{var t;let{node:n,updateAttributes:l}=e,[d,k]=(0,a.eJ)(!1),[A,L]=(0,a.eJ)(0),[S,M]=(0,a.eJ)(0),N=(0,a.sO)(null),{iString:P}=(0,w.M1)(),D=()=>{let e=document.querySelector(".ProseMirror");e&&M(null==e?void 0:e.clientWidth),N.current&&(N.current.onload=()=>{N.current&&L(N.current.naturalWidth/N.current.naturalHeight)})},R=e=>{i=e};(0,a.d4)(()=>{D()});let[O,X]=(0,a.eJ)(!1),j=e=>{let{width:t,height:n}=e;return t<50||n<50},z=e=>{e.preventDefault(),setTimeout(()=>F(e))},U=()=>{X(!1),i=-1,document.removeEventListener("pointermove",z),document.removeEventListener("pointerup",U)},H=(e,t)=>{var n,i;if(!N.current){console.error("Media ref is undefined|null",{resizableImg:N.current});return}let r={width:null===(n=N.current)||void 0===n?void 0:n.width,height:null===(i=N.current)||void 0===i?void 0:i.height},a={width:-1,height:-1};"left"===e?a.width=r.width-Math.abs(t):a.width=r.width+Math.abs(t),a.width>S&&(a.width=S),a.height=a.width/A,j(a)||l(a)},F=e=>{if(-1===i)return;let{clientX:t}=e,n=i-t;if(0===n)return;let r=n>0?"left":"right";setTimeout(()=>{H(r,Math.abs(n)),i=t})},W=e=>{let t={size:e,width:"100%"};"normal"!==e&&(t.height="auto",t.align="center"),"large"===e&&(t.width=x.urw),"full"===e&&(t.width=x.hI6),l(t)};return(0,r.BX)(o.T5,{as:"figure",className:s()(E.Z.mediaNodeView,n.attrs.align&&E.Z["align-".concat(n.attrs.align)||""]),"data-drag-handle":"",children:[(0,r.BX)(b.gq,{className:s()(E.Z.imageContainer,E.Z[n.attrs.size]),children:[(0,r.BX)(b.tu,{gap:8,children:[(0,r.BX)(b.gq,{justifyContent:"center",style:{position:"relative"},children:[(0,r.tZ)(C.e,{className:E.Z[n.attrs.size],src:n.attrs.src,alt:n.attrs.alt,title:n.attrs.title,style:{pointerEvents:"none"},maxWidth:(()=>{switch(n.attrs.size){case"large":return x.urw;case"full":return window.innerWidth;default:if("100%"===n.attrs.width)return x.qN9;return n.attrs.width}})(),imageRef:N,useRetinaSizing:!0,imageIsFixedWidth:!1}),"normal"===n.attrs.size&&(0,r.tZ)("div",{className:s()(E.Z.horizontalResizeHandle),title:P("Resize"),onClick:e=>{let{clientX:t}=e;return R(t)},onPointerDown:e=>{X(!0),i=e.clientX,setTimeout(()=>{document.addEventListener("pointermove",z),document.addEventListener("pointerup",U)})},onPointerUp:U,children:(0,r.tZ)(Z.hU,{priority:"secondary",children:(0,r.tZ)(c.Z,{height:18,color:"#2b2e3b"})})})]}),(0,r.BX)(b.gq,{justifyContent:"center",className:s()(E.Z.inlineCaptionEditor,{[E.Z.hasCaption]:null===(t=n.content)||void 0===t?void 0:t.size}),children:[(0,r.tZ)(o.ms,{as:"figcaption",className:E.Z.caption,contenteditable:!0}),!n.content.size&&(0,r.tZ)("div",{className:s()(E.Z.caption,E.Z.placeholder),children:"Add captionâ€¦"})]})]}),(0,r.BX)(b.gq,{gap:4,className:s()(E.Z.mediaControlButtons),children:[(0,r.tZ)(_.u,{text:P("Toggle standard, large, full-screen"),preferPlacement:"top-center",children:(0,r.tZ)(Z.hU,{priority:"tertiary",onClick:()=>W(I[n.attrs.size]),children:(0,r.tZ)(u.Z,{height:18,color:"#2b2e3b"})})}),"normal"===n.attrs.size&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(_.u,{text:P("Align left"),preferPlacement:"top-center",children:(0,r.tZ)(Z.hU,{priority:"tertiary",className:s()("left"===n.attrs.align&&E.Z.active),onClick:()=>l({align:"left"}),children:(0,r.tZ)(p.Z,{height:18,color:"#2b2e3b"})})}),(0,r.tZ)(_.u,{text:P("Align center"),preferPlacement:"top-center",children:(0,r.tZ)(Z.hU,{priority:"tertiary",className:s()("center"===n.attrs.align&&E.Z.active),onClick:()=>l({align:"center"}),children:(0,r.tZ)(h.Z,{height:18,color:"#2b2e3b"})})}),(0,r.tZ)(_.u,{text:P("Align right"),preferPlacement:"top-center",children:(0,r.tZ)(Z.hU,{priority:"tertiary",className:s()("right"===n.attrs.align&&E.Z.active),onClick:()=>l({align:"right"}),children:(0,r.tZ)(m.Z,{height:18,color:"#2b2e3b"})})})]}),(0,r.tZ)(_.u,{text:P("Add link"),preferPlacement:"top-center",children:(0,r.tZ)(y.J,{preferPlacement:"bottom-start",content:(0,r.tZ)(T,{href:n.attrs.href,onSave:e=>{var t;l({href:e}),null===(t=N.current)||void 0===t||t.click()}}),children:(0,r.tZ)(Z.hU,{priority:"tertiary",children:(0,r.tZ)(g.Z,{height:18,color:"#2b2e3b"})})})}),(0,r.tZ)(_.u,{text:P("Edit alt text"),preferPlacement:"top-center",children:(0,r.tZ)(y.J,{preferPlacement:"bottom-start",content:(0,r.tZ)(B,{alt:n.attrs.alt,onUpdateAlt:e=>l({alt:e})}),children:(0,r.tZ)(Z.hU,{priority:"tertiary",children:(0,r.tZ)(v.Z,{height:18,color:"#2b2e3b"})})})})]})]}),(0,r.tZ)(f.ImageViewerModal,{showModal:d,modalContent:[{attrs:n.attrs}],onClose:()=>k(!1),step:0})]})}},72183:function(e,t,n){n.d(t,{Z:()=>x});var i=n(7409),r=n(58865),a=n(16584),o=n(30396),l=n(27194),s=n(78435),d=n(95441),c=n(14952),u=n(40647),p=n(15771),h=n(82402),m=n(19081),g=n(1844),v=n(68709),f=n(6490),C=n(17688),w=n(58175),Z=n(51776),b=n(87077);function y(){let e=(0,r._)(["Each option must be between 1 and "," characters long."]);return y=function(){return e},e}function k(){let e=(0,r._)(["The description must be less than "," characters long."]);return k=function(){return e},e}let A=(e,t)=>{let{question:n,description:i,expiry:r,audience:a,options:o}=e,{iString:l,iTemplate:s}=I18N.i(t),d=o.filter(Boolean);if(n.length<1||n.length>255)return l("The question must be between 1 and 255 characters long.");if(d.length<2||d.length>5)return l("Your poll must have 2 to 5 options.");if(d.some(e=>e.length<1||e.length>35))return s(y(),35);if(!["all_subscribers","only_paid"].includes(a))return l("Your poll audience is invalid.");if(![1,24,72,168,999999].includes(r))return l("The length of your poll is invalid.");else if(i.length>250)return s(k(),250);return null},_=e=>{let{index:t,text:n,onChange:i,onDelete:r,showDeleteButton:o,disabled:c}=e,{language:u}=(0,d.M1)();return(0,a.BX)(m.X2,{flex:"grow",gap:8,children:[(0,a.tZ)(Z.oi,{disabled:c,flex:"grow",maxLength:35,placeholder:(0,s.v8)(t,u),value:n,onChange:e=>{i(t,e.currentTarget.value)}}),o&&(0,a.tZ)(p.hU,{disabled:c,priority:"tertiary",tabIndex:o?void 0:-1,onClick:()=>r(t),children:(0,a.tZ)(l.Z,{size:20})})]})},x=e=>{let{poll:t,isOpen:n,onClose:r,onSave:l,isPublished:s,shouldShowAudiencePicker:y}=e,k=t.options.map(e=>e.label);k.length>1?k.length<5&&k.push(""):k=["",""];let{iString:x,language:E,iPlural:I}=(0,d.M1)(),{getConfigFor:B}=(0,u.xR)(),{payments_state:T}=(0,c.Ij)()||{},L=!!B("enable_description_on_polls"),S=y&&"enabled"===T?"only_paid":"all_subscribers",[M,N]=(0,o.eJ)(t.question||""),[P,D]=(0,o.eJ)(t.description||""),[R,O]=(0,o.eJ)(k),[X,j]=(0,o.eJ)(t.expiry||24),[z,U]=(0,o.eJ)(t.audience||S),[H,F]=(0,o.eJ)(!1),[W,V]=(0,o.eJ)(t.votes_hidden||!1),[q,Y]=(0,o.eJ)(null),J=A({question:M,description:P,options:R,expiry:X,audience:z},E),G=(0,o.I4)(()=>{var e;N(t.question||""),D(t.description||""),O((null===(e=t.options)||void 0===e?void 0:e.map(e=>e.label))||["",""]),j(t.expiry||24),U(t.audience||S),V(t.votes_hidden||!1),Y(null),r()},[t.question,t.description,t.options,t.expiry,t.audience,t.votes_hidden,S,r]),K=(0,o.I4)(e=>{let{value:t}=e;["only_paid","all_subscribers"].includes(t)&&U(t)},[]),Q=(0,o.I4)(e=>{let{value:t}=e,n=Number(t);[1,24,72,168,999999].includes(n)&&j(n)},[]),$=(0,o.I4)((e,t)=>{let n=[...R];n.splice(e,1,t),e===n.length-1&&n.length<5&&n.push(""),O(n)},[R]),ee=(0,o.I4)(e=>{var t;if(R.length<=2||e>=R.length)return;let n=[...R];n.splice(e,1),(null===(t=n[n.length-1])||void 0===t?void 0:t.length)&&n.push(""),O(n)},[R]),et=Array(Math.max(2,R.length||0)).fill("").map((e,t)=>R.length>t?R[t]:e),en=q||s&&t.total_votes>0&&I("This poll is part of a post that has already been published. If you modify it, 1 existing vote will be removed.","This poll is part of a post that has already been published. If you modify it, %1 existing votes will be removed.",t.total_votes);return(0,a.BX)(f.u_,{className:"poll-editor-modal",isOpen:n,onClose:r,children:[(0,a.tZ)(f.xB,{showClose:!0,showDivider:!0,title:x("Edit poll"),onClose:r}),(0,a.tZ)(f.fe,{children:(0,a.BX)(m.sg,{gap:20,children:[(0,a.BX)(Z.fv,{children:[(0,a.tZ)(v.__,{children:x("Poll question")}),(0,a.tZ)(Z.oi,{disabled:H,maxLength:255,placeholder:x("Enter your question..."),value:M,onChange:e=>N(e.currentTarget.value)})]}),L&&(0,a.BX)(Z.fv,{children:[(0,a.tZ)(v.__,{children:x("Poll description")}),(0,a.tZ)(Z.oi,{disabled:H,maxLength:250,placeholder:x("Enter your description..."),value:P,onChange:e=>D(e.currentTarget.value)})]}),(0,a.BX)(Z.fv,{children:[(0,a.tZ)(v.__,{children:x("Poll options")}),et.map((e,t)=>(0,a.tZ)(_,{disabled:H,index:t,showDeleteButton:et.length>2&&(t<et.length-1||e&&e.length>0),text:e,onChange:$,onDelete:ee},t))]}),(0,a.BX)(Z.fv,{children:[(0,a.tZ)(v.__,{children:x("Poll duration")}),(0,a.BX)(C.i,{disabled:H,value:String(X),onChange:e=>Q({value:e.target.value}),children:[(0,a.tZ)("option",{value:"1",children:x("1 hour")}),(0,a.tZ)("option",{value:"24",children:x("1 day")}),(0,a.tZ)("option",{value:"72",children:x("3 days")}),(0,a.tZ)("option",{value:"168",children:x("1 week")}),(0,a.tZ)("option",{value:"999999",children:x("Forever")})]})]}),y&&"enabled"===T&&(0,a.BX)(Z.fv,{children:[(0,a.tZ)(v.__,{children:x("Who can vote?")}),(0,a.BX)(C.i,{disabled:H,value:z,onChange:e=>K({value:e.target.value}),children:[(0,a.tZ)("option",{value:"only_paid",children:x("Only paid subscribers")}),(0,a.tZ)("option",{value:"all_subscribers",children:x("All subscribers who can see this post")})]})]}),(0,a.tZ)("label",{children:(0,a.BX)(m.X2,{alignItems:"center",gap:12,children:[(0,a.tZ)(h.X,{checked:W,name:"votes-hidden",onChange:()=>V(!W)}),(0,a.tZ)(w.xv.B3,{children:x("Hide the total vote count from readers?")})]})}),en&&(0,a.tZ)(Z.fv,{children:(0,a.tZ)(g.y,{children:en})})]})}),(0,a.tZ)(f.mz,{primaryButton:(0,a.tZ)(b.u,{disabled:null===J,text:null!=J?J:"",children:(0,a.tZ)(p.zx,{disabled:null!==J||H,priority:"primary",onClick:async()=>{let e=A({question:M,description:P,options:R,expiry:X,audience:z},E);if(e){Y(e);return}F(!0),Y(null);try{await l((0,i._)({audience:z,question:M,options:R.filter(Boolean),expiry:X,votes_hidden:W},L?{description:P}:{}))}catch(e){Y(x("An error occurred while saving this poll."))}finally{F(!1)}},children:x("Save")})}),secondaryButton:(0,a.tZ)(p.zx,{disabled:H,priority:"secondary",onClick:G,children:x("Cancel")}),showDivider:!0})]})}},38724:function(e,t,n){n.d(t,{Z:()=>u});var i=n(7409),r=n(99282),a=n(16584),o=n(20253),l=n(93666),s=n(68833),d=n(60308),c=n(47929);class u extends l.p{onOpen(){var e;(0,s.j)(s.FP.POLL_SIGNUP_DIALOG_PRESENTED,{poll_id:this.props.pollId,post_id:null===(e=this.props.post)||void 0===e?void 0:e.id})}onClose(){var e;(0,s.j)(s.FP.POLL_SIGNUP_DIALOG_CLOSED,{poll_id:this.props.pollId,post_id:null===(e=this.props.post)||void 0===e?void 0:e.id})}renderChildren(){let{pub:e,post:t,user:n,audience:l,pollId:u}=this.props,{email:p}=this.state;return(0,a.BX)("div",{children:[(0,a.BX)("div",{className:"poll-signup-header",children:[(0,a.tZ)("div",{className:"poll-signup-title",children:"Subscribe to ".concat(null==e?void 0:e.name," to vote on this poll")}),(0,a.BX)("div",{className:"poll-signup-audience",children:["Only ","only_paid"===l?"paid subscribers":"subscribers"," can vote on this poll."]})]}),(0,a.BX)(o.ZP,{action:(0,d.n1t)("/api/v1/free"),autoLock:!0,loading:!1,method:"post",onSuccess:n=>{(0,s.IU)(),(0,s.j)(s.FP.POLL_SIGNUP_DIALOG_SUBMITTED,{poll_id:u,post_id:null==t?void 0:t.id}),e&&(e.plans||e.has_recommendations)?document.location.href=(0,d.W1P)(e,(0,r._)((0,i._)({utm_medium:c.lP.web,utm_source:c.b3.pollSubscribeModal,utm_content:t&&t.id,just_signed_up:!0,requires_confirmation:n.body.requires_confirmation?"true":""},n.body.subscription_id&&{subscription_id:n.body.subscription_id},n.body.referral_token&&{referral_token:n.body.referral_token}),{next:(0,d.uRy)(e,t)})):document.location.reload()},children:[(0,a.BX)("div",{className:"poll-signup",children:[(0,a.tZ)("input",{"aria-label":"Email",disabled:!!n.email,name:"email",placeholder:"Type your email...",tabIndex:0,type:"email",value:null!=p?p:void 0,onChange:e=>{this.setState({email:e.target.value})}}),(0,a.tZ)("input",{name:"source",type:"hidden",value:"poll-subscribe-modal"})]}),(0,a.tZ)("div",{id:"error-container"}),(0,a.tZ)("button",{className:"button primary",type:"submit",children:"Subscribe"})]}),!n.email&&(0,a.BX)("div",{className:"poll-signin-prompt",children:["Already a subscriber?"," ",(0,a.tZ)("a",{className:"poll-signin-link",href:(0,d.uXE)({for_pub:null==e?void 0:e.subdomain,redirect:(0,d.uRy)(e,t)}),children:"Sign in"})]})]})}constructor(e,t){var n,i;super(e,t),this.state.email=null!==(i=null===(n=this.props.user)||void 0===n?void 0:n.email)&&void 0!==i?i:null}}},77216:function(e,t,n){n.d(t,{Z:()=>s});var i=n(16584),r=n(13639),a=n(95441),o=n(19081),l=n(58175);let s=e=>{let{poll:t}=e,{iString:n}=(0,a.M1)(),s=null==t?void 0:t.audience,d=null==t?void 0:t.question,c=null==t?void 0:t.description;return(0,i.BX)(o.tu,{gap:4,children:[(0,i.tZ)(o.gq,{alignItems:"baseline",className:"poll-title",gap:4,children:"only_paid"===s?(0,i.BX)(i.HY,{children:[(0,i.tZ)(r.Z,{size:16}),(0,i.tZ)(l.xv.Meta,{className:"subscriber-only-poll",translated:!0,children:"SUBSCRIBER-ONLY POLL"})]}):(0,i.tZ)(l.xv.Meta,{translated:!0,children:"POLL"})}),(0,i.tZ)(l.xv.H3,{className:"poll-question",color:"pub-primary-text",children:d||n("New Poll")}),c&&(0,i.tZ)(l.xv.B3,{color:"pub-secondary-text",children:c})]})}},38735:function(e,t,n){n.d(t,{k:()=>p});var i=n(7409),r=n(58865),a=n(16584),o=n(95441),l=n(58175);function s(){let e=(0,r._)([""," DAYS REMAINING"]);return s=function(){return e},e}function d(){let e=(0,r._)(["1 DAY REMAINING"]);return d=function(){return e},e}function c(){let e=(0,r._)([""," HOURS REMAINING"]);return c=function(){return e},e}let u=e=>{let{isExpired:t,remainingHours:n,language:i}=e,{iString:r,iTemplate:a}=I18N.i(i);if(t)return r("POLL CLOSED");if(n>=168)return"";if(n>=48){let e=Math.floor(n/24);return a(s(),e)}return n>=24?a(d()):n>=2?a(c(),n):r(1==n?"1 HOUR REMAINING":"LESS THAN 1 HOUR REMAINING")},p=e=>{let{hasVoted:t,isExpired:n,poll:r,remainingHours:s,showResults:d,user:c,onToggleShowResults:p}=e,{iString:h,iPlural:m,language:g}=(0,o.M1)(),v=(0,i._)({is_contributor:!1,is_author:!1,is_admin:!1},c),f=v.is_contributor||v.is_admin||v.is_author,C=m("%1 VOTE","%1 VOTES",r.total_votes),w=u({isExpired:n,remainingHours:s,language:g});return(0,a.BX)(l.xv.Meta,{className:"poll-status",children:[(f||!r.votes_hidden)&&"".concat(C," \xb7 "),w,f&&!t&&!n&&(0,a.BX)(a.HY,{children:[" \xb7 ",(0,a.tZ)("span",{className:"poll-author-visibility-toggle",title:h("Only the author, contributors, and admins may view results before voting."),onClick:()=>{p()},children:h(d?"SHOW OPTIONS":"SHOW RESULTS")})]})]})}},52573:function(e,t,n){n.d(t,{w:()=>s});var i=n(16584),r=n(30396),a=n(94184),o=n.n(a),l=n(18693);let s=e=>{let{id:t,text:n,onVote:a,showVotes:s,currentVotes:d,totalVotes:c,myVote:u,canVote:p}=e,h=(0,r.I4)(async()=>{t&&p&&await a(t)},[t,a,p]),m=Math.round(100*(0===c?0:d/c));return(0,i.BX)("div",{className:o()("poll-option",{"show-votes":s,"hide-votes":!s,"can-vote":p,"my-vote":u}),onClick:h,children:[s&&(0,i.tZ)("div",{className:"poll-vote-background",style:{width:"".concat(m,"%")}}),(0,i.tZ)("div",{className:"poll-option-background",children:(0,i.BX)("div",{className:"poll-option-text",children:[n,s&&u&&(0,i.tZ)(l.Z,{className:"vote-icon"})]})}),s&&(0,i.BX)("div",{className:"poll-percentage-text",children:[m,"%"]})]})}},47906:function(e,t,n){n.d(t,{B:()=>c});var i=n(30396),r=n(80569),a=n.n(r),o=n(95441),l=n(60308),s=n(69332),d=n(84864);let c=e=>{let{isEditor:t,isVersionView:n,pollId:r,post:c,onFinishSaving:u}=e,{iString:p}=(0,o.M1)(),[h,m]=(0,i.eJ)(null!=n&&n),[g,v]=(0,i.eJ)(!0),[f,C]=(0,i.eJ)(null),[w,Z]=(0,i.eJ)(null),b=(0,i.Ye)(()=>{let e={token:void 0,uuid:void 0};if("undefined"!=typeof window&&!t){var n;let t=(0,s.m)(window.location.href);if(t&&t.token&&(e.token=t.token),!e.token&&(null===(n=window._preloads)||void 0===n?void 0:n.original_url)){let t=(0,s.m)(window._preloads.original_url);t&&t.token&&(e.token=t.token)}}if("undefined"!=typeof window&&!t&&(null==c?void 0:c.is_draft)){let t=(0,l.RQ)(window.location.href);t&&(0,d.isUUID)(t)&&(e.uuid=t)}return e},[t,null==c?void 0:c.is_draft]),y=(0,i.I4)(async function(){let{shouldNotSetLoading:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{shouldNotSetLoading:!1};e||v(!0);try{let e=await a()("/api/v1/poll/".concat(r)).query(b);C(e.body),Z(null)}catch(e){Z(p("We were unable to load this poll. Please refresh the page."))}v(!1)},[r,b,p]),k=(0,i.I4)(async e=>{await a().put("/api/v1/poll/".concat(r)).send(e),v(!0),await y(),u()},[y,u,r]),A=(0,i.I4)(async e=>{if(!h){m(!0);try{await a().post("/api/v1/poll/".concat(r,"/vote")).send({poll_option_id:e}).query(b),Z(null)}catch(e){Z(p("We were unable to record your vote. Please refresh the page and try again.")),m(!1);return}await y({shouldNotSetLoading:!0}),m(!1)}},[h,y,r,b,p]);return(0,i.d4)(()=>{y()},[y]),{error:w,loading:g,poll:f,fetchPoll:y,savePoll:k,voteForOption:A}}},84711:function(e,t,n){n.d(t,{d:()=>o});var i=n(16584),r=n(55679),a=n(92314);let o=e=>{let{node:t}=e;return(0,i.tZ)(r.T5,{children:(0,i.tZ)(a.c,{mediaUploadId:t.attrs.mediaUploadId,isEditor:!0,post:null,pub:null})})}},88452:function(e,t,n){n.d(t,{Z:()=>l});var i=n(27412),r=n(6400),a=n(68833),o=n(98914);class l extends r.Component{componentWillUnmount(){this.state.uploading&&this.cancelUpload()}acceptsFile(e){return(this.props.accepts||this.accepts||"*").split(",").map(e=>new RegExp(e.trim().replace(/\./g,"\\.").replace(/\*/g,".*"))).reduce((t,n)=>t||n.test(e.type),!1)}uploadFile(e,t){let{urls:n=null,method:i="POST",rehost:r=!1,fileUrl:a=null,path:o=null,withCredentials:l=!0,useFormData:s=!0,mediaUpload:d=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};var c,u=this;if(this.state.uploading)return;if(!window.FormData||!window.XMLHttpRequest){alert("Your browser does not support uploading files!");return}if(e&&!this.acceptsFile(e)){alert("Please select a valid file");return}let p=n||this.props.urls||this.urls,h=[];if(!s&&this.chunkSize>0)for(let t=0;t<p.length;t++)h.push(e.slice(this.chunkSize*t,this.chunkSize*(t+1)));else p=[p[0]],h.push(e);let m=[],g=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=new XMLHttpRequest;if(r.upload&&r.upload.addEventListener("progress",e=>u.onProgress(e),!1),r.addEventListener("load",t=>{d&&u.onPartUploadCompleted(d,r,e),u.uploadNextFile(t)},!1),r.addEventListener("error",t=>{console.error("failed to upload",t),n<10?(console.warn("retrying attempt=".concat(n+1),t),setTimeout(()=>{let t=g(e,n+1);u.setState({uploading:t,uploadingXhrs:[...u.state.uploadingXhrs.slice(0,-1),t]})},1e3*Math.pow(2,n))):u.onError(t)},!1),r.addEventListener("abort",e=>u.onAbort(e),!1),r.withCredentials=l,d&&u.onPartUploadStarted(d,r,e),r.open(i,p[e],!0),s){let n=new FormData;if(h[e]&&n.append(u.fileName||"file",h[e]),t)for(let e of Object.keys(t))n.append(e,t[e]);r.send(n)}else if(h[e]){var a,o;(null===(a=h[e])||void 0===a?void 0:a.type)&&r.setRequestHeader("Content-Type",null===(o=h[e])||void 0===o?void 0:o.type),r.send(h[e])}return r};for(let e=0;e<p.length;e++){if(d){let t=(null!==(c=d.parts)&&void 0!==c?c:[]).find(t=>t.part_number===e+1);if(null==t?void 0:t.etag){console.warn("already uploaded part ".concat(e+1));continue}}m.push(()=>g(e))}if(m.length)return this.resetUpload(m,r,a,o,d),m;this.onComplete()}uploadNextFile(e){let{uploadingXhrs:t,uploadingXhrGenerators:n}=this.state;if(t&&n&&t.length<n.length){let e=n[t.length]();this.setState({uploading:e,uploadingXhrs:t.concat([e])});return}this.onComplete(e)}resetUpload(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;arguments.length>4&&arguments[4];let r=null,a=null==e?void 0:e[0];a?r=a():e=null,clearInterval(this.state.percentCompleteInterval),this.setState({uploading:r,uploadingXhrs:r?[r]:null,uploadingXhrGenerators:e,startedAt:new Date().getTime(),percentComplete:null,percentCompleteInterval:null,estimatedTimeLeft:null,estimatedTimeLeftAt:null,rehost:t,fileUrl:n,path:i})}startPercentCompleteInterval(){this.setState({uploadedAt:new Date().getTime(),percentCompleteInterval:window.setInterval(()=>this.onPercentCompleteInterval(),100)})}onPercentCompleteInterval(){if(!this.state.uploading)return;let e=this.state.uploadedAt-this.state.startedAt,t=e*(1/this.fudgeFactor-1),n=e+t,i=Date.now()-this.state.startedAt;i<n?this.setEstimatedTimeLeft(i/n):null!==this.state.percentComplete&&this.state.percentComplete<1&&this.setEstimatedTimeLeft(1)}cancelUpload(){if(this.state.uploading)try{this.state.uploading.abort()}catch(e){console.error("Failed to cancel upload",e)}}setEstimatedTimeLeft(e){let t=0,n=new Date().getTime();if(this.state.startedAt&&Date.now()-this.state.startedAt>=5e3&&e&&e<1){let i=Date.now()-this.state.startedAt,r=i/e-i;r>=6e4&&(this.state.estimatedTimeLeft&&this.state.estimatedTimeLeft<r&&this.state.estimatedTimeLeftAt-Date.now()<5e3?(t=this.state.estimatedTimeLeft,n=this.state.estimatedTimeLeftAt):t=r)}return this.state.estimatedTimeLeft!==t&&this.setState({estimatedTimeLeft:t,estimatedTimeLeftAt:n}),t}getEstimatedTimeLeftMs(){return this.state.estimatedTimeLeft}onProgress(e){let{existingEtags:t=[],uploadingXhrs:n,uploadingXhrGenerators:i,percentCompleteInterval:r}=this.state;if(!r&&e.lengthComputable){var a,o;let r=(null!==(a=null==i?void 0:i.length)&&void 0!==a?a:1)+t.length,l=((null!==(o=null==n?void 0:n.length)&&void 0!==o?o:1)-1+t.length)/r+e.loaded/e.total/r,s=Math.min(l,1);this.setState({percentComplete:s}),this.props.onProgress&&this.props.onProgress({percentComplete:100*s});let d=(null==i?void 0:i.length)||1,c=(((null==n?void 0:n.length)||1)-1)/d+e.loaded/e.total/d;this.setEstimatedTimeLeft(c*this.fudgeFactor),l>=1&&this.startPercentCompleteInterval()}}async onComplete(e){var t,n;let i;let r=this.state.uploading&&this.state.uploading.status;if(!r||r<200||r>=400){this.onError();return}let a=null!==(n=null===(t=this.state.uploading)||void 0===t?void 0:t.responseText)&&void 0!==n?n:"";try{i=JSON.parse(a)}catch(e){console.error("Failed to parse response:",e)}this.resetUpload(),this.props.onUpload&&this.props.onUpload(i,a)}onError(e,t){let n=t||(0,o.zm)(this.state.uploading);alert(n),this.resetUpload(),this.props.onError&&this.props.onError(Error(n))}onAbort(e){this.resetUpload(),this.props.onAbort&&this.props.onAbort()}render(e,t){return console.error("should be implemented by subclass"),null}constructor(e,t){super(e,t),(0,i._)(this,"fudgeFactor",.8),(0,i._)(this,"accepts",null),(0,i._)(this,"chunkSize",null),(0,i._)(this,"fileName",""),(0,i._)(this,"urls",[]),(0,i._)(this,"onPartUploadStarted",async(e,t,n)=>{(0,a.j)(a.FP.MEDIA_UPLOAD_PART_STARTED,{media_upload_id:e.id,post_id:e.post_id,part_number:n})}),(0,i._)(this,"onPartUploadCompleted",async(e,t,n)=>{(0,a.j)(a.FP.MEDIA_UPLOAD_PART_COMPLETED,{media_upload_id:e.id,post_id:e.post_id,part_number:n})}),this.state={uploading:null,uploadingXhrGenerators:[],uploadingXhrs:[],existingEtags:[],startedAt:null,uploadedAt:null,percentComplete:null,percentCompleteInterval:null,estimatedTimeLeft:null,estimatedTimeLeftAt:null,rehost:null,fileUrl:null,path:null}}}},48083:function(e,t,n){n.d(t,{Z:()=>r});var i=n(30396);let r=e=>{let[t,n]=(0,i.eJ)(0);return(0,i.d4)(()=>{let t=()=>{e&&n(e.currentTime)};if(e)return e.addEventListener("timeupdate",t),()=>{e.removeEventListener("timeupdate",t)}},[e]),t}},14068:function(e,t,n){n.d(t,{Z:()=>r});var i=n(30396);let r=function(e,t){(0,i.d4)(()=>{function n(n){let i=n.target;e.current&&!e.current.contains(i)&&t()}function i(e){("Escape"===e.key||27===e.keyCode)&&t()}return document.addEventListener("mousedown",n),document.addEventListener("keydown",i),()=>{document.removeEventListener("mousedown",n),document.removeEventListener("keydown",i)}},[e,t])}},36081:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),a=n(16584),o=n(64515);let l=e=>(0,a.tZ)(o.l,(0,r._)((0,i._)({},e),{name:"Back15Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"},children:(0,a.tZ)("path",{d:"M0 11.8557C0 13.2164 0.260417 14.4989 0.78125 15.7034C1.30208 16.9078 2.02148 17.969 2.93945 18.887C3.85742 19.7984 4.91536 20.5146 6.11328 21.0354C7.31771 21.5562 8.60026 21.8166 9.96094 21.8166C11.3216 21.8166 12.6009 21.5562 13.7988 21.0354C15.0033 20.5146 16.0645 19.7984 16.9824 18.887C17.9004 17.969 18.6198 16.9078 19.1406 15.7034C19.6615 14.4989 19.9219 13.2164 19.9219 11.8557C19.9219 10.6578 19.7168 9.51846 19.3066 8.43773C18.8965 7.357 18.3236 6.38044 17.5879 5.50805C16.8587 4.62914 16.0026 3.89672 15.0195 3.31078C14.043 2.71833 12.985 2.30818 11.8457 2.08031V0.693592C11.8457 0.342029 11.7448 0.12393 11.543 0.039295C11.3411 -0.0453404 11.1068 0.00674294 10.8398 0.195545L7.72461 2.37328C7.49674 2.52953 7.38281 2.71182 7.38281 2.92015C7.38281 3.12849 7.49674 3.31403 7.72461 3.47679L10.8301 5.6643C11.097 5.85961 11.3314 5.91495 11.5332 5.83031C11.7415 5.73916 11.8457 5.51781 11.8457 5.16625V3.77953C12.7702 3.98786 13.6198 4.33943 14.3945 4.83422C15.1758 5.32901 15.8529 5.93448 16.4258 6.65062C17.0052 7.36677 17.4544 8.16755 17.7734 9.05297C18.0924 9.93187 18.252 10.8661 18.252 11.8557C18.252 13.008 18.0371 14.0888 17.6074 15.0979C17.1842 16.1005 16.5918 16.9827 15.8301 17.7444C15.0749 18.4996 14.196 19.0888 13.1934 19.512C12.1908 19.9416 11.1133 20.1565 9.96094 20.1565C8.80859 20.1565 7.72786 19.9416 6.71875 19.512C5.71615 19.0888 4.83398 18.4996 4.07227 17.7444C3.31706 16.9827 2.72461 16.1005 2.29492 15.0979C1.87174 14.0888 1.66016 13.008 1.66016 11.8557C1.66016 10.9312 1.80339 10.0523 2.08984 9.21898C2.3763 8.37914 2.77669 7.61416 3.29102 6.92406C3.80534 6.23396 4.40755 5.64151 5.09766 5.14672C5.29948 4.99698 5.42643 4.81469 5.47852 4.59984C5.53711 4.385 5.50456 4.17666 5.38086 3.97484C5.25716 3.77953 5.07812 3.66234 4.84375 3.62328C4.60938 3.57771 4.38477 3.6363 4.16992 3.79906C3.33008 4.40453 2.59766 5.12719 1.97266 5.96703C1.34766 6.80036 0.86263 7.71833 0.517578 8.72094C0.172526 9.71703 0 10.762 0 11.8557ZM7.10938 15.8596C7.29818 15.8596 7.44792 15.801 7.55859 15.6838C7.66927 15.5601 7.72461 15.3941 7.72461 15.1858V9.02367C7.72461 8.76976 7.66602 8.58096 7.54883 8.45726C7.43164 8.32706 7.26237 8.26195 7.04102 8.26195C6.9043 8.26195 6.77734 8.28799 6.66016 8.34008C6.54297 8.38565 6.39648 8.46703 6.2207 8.58422L4.88281 9.49242C4.77214 9.57055 4.6875 9.65844 4.62891 9.75609C4.57682 9.84724 4.55078 9.94815 4.55078 10.0588C4.55078 10.2216 4.60612 10.3616 4.7168 10.4787C4.82747 10.5959 4.96094 10.6545 5.11719 10.6545C5.21484 10.6545 5.29622 10.6415 5.36133 10.6155C5.42643 10.5894 5.5013 10.5406 5.58594 10.469L6.52344 9.78539H6.50391V15.1858C6.50391 15.3876 6.55924 15.5504 6.66992 15.6741C6.7806 15.7978 6.92708 15.8596 7.10938 15.8596ZM12.0703 15.9768C12.8776 15.9768 13.5254 15.7392 14.0137 15.2639C14.5085 14.7821 14.7559 14.1474 14.7559 13.3596C14.7559 12.6435 14.5378 12.0543 14.1016 11.592C13.6654 11.1298 13.099 10.8987 12.4023 10.8987C12.0898 10.8987 11.7839 10.9703 11.4844 11.1135C11.1914 11.2567 10.9798 11.4521 10.8496 11.6995H10.8984L11.0742 9.49242H13.9941C14.1374 9.49242 14.2611 9.44034 14.3652 9.33617C14.4759 9.232 14.5312 9.09528 14.5312 8.92601C14.5312 8.76325 14.4759 8.63305 14.3652 8.53539C14.2611 8.43122 14.1374 8.37914 13.9941 8.37914H10.8789C10.3646 8.37914 10.0846 8.64932 10.0391 9.18969L9.82422 12.0022C9.80469 12.2431 9.85352 12.4254 9.9707 12.5491C10.0879 12.6662 10.2539 12.7248 10.4688 12.7248C10.625 12.7248 10.752 12.7053 10.8496 12.6662C10.9473 12.6272 11.0645 12.5556 11.2012 12.4514C11.39 12.2821 11.5658 12.1617 11.7285 12.0901C11.8913 12.012 12.0703 11.9729 12.2656 11.9729C12.6432 11.9729 12.9492 12.1031 13.1836 12.3635C13.418 12.6174 13.5352 12.956 13.5352 13.3791C13.5352 13.8088 13.4017 14.1636 13.1348 14.4436C12.8678 14.7235 12.5326 14.8635 12.1289 14.8635C11.8359 14.8635 11.5723 14.7886 11.3379 14.6389C11.1035 14.4827 10.9245 14.2776 10.8008 14.0237C10.7292 13.9 10.6478 13.8056 10.5566 13.7405C10.4655 13.6689 10.3581 13.633 10.2344 13.633C10.0716 13.633 9.93815 13.6851 9.83398 13.7893C9.73633 13.8935 9.6875 14.0302 9.6875 14.1995C9.6875 14.2646 9.69401 14.3297 9.70703 14.3948C9.72005 14.4599 9.73958 14.525 9.76562 14.5901C9.89583 14.9416 10.1628 15.2606 10.5664 15.5471C10.9766 15.8336 11.4779 15.9768 12.0703 15.9768Z"})}))},13304:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),a=n(16584),o=n(64515);let l=e=>(0,a.BX)(o.l,(0,r._)((0,i._)({},e),{name:"CloseIcon",svgParams:{height:20,width:20,stroke:"#666666"},children:[(0,a.tZ)("path",{d:"M15 5L5 15",strokeWidth:"1.5",strokeLinecap:"round","stroke-linejoin":"round"}),(0,a.tZ)("path",{d:"M5 5L15 15",strokeWidth:"1.5",strokeLinecap:"round","stroke-linejoin":"round"})]}))},36813:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),a=n(16584),o=n(64515);let l=e=>(0,a.tZ)(o.l,(0,r._)((0,i._)({},e),{name:"Forward30Icon",svgParams:{width:20,height:22,viewBox:"0 0 20 22",stroke:"none",fill:"white"},children:(0,a.tZ)("path",{d:"M13.1738 15.9615C13.7142 15.9615 14.1829 15.802 14.5801 15.483C14.9837 15.1574 15.2962 14.705 15.5176 14.1255C15.7454 13.5461 15.8594 12.8658 15.8594 12.0845C15.8594 11.2968 15.7454 10.6099 15.5176 10.024C15.2962 9.43803 14.9837 8.9823 14.5801 8.65678C14.1829 8.33126 13.7142 8.1685 13.1738 8.1685C12.6335 8.1685 12.1615 8.33126 11.7578 8.65678C11.3542 8.97579 11.0417 9.42827 10.8203 10.0142C10.599 10.6001 10.4883 11.2902 10.4883 12.0845C10.4883 12.8658 10.599 13.5461 10.8203 14.1255C11.0417 14.705 11.3542 15.1574 11.7578 15.483C12.1615 15.802 12.6335 15.9615 13.1738 15.9615ZM6.875 15.9615C7.64323 15.9615 8.27148 15.7531 8.75977 15.3365C9.25456 14.9133 9.50195 14.3729 9.50195 13.7154C9.50195 13.2401 9.35221 12.83 9.05273 12.4849C8.75326 12.1333 8.3724 11.9315 7.91016 11.8794V11.9283C8.28125 11.8632 8.59701 11.6613 8.85742 11.3228C9.12435 10.9843 9.25781 10.5969 9.25781 10.1607C9.25781 9.57475 9.03971 9.09624 8.60352 8.72514C8.17383 8.35405 7.61719 8.1685 6.93359 8.1685C6.34115 8.1685 5.82357 8.3215 5.38086 8.62749C4.93815 8.92697 4.66471 9.31108 4.56055 9.77983C4.54753 9.83842 4.53776 9.89376 4.53125 9.94585C4.52474 9.99793 4.52148 10.05 4.52148 10.1021C4.52148 10.2779 4.57031 10.4211 4.66797 10.5318C4.77214 10.6425 4.90885 10.6978 5.07812 10.6978C5.35156 10.6978 5.54036 10.5448 5.64453 10.2388C5.74219 9.93282 5.89518 9.7017 6.10352 9.54545C6.31185 9.38269 6.57878 9.30131 6.9043 9.30131C7.24935 9.30131 7.52604 9.39572 7.73438 9.58452C7.94922 9.76681 8.05664 10.0077 8.05664 10.3072C8.05664 10.6197 7.94922 10.8801 7.73438 11.0884C7.51953 11.2902 7.23958 11.3912 6.89453 11.3912H6.47461C6.31185 11.3912 6.18164 11.4432 6.08398 11.5474C5.98633 11.6451 5.9375 11.7818 5.9375 11.9576C5.9375 12.1203 5.98633 12.257 6.08398 12.3677C6.18815 12.4719 6.31836 12.524 6.47461 12.524H6.93359C7.35026 12.524 7.67904 12.6281 7.91992 12.8365C8.16081 13.0448 8.28125 13.3215 8.28125 13.6665C8.28125 13.9986 8.14779 14.2785 7.88086 14.5064C7.62044 14.7277 7.28841 14.8384 6.88477 14.8384C6.53971 14.8384 6.25 14.757 6.01562 14.5943C5.78125 14.4315 5.60872 14.1971 5.49805 13.8912C5.43945 13.7284 5.36458 13.6112 5.27344 13.5396C5.18229 13.468 5.07161 13.4322 4.94141 13.4322C4.77865 13.4322 4.64193 13.4875 4.53125 13.5982C4.42708 13.7089 4.375 13.8521 4.375 14.0279C4.375 14.08 4.37826 14.1353 4.38477 14.1939C4.39128 14.246 4.40104 14.2981 4.41406 14.3501C4.51823 14.8059 4.80469 15.19 5.27344 15.5025C5.74219 15.8085 6.27604 15.9615 6.875 15.9615ZM13.1738 14.7798C12.7441 14.7798 12.3991 14.5389 12.1387 14.0572C11.8848 13.5754 11.7578 12.9179 11.7578 12.0845C11.7578 11.2317 11.8848 10.5643 12.1387 10.0826C12.3926 9.59428 12.7376 9.35014 13.1738 9.35014C13.61 9.35014 13.9518 9.59103 14.1992 10.0728C14.4531 10.5546 14.5801 11.2251 14.5801 12.0845C14.5801 12.9179 14.4531 13.5754 14.1992 14.0572C13.9453 14.5389 13.6035 14.7798 13.1738 14.7798ZM9.96094 21.8111C11.3216 21.8111 12.6009 21.5507 13.7988 21.0298C15.0033 20.509 16.0645 19.7928 16.9824 18.8814C17.9004 17.9634 18.6198 16.9022 19.1406 15.6978C19.6615 14.4934 19.9219 13.2108 19.9219 11.8501C19.9219 10.7564 19.7493 9.71147 19.4043 8.71538C19.0592 7.71277 18.5742 6.7948 17.9492 5.96147C17.3242 5.12163 16.5918 4.39897 15.752 3.7935C15.5371 3.63074 15.3125 3.57215 15.0781 3.61772C14.8438 3.65678 14.6647 3.77397 14.541 3.96928C14.4173 4.17111 14.3815 4.37944 14.4336 4.59428C14.4922 4.80913 14.6224 4.99142 14.8242 5.14116C15.5143 5.63595 16.1165 6.2284 16.6309 6.9185C17.1452 7.60861 17.5456 8.37358 17.832 9.21342C18.1185 10.0468 18.2617 10.9257 18.2617 11.8501C18.2617 13.0025 18.0469 14.0832 17.6172 15.0923C17.194 16.0949 16.6016 16.9771 15.8398 17.7388C15.0846 18.494 14.2025 19.0832 13.1934 19.5064C12.1908 19.9361 11.1133 20.1509 9.96094 20.1509C8.80859 20.1509 7.73112 19.9361 6.72852 19.5064C5.72591 19.0832 4.84375 18.494 4.08203 17.7388C3.32682 16.9771 2.73438 16.0949 2.30469 15.0923C1.88151 14.0832 1.66992 13.0025 1.66992 11.8501C1.66992 10.7043 1.88151 9.63009 2.30469 8.62749C2.73438 7.61837 3.32682 6.73621 4.08203 5.981C4.83724 5.21928 5.71615 4.62358 6.71875 4.19389C7.72135 3.7642 8.79883 3.54936 9.95117 3.54936V1.8892C8.59049 1.8892 7.30794 2.14962 6.10352 2.67045C4.9056 3.19129 3.84766 3.91069 2.92969 4.82866C2.01823 5.74663 1.30208 6.80782 0.78125 8.01225C0.260417 9.21017 0 10.4895 0 11.8501C0 13.2108 0.260417 14.4934 0.78125 15.6978C1.30208 16.9022 2.02148 17.9634 2.93945 18.8814C3.85742 19.7928 4.91536 20.509 6.11328 21.0298C7.31771 21.5507 8.60026 21.8111 9.96094 21.8111ZM8.07617 0.697798V5.17045C8.07617 5.51551 8.17708 5.73361 8.37891 5.82475C8.58724 5.90939 8.82487 5.8573 9.0918 5.6685L12.207 3.481C12.4284 3.33126 12.5391 3.15223 12.5391 2.94389C12.5456 2.72905 12.4349 2.5435 12.207 2.38725L9.10156 0.199751C8.82812 0.00443892 8.58724 -0.0476444 8.37891 0.0435014C8.17708 0.128137 8.07617 0.346236 8.07617 0.697798Z"})}))},20145:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),a=n(16584),o=n(64515);let l=e=>(0,a.tZ)(o.l,(0,r._)((0,i._)({strokeLinecap:"round",strokeLinejoin:"round"},e),{name:"LucideStarIcon",svgParams:{height:24,width:24},children:(0,a.tZ)("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"})}))},1467:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),a=n(16584),o=n(64515);let l=e=>(0,a.tZ)(o.l,(0,r._)((0,i._)({},e),{name:"NoteReplyIcon",svgParams:{height:24,width:24,stroke:e.stroke,strokeWidth:e.strokeWidth},children:(0,a.tZ)("path",{d:"M22 11.4445C22.0038 12.911 21.6612 14.3577 21 15.6667C20.216 17.2353 19.0108 18.5546 17.5194 19.477C16.0279 20.3993 14.3091 20.8882 12.5555 20.8889C11.089 20.8927 9.64234 20.5501 8.33332 19.8889L2 22L4.11111 15.6667C3.44992 14.3577 3.10729 12.911 3.11111 11.4445C3.11179 9.69086 3.60068 7.97208 4.52302 6.48064C5.44536 4.98919 6.76472 3.78399 8.33332 3.00003C9.64234 2.33884 11.089 1.99621 12.5555 2.00003H13.1111C15.427 2.1278 17.6145 3.10532 19.2546 4.74543C20.8947 6.38553 21.8722 8.57297 22 10.8889V11.4445Z","stroke-linecap":"round","stroke-linejoin":"round"})}))},53804:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(64515);let s=e=>{var{size:t=20,stroke:n="var(--color-fg-primary)",strokeWidth:s=1.5,className:d}=e,c=(0,a._)(e,["size","stroke","strokeWidth","className"]);return(0,o.tZ)(l.l,(0,r._)((0,i._)({},c),{name:"NoteRestackIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round",className:d,children:(0,o.tZ)("path",{d:"M2.53001 7.81595C3.49179 4.73911 6.43281 2.5 9.91173 2.5C13.1684 2.5 15.9537 4.46214 17.0852 7.23684L17.6179 8.67647M17.6179 8.67647L18.5002 4.26471M17.6179 8.67647L13.6473 6.91176M17.4995 12.1841C16.5378 15.2609 13.5967 17.5 10.1178 17.5C6.86118 17.5 4.07589 15.5379 2.94432 12.7632L2.41165 11.3235M2.41165 11.3235L1.5293 15.7353M2.41165 11.3235L6.38224 13.0882"})}))}},25226:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(64515);let s=e=>{var{size:t=20,stroke:n="var(--color-fg-primary)",strokeWidth:s=1.5}=e,d=(0,a._)(e,["size","stroke","strokeWidth"]);return(0,o.tZ)(l.l,(0,r._)((0,i._)({},d),{name:"NoteShareIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round",children:(0,o.tZ)("path",{d:"M10.2171 2.2793L10.2171 12.9745M10.2171 2.2793L13.333 4.99984M10.2171 2.2793L7.08301 4.99984M2.49967 10.9925L2.49967 14.1592C2.49967 16.011 4.00084 17.5121 5.85261 17.5121L14.9801 17.5121C16.8318 17.5121 18.333 16.011 18.333 14.1592L18.333 10.9925"})}))}},52842:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),a=n(16584),o=n(64515);let l=e=>(0,a.tZ)(o.l,(0,r._)((0,i._)({},e),{name:"PauseIconRounded",svgParams:{height:16,width:16},stroke:"none",children:(0,a.tZ)("path",{d:"M3.43396 16C2.47491 16 1.99064 15.5157 2.00014 14.5757V1.42433C2.00014 0.484273 2.48441 0 3.43396 0L5.7034 0C6.65296 0.00949555 7.13723 0.465282 7.13723 1.42433V14.5757C7.13723 15.5157 6.65296 16 5.7034 16H3.43396ZM10.831 16C9.87195 16 9.40666 15.5157 9.40666 14.5757V1.42433C9.40666 0.484273 9.89094 0 10.831 0L13.1004 0C14.05 0 14.5343 0.465282 14.5343 1.42433V14.5757C14.5343 15.5157 14.05 16 13.1004 16H10.831Z"})}))},82016:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),a=n(16584),o=n(64515);let l=e=>(0,a.tZ)(o.l,(0,r._)((0,i._)({},e),{name:"PlayIcon",svgParams:{height:43,width:35},children:(0,a.tZ)("path",{d:"M34.428 20.819C34.8483 21.0821 34.8483 21.7121 34.428 21.9752L1.74924 42.4349C1.3132 42.7079 0.755859 42.3835 0.755859 41.8568V0.937387C0.755859 0.410635 1.3132 0.0862969 1.74925 0.359298L34.428 20.819Z"})}))},36181:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(64515);let s=e=>{var{fill:t="white"}=e,n=(0,a._)(e,["fill"]);return(0,o.BX)(l.l,(0,r._)((0,i._)({},n),{name:"PodcastEmbedPauseIcon",svgParams:{width:13,height:16,viewBox:"0 0 13 16",stroke:"none",fill:t},children:[(0,o.tZ)("path",{d:"M4 0H1C0.447715 0 0 0.447715 0 1V15C0 15.5523 0.447715 16 1 16H4C4.55228 16 5 15.5523 5 15V1C5 0.447715 4.55228 0 4 0Z"}),(0,o.tZ)("path",{d:"M11.9998 0H8.99976C8.44747 0 7.99976 0.447715 7.99976 1V15C7.99976 15.5523 8.44747 16 8.99976 16H11.9998C12.552 16 12.9998 15.5523 12.9998 15V1C12.9998 0.447715 12.552 0 11.9998 0Z"})]}))}},18389:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(64515);let s=e=>{var{fill:t="white"}=e,n=(0,a._)(e,["fill"]);return(0,o.tZ)(l.l,(0,r._)((0,i._)({},n),{name:"PodcastEmbedPlayIcon",svgParams:{width:14,height:16,viewBox:"0 0 14 16",stroke:"none",fill:t},children:(0,o.tZ)("path",{d:"M12.8563 6.71384C13.8273 7.29645 13.8273 8.70372 12.8563 9.28632L2.27174 15.637C1.27196 16.2369 1.11076e-07 15.5167 1.62041e-07 14.3508L7.17238e-07 1.64937C7.68203e-07 0.483426 1.27196 -0.236744 2.27174 0.363129L12.8563 6.71384Z"})}))}},27027:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),a=n(16584),o=n(64515);let l=e=>(0,a.BX)(o.l,(0,r._)((0,i._)({},e),{name:"ShareFbIcon",svgParams:{height:24,width:24,stroke:"none"},children:[(0,a.BX)("g",{"clip-path":"url(#clip0_2063_103618)",children:[(0,a.tZ)("circle",{cx:"12",cy:"12",r:"12",fill:"white",stroke:"none"}),(0,a.tZ)("path",{d:"M9.101 23.647V15.667H6.627V12H9.101V10.42C9.101 6.335 10.949 4.442 14.959 4.442C15.36 4.442 15.914 4.484 16.427 4.545C16.8112 4.58454 17.1924 4.64968 17.568 4.74V8.065C17.3509 8.04475 17.133 8.03274 16.915 8.029C16.6707 8.02266 16.4264 8.01966 16.182 8.02C15.475 8.02 14.923 8.116 14.507 8.329C14.2273 8.46931 13.9922 8.68468 13.828 8.951C13.57 9.371 13.454 9.946 13.454 10.703V12H17.373L16.987 14.103L16.7 15.667H13.454V23.912C19.396 23.194 24 18.135 24 12C24 5.373 18.627 0 12 0C5.373 0 0 5.373 0 12C0 17.628 3.874 22.35 9.101 23.647Z",fill:"#0866FF",stroke:"none"})]}),(0,a.tZ)("defs",{children:(0,a.tZ)("clipPath",{id:"clip0_2063_103618",children:(0,a.tZ)("rect",{width:"24",height:"24",fill:"white",stroke:"none"})})})]}))},55232:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),a=n(16584),o=n(64515);let l=e=>(0,a.BX)(o.l,(0,r._)((0,i._)({},e),{name:"ShareLinkedinIcon",svgParams:{height:24,width:24,stroke:"none"},children:[(0,a.tZ)("g",{"clip-path":"url(#clip0_2099_103632)"}),(0,a.tZ)("rect",{x:"1",y:"1",width:"22",height:"22",fill:"white",stroke:"none"}),(0,a.tZ)("path",{d:"M20.447 20.452H16.893V14.883C16.893 13.555 16.866 11.846 15.041 11.846C13.188 11.846 12.905 13.291 12.905 14.785V20.452H9.351V9H12.765V10.561H12.811C13.288 9.661 14.448 8.711 16.181 8.711C19.782 8.711 20.448 11.081 20.448 14.166L20.447 20.452ZM5.337 7.433C4.193 7.433 3.274 6.507 3.274 5.368C3.274 4.23 4.194 3.305 5.337 3.305C6.477 3.305 7.401 4.23 7.401 5.368C7.401 6.507 6.476 7.433 5.337 7.433ZM7.119 20.452H3.555V9H7.119V20.452ZM22.225 0H1.771C0.792 0 0 0.774 0 1.729V22.271C0 23.227 0.792 24 1.771 24H22.222C23.2 24 24 23.227 24 22.271V1.729C24 0.774 23.2 0 22.222 0H22.225Z",fill:"#0A66C2",stroke:"none"}),(0,a.tZ)("defs",{children:(0,a.tZ)("clipPath",{id:"clip0_2099_103632",children:(0,a.tZ)("rect",{width:"24",height:"24",fill:"white",style:"fill:white;fill-opacity:1;"})})})]}))},51214:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),a=n(16584),o=n(64515);let l=e=>(0,a.BX)(o.l,(0,r._)((0,i._)({},e),{name:"SimpleCheckmarkIcon",svgParams:{height:100,width:100},children:[(0,a.tZ)("path",{d:"m40.9 70c-.5 0-1-.2-1.4-.6-.8-.8-.8-2 0-2.8l36.8-36.8c.8-.8 2-.8 2.8 0s.8 2 0 2.8l-36.8 36.8c-.4.4-.9.6-1.4.6z"}),(0,a.tZ)("path",{d:"m40.9 70c-.5 0-1-.2-1.4-.6l-16.5-16.5c-.8-.8-.8-2 0-2.8s2-.8 2.8 0l16.5 16.5c.8.8.8 2 0 2.8-.4.4-.9.6-1.4.6z"})]}))},90443:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(64515);let s=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,s=(0,a._)(e,["size","fill"]);return(0,o.tZ)(l.l,(0,r._)((0,i._)({},s),{name:"HackerNewsIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,stroke:"none",children:(0,o.tZ)("path",{stroke:"none",fillRule:"evenodd",clipRule:"evenodd",d:"M0 2C0 0.895431 0.895431 0 2 0H18C19.1046 0 20 0.895431 20 2V18C20 19.1046 19.1046 20 18 20H2C0.895431 20 0 19.1046 0 18V2ZM9.32607 11.3083L5.8932 4.87747H7.46207L9.4814 8.9472C9.51247 9.01969 9.54871 9.09477 9.59013 9.17243C9.63156 9.2501 9.6678 9.33036 9.69887 9.4132C9.71958 9.44427 9.73511 9.47274 9.74547 9.49863C9.75582 9.52452 9.76618 9.54782 9.77653 9.56853C9.82831 9.67209 9.87491 9.77305 9.91633 9.87143C9.95776 9.96981 9.994 10.0604 10.0251 10.1433C10.1079 9.96722 10.1985 9.77823 10.2969 9.5763C10.3953 9.37437 10.4962 9.16467 10.5998 8.9472L12.6502 4.87747H14.1103L10.6464 11.3859V15.5333H9.32607V11.3083Z"})}))}},82653:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(64515);let s=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,s=(0,a._)(e,["size","fill"]);return(0,o.tZ)(l.l,(0,r._)((0,i._)({},s),{name:"MailIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,children:(0,o.tZ)("path",{stroke:"none",d:"M9.9958 11.0646C10.2693 11.0646 10.5346 10.9569 10.7915 10.7248L19.0717 3.431C18.6241 3.13262 18.1102 3 17.3974 3H2.60257C1.88976 3 1.37587 3.13262 0.920011 3.431L9.20011 10.7248C9.46534 10.9569 9.73057 11.0646 9.9958 11.0646ZM0.215499 15.9465L6.34893 9.82137L0.198922 4.40075C0.107749 4.5748 0 4.99751 0 5.56941V14.7199C0 15.2503 0.0828842 15.6316 0.215499 15.9465ZM2.35391 17.2892H17.646C18.2511 17.2892 18.7235 17.14 19.0385 16.9245L12.731 10.6171L11.5209 11.6945C11.0402 12.1173 10.518 12.3328 9.9958 12.3328C9.48197 12.3328 8.95975 12.1173 8.47905 11.6945L7.26894 10.6171L0.961455 16.9245C1.27642 17.14 1.74057 17.2892 2.35391 17.2892ZM19.7844 15.9465C19.9088 15.6316 20 15.2503 20 14.7199V5.56941C20 4.99751 19.8922 4.5748 19.8011 4.40075L13.651 9.82137L19.7844 15.9465Z"})}))}},77559:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(64515);let s=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,s=(0,a._)(e,["size","fill"]);return(0,o.tZ)(l.l,(0,r._)((0,i._)({},s),{name:"PinterestIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,children:(0,o.tZ)("path",{stroke:"none",d:"M10 0C4.47656 0 0 4.47656 0 10C0 14.2383 2.63672 17.8555 6.35547 19.3125C6.26953 18.5195 6.1875 17.3086 6.39062 16.4453C6.57422 15.6641 7.5625 11.4766 7.5625 11.4766C7.5625 11.4766 7.26172 10.8789 7.26172 9.99219C7.26172 8.60156 8.06641 7.5625 9.07031 7.5625C9.92187 7.5625 10.3359 8.20312 10.3359 8.97266C10.3359 9.83203 9.78906 11.1133 9.50781 12.3008C9.27344 13.2969 10.0078 14.1094 10.9883 14.1094C12.7656 14.1094 14.1328 12.2344 14.1328 9.53125C14.1328 7.13672 12.4141 5.46094 9.95703 5.46094C7.11328 5.46094 5.44141 7.59375 5.44141 9.80078C5.44141 10.6602 5.77344 11.582 6.1875 12.082C6.26953 12.1797 6.28125 12.2695 6.25781 12.3672C6.18359 12.6836 6.01172 13.3633 5.98047 13.5C5.9375 13.6836 5.83594 13.7227 5.64453 13.6328C4.39453 13.0508 3.61328 11.2266 3.61328 9.75781C3.61328 6.60156 5.90625 3.70703 10.2188 3.70703C13.6875 3.70703 16.3828 6.17969 16.3828 9.48438C16.3828 12.9297 14.2109 15.7031 11.1953 15.7031C10.1836 15.7031 9.23047 15.1758 8.90234 14.5547C8.90234 14.5547 8.40234 16.4648 8.28125 16.9336C8.05469 17.8008 7.44531 18.8906 7.03906 19.5547C7.97656 19.8438 8.96875 20 10 20C15.5234 20 20 15.5234 20 10C20 4.47656 15.5234 0 10 0Z"})}))}},82695:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(64515);let s=e=>{var{size:t=24,fill:n="var(--color-fg-primary)"}=e,s=(0,a._)(e,["size","fill"]);return(0,o.tZ)(l.l,(0,r._)((0,i._)({},s),{name:"RedditIcon",svgParams:{viewBox:"0 0 20 20"},width:t,height:t,fill:n,children:(0,o.tZ)("path",{stroke:"none",fillRule:"evenodd",clipRule:"evenodd",d:"M20 10C20 15.5228 15.5228 20 10 20C4.47715 20 0 15.5228 0 10C0 4.47715 4.47715 0 10 0C15.5228 0 20 4.47715 20 10ZM15.2049 8.53825C16.0119 8.53825 16.6669 9.19322 16.6669 10.0002C16.6669 10.5967 16.3043 11.1113 15.8248 11.3453C15.8482 11.4856 15.8599 11.626 15.8599 11.778C15.8599 14.0236 13.2517 15.8365 10.0236 15.8365C6.79553 15.8365 4.18734 14.0236 4.18734 11.778C4.18734 11.626 4.19904 11.4739 4.22243 11.3336C3.70781 11.0997 3.35693 10.5967 3.35693 10.0002C3.35693 9.19322 4.0119 8.53825 4.81892 8.53825C5.20489 8.53825 5.56746 8.70199 5.82477 8.9476C6.83062 8.21076 8.22243 7.75462 9.77799 7.70784L10.5148 4.22246C10.5382 4.15228 10.5733 4.0938 10.6318 4.05871C10.6903 4.02363 10.7604 4.01193 10.8306 4.02363L13.2517 4.53825C13.4154 4.18737 13.7663 3.95345 14.1756 3.95345C14.7487 3.95345 15.2166 4.42129 15.2166 4.99439C15.2166 5.56749 14.7487 6.03532 14.1756 6.03532C13.6142 6.03532 13.1581 5.59088 13.1347 5.04117L10.971 4.58503L10.3043 7.70784C11.8248 7.76632 13.2049 8.23415 14.199 8.9476C14.4563 8.69029 14.8072 8.53825 15.2049 8.53825ZM7.70781 10.0002C7.13471 10.0002 6.66687 10.4681 6.66687 11.0412C6.66687 11.6143 7.13471 12.0821 7.70781 12.0821C8.28091 12.0821 8.74875 11.6143 8.74875 11.0412C8.74875 10.4681 8.28091 10.0002 7.70781 10.0002ZM10.0119 14.5499C10.4096 14.5499 11.7663 14.5032 12.4797 13.7897C12.585 13.6844 12.585 13.5207 12.5031 13.4037C12.3979 13.2985 12.2224 13.2985 12.1172 13.4037C11.661 13.8482 10.7137 14.0119 10.0236 14.0119C9.33354 14.0119 8.37448 13.8482 7.93003 13.4037C7.82477 13.2985 7.64933 13.2985 7.54407 13.4037C7.4388 13.509 7.4388 13.6844 7.54407 13.7897C8.24582 14.4915 9.61424 14.5499 10.0119 14.5499ZM11.2517 11.0412C11.2517 11.6143 11.7195 12.0821 12.2926 12.0821C12.8657 12.0821 13.3335 11.6143 13.3335 11.0412C13.3335 10.4681 12.8657 10.0002 12.2926 10.0002C11.7195 10.0002 11.2517 10.4681 11.2517 11.0412Z"})}))}},95741:function(e,t,n){n.d(t,{Z:()=>s});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(64515);let s=e=>{var{stroke:t="#666666"}=e,n=(0,a._)(e,["stroke"]);return(0,o.BX)(l.l,(0,r._)((0,i._)({stroke:t},n),{name:"UploadIcon",svgParams:{width:20,height:20,viewBox:"0 0 20 20"},children:[(0,o.tZ)("path",{d:"M17.5 12.5V15.8333C17.5 16.2754 17.3244 16.6993 17.0118 17.0118C16.6993 17.3244 16.2754 17.5 15.8333 17.5H4.16667C3.72464 17.5 3.30072 17.3244 2.98816 17.0118C2.67559 16.6993 2.5 16.2754 2.5 15.8333V12.5",strokeWidth:"1.5",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M14.1667 6.66667L10 2.5L5.83337 6.66667",strokeWidth:"1.5",strokeLinecap:"round",fill:"none",strokeLinejoin:"round"}),(0,o.tZ)("path",{d:"M10 2.5V12.5",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"})]}))}},94499:function(e,t,n){n.d(t,{Z:()=>l});var i=n(7409),r=n(99282),a=n(98848),o=n(16584);let l=e=>{var{children:t,href:n,onClick:l,newTab:s}=e,d=(0,a._)(e,["children","href","onClick","newTab"]);return(0,o.tZ)("a",(0,r._)((0,i._)({role:"button",tabIndex:0,href:null!=n?n:"javascript:void(0)"},s&&{target:"_blank",rel:"noopener noreferrer"},l&&{onClick:e=>{e.stopPropagation(),l(e)}},d),{children:t}))}},1381:function(e,t,n){n.d(t,{I:()=>v});var i=n(7409),r=n(99282),a=n(16584),o=n(30396),l=n(80569),s=n.n(l),d=n(98914),c=n(15771),u=n(19081),p=n(17391),h=n(87185),m=n(6490),g=n(70379);function v(e){var t,n;let{isOpen:l,onClose:v,post:f}=e,C=(0,g.pm)(),[w,Z]=(0,o.eJ)(!1),b=null===(n=f.postTheme)||void 0===n?void 0:null===(t=n.variant_config)||void 0===t?void 0:t.fullWidthImage,y={hideOverlay:(null==b?void 0:b.hideOverlay)||!1,hideSectionLink:(null==b?void 0:b.hideSectionLink)||!1,textColor:(null==b?void 0:b.textColor)||"black"},[k,A]=(0,o.eJ)(y),_=async()=>{Z(!0);try{var e;let t=(0,r._)((0,i._)({},null===(e=f.postTheme)||void 0===e?void 0:e.variant_config),{fullWidthImage:k});await s().patch("/api/v1/post/".concat(f.id,"/theme")).send({variant_config:t}),location.reload()}catch(e){C.popToast(t=>(0,a.tZ)(g.FN,(0,r._)((0,i._)({},t),{text:(0,d.zx)(e)})))}finally{Z(!1)}},x=()=>{A(y),v()};return(0,a.BX)(m.u_,{isOpen:l,onClose:x,children:[(0,a.tZ)(m.xB,{showClose:!0,title:"Full Width Image Options",onClose:x}),(0,a.tZ)(m.fe,{children:(0,a.BX)(u.tu,{gap:12,children:[(0,a.tZ)(h.m,{label:"Text Color",options:[{value:"black",label:"Black"},{value:"red",label:"Red"},{value:"white",label:"White"}],value:k.textColor,onChange:e=>A((0,r._)((0,i._)({},k),{textColor:e}))}),(0,a.tZ)(p.j,{label:"Hide overlay",value:k.hideOverlay,onChange:e=>A((0,r._)((0,i._)({},k),{hideOverlay:e}))}),(0,a.tZ)(p.j,{label:"Hide section link",value:k.hideSectionLink,onChange:e=>A((0,r._)((0,i._)({},k),{hideSectionLink:e}))})]})}),(0,a.tZ)(m.mz,{primaryButton:(0,a.tZ)(c.zx,{disabled:w,priority:"primary",onClick:_,children:"Save"}),secondaryButton:(0,a.tZ)(c.zx,{disabled:w,priority:"secondary",onClick:x,children:"Cancel"})})]})}},54917:function(e,t,n){n.d(t,{y:()=>l});var i=n(16584),r=n(620),a=n(7523),o=n(19081);let l=e=>{let{poll:t}=e;return(0,i.tZ)(r.l,{children:(0,i.BX)(o.tu,{gap:16,children:[(0,i.tZ)(a.Z,{preset:"h5-sans",children:(null==t?void 0:t.question)||"New Poll"}),(null==t?void 0:t.description)&&(0,i.tZ)(a.Z,{preset:"d2-serif",children:t.description})]})})}},67434:function(e,t,n){n.d(t,{r:()=>l});var i=n(16584),r=n(620),a=n(7523),o=n(95441);let l=e=>{let{hasVoted:t,poll:n,user:l}=e,{iPlural:s}=(0,o.M1)();return(!n.votes_hidden||l.is_contributor)&&(t||l.is_contributor)?(0,i.tZ)(r.l,{children:(0,i.tZ)(a.Z,{color:"tertiary",preset:"detail-large",children:s("%1 VOTE","%1 VOTES",n.total_votes)})}):null}},60437:function(e,t,n){n.d(t,{g:()=>h});var i=n(16584),r=n(30396),a=n(94184),o=n.n(a),l=n(25380),s=n(620),d=n(7523),c=n(19081);let u={container:"container-ZEro8t",containerCanVote:"containerCanVote-zhAHHo",text:"text-QBNtOV",percentageBackground:"percentageBackground-AahPjX"},p=["#7491e3","#f69227","#f74701","#f3c82e","#2db750","#0366f3","#bebdb8"],h=e=>{var t;let{currentVotes:n,hasVoted:a,id:h,index:m,myVote:g,showVotes:v,text:f,totalVotes:C,onVote:w}=e,Z=Math.round(100*(0===C?0:n/C)),b=p[m%p.length],y=(0,r.I4)(async()=>{!a&&h&&await w(h)},[a,h,w]);return(0,i.tZ)(s.l,{children:(0,i.BX)(c.gq,{className:o()(u.container,{[null!==(t=u.containerCanVote)&&void 0!==t?t:""]:!a}),cursor:a?void 0:"pointer",justifyContent:a?"space-between":"center",padding:16,position:"relative",onClick:y,children:[v&&(0,i.tZ)("div",{className:u.percentageBackground,style:{width:"".concat(Z,"%"),backgroundColor:b}}),(0,i.tZ)(d.Z,{className:u.text,preset:"detail-large",children:f}),v&&(0,i.BX)(c.gq,{alignItems:"center",gap:8,children:[g&&(0,i.tZ)(c.gq,{alignItems:"center",className:u.text,children:(0,i.tZ)(l.Z,{size:16})}),(0,i.BX)(d.Z,{className:u.text,preset:"detail-large",children:[Z,"%"]})]})]})})}},620:function(e,t,n){n.d(t,{l:()=>a});var i=n(16584),r=n(347);let a=e=>{let{children:t}=e;return(0,i.tZ)("div",{className:"the-free-press-theme",children:(0,i.tZ)(r.h,{children:t})})}},32926:function(e,t,n){n.d(t,{Q:()=>i});let i=e=>e.video_upload_id?"Watch":"podcast"===e.type?"Listen":"Read"},92314:function(e,t,n){n.d(t,{c:()=>b});var i=n(16584),r=n(30396),a=n(94184),o=n.n(a),l=n(98661),s=n(12281),d=n(95441),c=n(31098),u=n(29719),p=n(93687),h=n(98914),m=n(98422),g=n(70379),v=n(17564),f=n(18618),C=n(60308),w=n(63651);let Z={editVideoEmbedWrap:"editVideoEmbedWrap-UANbdz",imageGallery:"imageGallery-W5xlEs",editVideoEmbed:"editVideoEmbed-nRUXQD",videoPlaceholder:"videoPlaceholder-F7Lub5",videoScrollTarget:"videoScrollTarget-SzB20Y",video:"video-P2qgwZ",videoPlayer:"videoPlayer-vlcedM",videoEmbed:"videoEmbed-_FycLU",videoPlaceholderSilhouette:"videoPlaceholderSilhouette-XopYyA"},b=e=>{var t,n,a,b;let{mediaUploadId:y,pub:k,post:A,isEditor:_=!1}=e,x=(0,l.useRef)(),{iString:E}=(0,d.M1)(),{isMobile:I}=(0,m.v9)(),{mediaUpload:B,loading:T,error:L,refetch:S}=(0,p.z)({mediaUploadId:y}),[M,N]=(0,r.eJ)(!1),[P,D]=(0,r.eJ)(!1),[R,O]=(0,r.eJ)(!1),[X,j]=(0,r.eJ)(!1),[z,U]=(0,r.eJ)(null);(0,l.useEffect)(()=>()=>{"undefined"!=typeof window&&z&&window.clearTimeout(z)},[z]);let H=()=>{var e;S(),B&&(0,h.pt)((0,C.kOB)(B)),(null===(e=x.current)||void 0===e?void 0:e.player)&&x.current.player.load(),N(!1)};return(0,l.useEffect)(()=>{var e;let t=e=>{e.preventDefault()};return"undefined"!=typeof window&&(null===(e=x.current)||void 0===e?void 0:e.player)&&M&&window.document.addEventListener("dragstart",t),()=>{var e;"undefined"!=typeof window&&(null===(e=x.current)||void 0===e?void 0:e.player)&&window.document.removeEventListener("dragstart",t)}},[M,x]),(0,i.tZ)("div",{"data-component-name":"VideoEmbedPlayer",id:(0,w.jnY)({mediaUploadId:y}),className:Z.videoScrollTarget,onMouseEnter:()=>{z&&(clearTimeout(z),U(null)),D(!0)},onMouseLeave:()=>{"undefined"!=typeof window&&U(window.setTimeout(()=>{D(!1)},0))},children:T?(0,i.tZ)(v.S,{className:Z.videoPlaceholderSilhouette}):L||!B?(0,i.tZ)("div",{className:Z.videoPlaceholder,children:E("Could not load video.")}):(0,i.tZ)(i.HY,{children:(0,i.BX)("div",{className:o()(Z.videoEmbed,_&&Z.canEdit),children:[(0,i.tZ)(s.Z,{ref:x,mediaUpload:B,className:o()({[Z.canEdit]:_}),pub:k,noPreview:M,renderPlayButton:()=>(0,i.tZ)(f.fI,{isPlaying:!1,size:I?56:72}),stopPropagation:!0,videoType:"embed",videoPlayerClassName:Z.videoPlayer,videoClassName:Z.video,surface:_?"editor":"post",entityKey:String(null!==(n=null==A?void 0:A.id)&&void 0!==n?n:B.post_id),entityType:"post",contentType:"embed"}),_&&(P||M||R||X)&&(0,i.BX)(g.VW,{children:[(0,i.tZ)(u.Z,{videoPlayer:null!==(a=x.current)&&void 0!==a?a:null,pub:null,postId:null!==(b=null==A?void 0:A.id)&&void 0!==b?b:null,mediaUpload:B,onOpenThumbnail:()=>N(!0),onOpenSettings:null,onThumbnailUpdated:H,onOpenFreePreview:null,onRemoveFreePreview:null,onRemoveMedia:null,active:!M,onSelected:e=>e?O(!0):O(!1),onDownloadStarted:()=>j(!0),onDownloadFinished:()=>j(!1)},y),M&&(null===(t=x.current)||void 0===t?void 0:t.player)&&(0,i.tZ)(c.Z,{videoPlayerRef:x.current.player,videoUpload:B,active:M,onCancel:H,onUpdate:H})]})]})})})}},45823:function(e,t,n){n.d(t,{K:()=>d});var i,r,a=n(6400),o=n(30396);let l="undefined"!=typeof window&&null!==(r=null===(i=window._preloads)||void 0===i?void 0:i.freeSignup)&&void 0!==r&&r,s=(0,a.createContext)(l);function d(){return(0,o.qp)(s)}s.displayName="FreeSignupContext"},31098:function(e,t,n){n.d(t,{Z:()=>b});var i=n(7409),r=n(99282),a=n(16584),o=n(80569),l=n.n(o),s=n(58865),d=n(30396),c=n(48083),u=n(95441),p=n(15771),h=n(19081),m=n(98248),g=n(58175),v=n(51776),f=n(93370);function C(){let e=(0,s._)(["time format must be 0:00.0"]);return C=function(){return e},e}function w(e){let{videoPlayerRef:t,onCancel:n,onSubmit:i,onSubmitLabel:r,initialTime:o}=e,[l,s]=(0,d.eJ)(null!=o?o:0),[w,Z]=(0,d.eJ)((0,f.DL)(l)),[b,y]=(0,d.eJ)(),[k,A]=(0,d.eJ)(!1),_=(0,f.Jk)(w),{iString:x,iTemplate:E}=(0,u.M1)(),I=(0,c.Z)(t);(0,d.d4)(()=>{t&&setTimeout(()=>{t.currentTime=null!=o?o:0},0)},[]),(0,d.d4)(()=>{(0,f.ZD)(w)!==l&&Z((0,f.DL)(l,!0)),y(void 0)},[l]),(0,d.d4)(()=>{s(I)},[I]);let B=e=>(0,f.Jk)(e)?(s((0,f.ZD)(e)),!0):(y(E(C())),!1),T=e=>(Z(e),B(e)),L=(0,d.I4)(e=>{(0,f.fI)(e)&&T(e)&&t&&(t.currentTime=(0,f.ZD)(e))},[w]),S=async()=>{A(!0),await i({time:l}),A(!1)};if(!t)return null;let M=!!b;return(0,a.BX)(h.tu,{border:"detail",className:"container-dENihb",flex:"grow",gap:16,paddingY:12,paddingX:12,radius:"sm",children:[(0,a.BX)(h.gq,{gap:8,justifyContent:"space-between",alignItems:"center",children:[k?(0,a.tZ)(h.gq,{justifyContent:"center",alignItems:"center",children:(0,a.BX)(h.gq,{justifyContent:"center",alignItems:"center",gap:8,children:[(0,a.tZ)(m.$j,{}),(0,a.tZ)(g.xv.B4,{weight:"medium",color:"secondary",translated:!0,children:"Saving..."})]})}):(0,a.tZ)(h.gq,{gap:16,alignItems:"center",children:(0,a.tZ)(v.oi,{error:!_,value:w,onChange:e=>L(e.currentTarget.value)})}),(0,a.BX)(h.gq,{gap:8,children:[!k&&(0,a.tZ)(p.zx,{priority:"secondary",onClick:n,children:x("Cancel")}),(0,a.tZ)(p.zx,{priority:"primary",onClick:S,disabled:M,loading:k,children:r})]})]}),b&&(0,a.tZ)(h.tu,{children:(0,a.tZ)(h.gq,{children:(0,a.tZ)(g.xv.B4,{weight:"medium",color:"error",children:b})})})]})}var Z=n(70379);let b=e=>{var t;let{videoPlayerRef:n,videoUpload:o,active:s,onCancel:d,onUpdate:c}=e,p=(0,Z.pm)(),{iString:h}=(0,u.M1)(),m=async e=>{n&&setTimeout(()=>n.pause(),100);try{let t={thumbnail_time:e.time},n=await l().put("/api/v1/video/upload/".concat(o.id,"/thumbnail_time")).send(t);return c(n.body),p.popToast(e=>(0,a.tZ)(Z.FN,(0,r._)((0,i._)({},e),{text:h("Thumbnail successfully updated")}))),e}catch(e){console.error(e),p.popToast(e=>(0,a.tZ)(Z.FN,(0,r._)((0,i._)({},e),{text:h("Error setting thumbnail")})))}},g=(null!==(t=o.thumbnail_id)&&void 0!==t?t:0)/100;return s?(0,a.tZ)(w,{videoPlayerRef:n,onCancel:d,onSubmit:m,onSubmitLabel:h("Set thumbnail"),initialTime:g}):null}},71825:function(e,t,n){n.d(t,{Z:()=>W});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(80569),s=n.n(l),d=n(58865),c=n(6400),u=n(30396),p=n(94184),h=n.n(p),m=n(74691),g=n.n(m),v=n(53716),f=n(82424),C=n(19081),w=n(98248),Z=n(93370);let b={timeline:"timeline-iu4Txf",rail:"rail-_MZqyY",draggable:"draggable-u5Drtn",draggableLeft:"draggableLeft-NsfL_N",draggableRight:"draggableRight-jMJGYz",tooltip:"tooltip-ayX1gr",visible:"visible-vSmpLP",hidden:"hidden-caz2wY",playback:"playback-UzRGYP",nonSelectable:"nonSelectable-ulLSw9",tick:"tick-qjhJIN",lgTick:"lgTick-FIEDu9",smTick:"smTick-UVmBu9",selection:"selection-ioxpLQ",handle:"handle-DL5V5h",storyboard:"storyboard-L12jPn",ticks:"ticks-y4vav6",shadow:"shadow-vjbh9o",shadowContainer:"shadowContainer-Q4Wx96"},y=e=>{let{videoElement:t,start:n,setStart:i,end:r,setEnd:a,onDurationChange:l,storyboard:s,maxDuration:d,minDuration:c,maxTimelineDuration:p,minTimelineDuration:h,looping:m=!1}=e,[g,v]=(0,u.eJ)(0),[f,Z]=(0,u.eJ)(0),[y,k]=(0,u.eJ)(0),[_,x]=(0,u.eJ)(0),E=(0,u.sO)(0),[I,B]=(0,u.eJ)(!1);return(0,u.d4)(()=>{let e=()=>{if(t){v(t.duration);let e=[120,t.duration];p&&e.push(p),k(Math.min(...e)),l&&l(t.duration)}};return t&&t.addEventListener("loadedmetadata",e),(null==t?void 0:t.duration)&&e(),()=>{t&&t.removeEventListener("loadedmetadata",e)}},[t]),(0,u.d4)(()=>{t&&(t.currentTime=n)},[n]),(0,u.d4)(()=>{let e=()=>{t&&x(t.currentTime)};if(t)return t.addEventListener("timeupdate",e),()=>{t.removeEventListener("timeupdate",e)}},[t]),(0,u.d4)(()=>{let e=Math.abs(_-E.current);if(E.current=_,e<1){m&&t&&!I&&(_>r||_<n)&&(t.currentTime=n);return}if(!I&&(_>y||_<f)){let e=y-f,t=Math.min(_,g-e);Z(t),k(t+e)}},[_]),(0,o.tZ)("div",{className:b.timeline,onWheel:e=>{e.preventDefault();let t=e.currentTarget.getBoundingClientRect(),n=(e.clientX-t.left)/t.width,i=y-f,r=(e.deltaY>0?-1:1)*i/4,a=i-r,o=f+n*i,l=o-n*a,s=o+(1-n)*a;(!p||!(s-l>p))&&(!h||!(s-l<h))&&(k(Math.min(g,s)),Z(Math.max(0,l)))},children:g>0?(0,o.tZ)(A,{startTimeline:f,setStartTimeline:Z,endTimeline:y,setEndTimeline:k,startPosition:n,setStartPosition:e=>{if(c&&e+c>=r){i(r-c);return}if(d&&e+d<=r){i(r-d);return}i(e)},endPosition:r,setEndPosition:e=>{if(c&&e-c<=n){a(n+c);return}if(d&&e-d>=n){a(n+d);return}a(e)},setPosition:(e,t)=>{i(e),a(t)},playerPosition:_,duration:g,onDragging:e=>{B(e)},storyboard:s}):(0,o.tZ)(C.gq,{alignItems:"center",justifyContent:"center",children:(0,o.tZ)(w.$j,{})})})},k=e=>{let{storyboard:t,imageUrl:n,x:i,y:r,displayWidth:a,displayHeight:l,className:s}=e,d=(i?i/t.tile_width:0)*a,c=(r?r/t.tile_height:0)*l,u={width:"".concat(a,"px"),height:"".concat(l,"px"),backgroundImage:"url(".concat(n,")"),backgroundPosition:"-".concat(d,"px -").concat(c,"px"),backgroundSize:"500%"};return(0,o.tZ)("div",{className:s,style:u})},A=e=>{let{startTimeline:t,setStartTimeline:n,endTimeline:i,setEndTimeline:r,startPosition:a,setStartPosition:l,endPosition:s,setEndPosition:d,setPosition:c,playerPosition:p,duration:m,storyboard:v,onDragging:f}=e,w=(0,u.sO)(null),y=(0,u.sO)(null),A=(0,u.sO)(s-a),_=(0,u.sO)(null),[x,E]=(0,u.eJ)(!1),L=i-t,S=a-t,M=s-t,N=p-t,P=(0,u.Ye)(()=>S/L*100,[L,S]),D=(0,u.Ye)(()=>M/L*100,[M,L]),R=(0,u.Ye)(()=>N/L*100,[N,L]),O="linear-gradient(to right, \n    rgba(0,0,0,0.5) 0%, rgba(0,0,0,0.5) calc(".concat(P,"% + 6px), \n    rgba(0,0,0,0) calc(").concat(P,"% + 6px), rgba(0,0,0,0) calc(").concat(D,"% - 6px), \n    rgba(0,0,0,0.5) calc(").concat(D,"% - 6px), rgba(0,0,0,0.5) 100%)"),X=(0,u.I4)(e=>{l(Math.max(0,e/100*L+t))},[L,l,t]),j=(0,u.I4)(e=>{d(Math.min(m,e/100*L+t))},[m,L,d,t]);(0,u.d4)(()=>{f(x)},[x]);let z=()=>{document.addEventListener("selectstart",H)},U=()=>{document.removeEventListener("selectstart",H)},H=e=>{e.preventDefault(),e.stopPropagation()},F=()=>{setTimeout(()=>{E(!1)},0),y.current=null,_.current=null,U(),document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",F),document.removeEventListener("pointerup",F)},W=e=>{if(null===y.current)return;let o=e.clientX-y.current;if(o>5&&E(!0),!w.current)return;let l=o/w.current.getBoundingClientRect().width*L,s=a+l,d=s+A.current;_.current?s<0?c(0,A.current):d>m?c(m-A.current,m):c(s,d):t-l>0&&i-l<=m&&(n(Math.max(0,t-l)),r(Math.min(m,i-l)))};return(0,o.BX)("div",{className:b.rail,ref:w,onMouseDown:e=>{if(!w.current)return;z(),E(!1),y.current=e.clientX,A.current=s-a;let t=w.current.getBoundingClientRect().left,n=(e.clientX-t)/w.current.getBoundingClientRect().width*100,i=n>=P&&n<=D;_.current=i,document.addEventListener("mousemove",W),document.addEventListener("mouseup",F),document.addEventListener("pointerup",F)},onClick:e=>{if(e.stopPropagation(),e.preventDefault(),x||!w.current)return;y.current=e.clientX,A.current=s-a;let n=w.current.getBoundingClientRect().left,i=(e.clientX-n)/w.current.getBoundingClientRect().width*100;if(!(i>=P&&i<=D)){let e=t+i/100*L,n=g()(e,0,m-A.current),r=n+A.current;c(n,r)}},children:[(()=>{var e,n;if(!v)return null;let r=null!==(n=null==w?void 0:null===(e=w.current)||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==n?n:0;if(0===r)return null;let a=(function(e,t,n){let i=[],r=Math.floor(e/n)*n,a=Math.ceil(t/n)*n;for(let e=r;e<=a;e+=n)i.push(e);return i})(t,i,L/r*(60*(v.tile_width/v.tile_height))).map(e=>({time:e,tile:v.tiles.reduce((t,n)=>Math.abs(n.start-e)<Math.abs(t.start-e)?n:t)}));return(0,o.tZ)(C.gq,{className:b.storyboard,children:a.map((e,n)=>{let{time:i,tile:r}=e,a=(i-t)/L*100;return(0,o.tZ)("div",{style:{position:"absolute",left:"calc(".concat(a,"% + 6px)")},children:(0,o.tZ)(k,{storyboard:v,imageUrl:v.url,displayHeight:60,displayWidth:v.tile_width/v.tile_height*60,x:r.x,y:r.y},"".concat(r.x,"-").concat(r.y,"-").concat(n))})})})})(),(0,o.tZ)("div",{className:b.nonSelectable,style:{background:O,position:"absolute",top:0,bottom:0,left:0,right:0}}),(0,o.tZ)("div",{className:b.ticks,children:(0,o.tZ)(I,{railDuration:L,startTimeline:t})}),(0,o.tZ)("div",{className:h()(b.ticks,b.nonSelectable),children:(0,o.tZ)("div",{className:b.selection,style:{left:"calc(".concat(P,"% + 6px)"),width:"calc(".concat(D-P,"% - 12px)")}})}),(0,o.tZ)(T,{divRef:w,startTimeline:t,railDuration:i-t,active:!x}),(0,o.BX)("div",{className:b.ticks,children:[(0,o.tZ)(B,{className:"".concat(b.draggable," ").concat(b.draggableLeft),railRef:w,label:(0,Z.DL)(a,!0),position:P,maxPosition:D,setPosition:X,isDragging:x,setIsDragging:E}),(0,o.tZ)(B,{className:"".concat(b.draggable," ").concat(b.draggableRight),railRef:w,label:(0,Z.DL)(s,!0),position:D,minPosition:P,setPosition:j,isDragging:x,setIsDragging:E}),(0,o.tZ)(B,{className:b.playback,railRef:w,label:(0,Z.DL)(p,!0),position:R,isDragging:x,setIsDragging:E,disabled:!0})]})]})},_=[{id:"lg",interval:60,tickClassName:b.lgTick,displayOnZoomLevels:["lg","md"],displayLabelsOnZoomLevels:["lg"]},{id:"md",interval:30,tickClassName:b.lgTick,displayOnZoomLevels:["lg","md"],displayLabelsOnZoomLevels:["md"]},{id:"sm",interval:5,tickClassName:b.smTick,displayOnZoomLevels:["md","sm"],displayLabelsOnZoomLevels:["sm"]},{id:"xs",interval:1,tickClassName:b.smTick,displayOnZoomLevels:["sm","xs"],displayLabelsOnZoomLevels:["xs"]}],x=e=>e>120?"lg":e>30?"md":e>5?"sm":"xs",E=(e,t,n)=>{let i=Math.floor(e/n)*n;return Array.from({length:Math.ceil(t/n)+1}).map((t,r)=>({label:(0,Z.DL)(i+n*r),time:i+n*r-e}))},I=e=>{let{railDuration:t,startTimeline:n}=e,a=x(t),l=_.map(e=>(0,r._)((0,i._)({},e),{values:E(n,t,e.interval)}));return(0,o.tZ)(c.Fragment,{children:l.map(e=>e.displayOnZoomLevels.includes(a)&&e.values.map((n,i)=>(0,o.tZ)("div",{className:h()(b.tick,e.tickClassName,b.nonSelectable),style:{left:"".concat(n.time/t*100,"%")},children:e.displayLabelsOnZoomLevels.includes(a)&&(0,o.tZ)("span",{children:n.label})},i)))})},B=e=>{let{railRef:t,position:n,disabled:i,setPosition:r,label:a,maxPosition:l,minPosition:s,className:d,onDragStart:c,onDragEnd:p,showIcon:h=!0,setIsDragging:m}=e,g=(0,u.sO)(null),[v,f]=(0,u.eJ)(!1),C=()=>{document.addEventListener("selectstart",Z)},w=()=>{document.removeEventListener("selectstart",Z)},Z=e=>{e.preventDefault(),e.stopPropagation()},y=()=>{setTimeout(()=>{m(!1)},0),f(!1),w(),document.removeEventListener("mousemove",k),document.removeEventListener("mouseup",y),document.removeEventListener("pointerup",y),p&&p()},k=e=>{if(m(!0),!t.current||!g.current)return;let n=t.current.getBoundingClientRect().left,i=t.current.getBoundingClientRect().width,a=(e.clientX-n)/i*100;r&&(void 0!==l&&void 0!==s?r(Math.min(l,Math.max(s,a))):void 0!==l?r(Math.min(l,a)):void 0!==s?r(Math.max(s,a)):r(a))};return(0,o.BX)("div",{className:d,ref:g,style:{left:"".concat(n,"%")},onMouseDown:e=>{!i&&(m(!1),e.stopPropagation(),f(!0),C(),document.addEventListener("mousemove",k),document.addEventListener("mouseup",y),document.addEventListener("pointerup",y),c&&c())},children:[h&&(0,o.tZ)("div",{className:b.handle}),(0,o.tZ)("div",{className:"".concat(b.tooltip," ").concat(v?b.visible:b.hidden," ").concat(b.nonSelectable),children:a})]})},T=e=>{let{divRef:t,startTimeline:n,railDuration:i,active:r}=e,[a,l]=(0,u.eJ)(null),[s,d]=(0,u.eJ)(!1),c=e=>{if(t.current){let r=t.current.getBoundingClientRect(),{left:a,width:o}=r,s=e.clientX-a;l({x:e.clientX-r.left,time:n+s/o*100/100*i})}},p=()=>d(!0),m=()=>d(!1);return((0,u.d4)(()=>(t.current&&(t.current.addEventListener("mousemove",c),t.current.addEventListener("mouseenter",p),t.current.addEventListener("mouseleave",m)),()=>{t.current&&(t.current.removeEventListener("mousemove",c),t.current.removeEventListener("mouseenter",p),t.current.removeEventListener("mouseleave",m))}),[n,i]),r&&a&&s)?(0,o.BX)("div",{className:h()(b.shadowContainer,b.nonSelectable),style:{left:a.x},children:[(0,o.tZ)("div",{className:b.shadow}),(0,o.tZ)("div",{className:b.tooltip,children:(0,Z.DL)(a.time,!0)})]}):null};var L=n(347),S=n(95441),M=n(68833),N=n(15771),P=n(58175),D=n(51776),R=n(87077),O=n(24791),X=n(82021);function j(){let e=(0,d._)(["Start time format must be 0:00.0"]);return j=function(){return e},e}function z(){let e=(0,d._)(["End time format must be 0:00.01"]);return z=function(){return e},e}function U(e){var t;let{videoPlayerRef:n,videoUpload:i,post:r,onCancel:a,onSubmit:l,onSubmitLabel:d,minClipDuration:p=1,maxClipDuration:m=Number.MAX_VALUE,minTimelineDuration:b=0,maxTimelineDuration:k=Number.MAX_VALUE,initialStart:A,initialEnd:_,showCaptionsButton:x=!0,elevated:E}=e,[I,B]=(0,u.eJ)(null!=A?A:0),[T,U]=(0,u.eJ)(null!=_?_:Math.min(6,null!==(t=null==i?void 0:i.duration)&&void 0!==t?t:6)),[H,F]=(0,u.eJ)((0,Z.DL)(I,!0)),[W,V]=(0,u.eJ)((0,Z.DL)(T,!0)),[q,Y]=(0,u.eJ)(!1),[J,G]=(0,u.eJ)(),[K,Q]=(0,u.eJ)(),[$,ee]=(0,u.eJ)(),[et,en]=(0,u.eJ)(),[ei,er]=(0,u.eJ)(!1),[ea,eo]=(0,u.eJ)(!0),el=(0,O.xH)(r),es=(0,Z.Jk)(H),ed=(0,Z.Jk)(W),{iString:ec,iTemplate:eu}=(0,S.M1)();(0,u.d4)(()=>{let e=async e=>{let{body:{src:t}}=await s().get("/api/v1/video/upload/".concat(e,"/storyboard"));G((await s().get(t)).body)};(null==i?void 0:i.id)&&e(i.id)},[i]),(0,u.d4)(()=>{(0,Z.ZD)(H)!==I&&F((0,Z.DL)(I,!0)),Q(void 0)},[I]),(0,u.d4)(()=>{(0,Z.ZD)(W)!==T&&V((0,Z.DL)(T,!0)),ee(void 0)},[T]);let ep=e=>{let t=!1;return e<0?(en(ec("Start time must be prior to end time")),t=!0):e>m?(en(ec("Clip can't be greater than 60 seconds")),t=!0):e<p?(en(ec("Clip must be at least 5 seconds")),t=!0):en(void 0),t},eh=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"start",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=(0,Z.Jk)(e);if(n||("start"===t?F(e):V(e)),!i)return("start"===t?Q:ee)("start"===t?eu(j()):eu(z())),!1;let r=(0,Z.ZD)(e),a="start"===t?(0,Z.ZD)(W)-r:r-(0,Z.ZD)(H),o=!1;return a<=0?o=!0:("start"===t?Q:ee)(void 0),(o=ep(a)||o)||n||("start"===t?(B(r),U((0,Z.ZD)(W))):(B((0,Z.ZD)(H)),U(r))),!o},em=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return eh(e,"start",t)},eg=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return eh(e,"end",t)},ev=(0,u.I4)((e,t)=>{(0,Z.fI)(t)&&("start"===e?em(t):eg(t))},[H,W]),ef=async()=>{er(!0),await (null==l?void 0:l({start:I,duration:T-I,render_transcript_as:q?"subtitles":void 0})),er(!1)};if(!n)return null;let eC=!!K||!!$||!!et;return(0,o.tZ)(L.h,{children:(0,o.tZ)(C.hs,{bg:"primary",className:h()(E?X.Z.containerElevated:X.Z.containerInline),children:(0,o.BX)(C.tu,{gap:16,paddingX:4,flex:"grow",children:[(0,o.tZ)(C.gq,{className:X.Z.videoTrimmerWrapper,children:(0,o.tZ)(y,{videoElement:n,start:I,setStart:B,end:T,setEnd:U,minDuration:p,maxDuration:m,maxTimelineDuration:k,minTimelineDuration:b,looping:ea,onDurationChange:e=>{!A&&!_&&U(g()(e/4,p,30))},storyboard:J})}),(0,o.BX)(c.Fragment,{children:[(0,o.BX)(C.gq,{justifyContent:"space-between",alignItems:"center",opacity:ei?50:100,children:[ei?(0,o.tZ)(C.gq,{justifyContent:"center",alignItems:"center",children:(0,o.BX)(C.gq,{justifyContent:"center",alignItems:"center",gap:8,children:[(0,o.tZ)(w.$j,{}),(0,o.tZ)(P.xv.B4,{weight:"medium",translated:!0,color:"secondary",children:"Saving..."})]})}):(0,o.BX)(C.gq,{gap:16,children:[(0,o.BX)(C.gq,{gap:4,alignItems:"center",onClick:()=>el&&Y(!q),className:"".concat(el?X.Z.captionsAvailable:X.Z.captionsNotAvailable),children:[(0,o.tZ)(R.u,{text:ec("Loop video"),children:(0,o.tZ)(N.hU,{onClick:()=>{var e;(0,M.j)(M.FP.VIDEO_CLIP_LOOP_BUTTON_CLICKED,{post_id:null==r?void 0:r.id,media_upload_id:null==r?void 0:null===(e=r.videoUpload)||void 0===e?void 0:e.id,looping:!ea}),eo(!ea)},children:(0,o.tZ)(v.Z,{})})}),x&&(0,o.tZ)(R.u,{text:ec("Include subtitles"),children:(0,o.tZ)(N.hU,{disabled:!el||ei,children:(0,o.tZ)(f.Z,{})})})]}),(0,o.BX)(C.gq,{gap:8,children:[(0,o.tZ)(D.oi,{error:!es,value:H,onChange:e=>ev("start",e.currentTarget.value)}),(0,o.tZ)(D.oi,{error:!ed,value:W,onChange:e=>ev("end",e.currentTarget.value)})]}),(0,o.tZ)(C.gq,{gap:4,alignItems:"center",justifyContent:"space-between",className:X.Z.durationContainer,children:(0,o.tZ)(P.xv.B3,{weight:"medium",color:"secondary",children:(0,Z.DL)(T-I,!0)})})]}),(0,o.BX)(C.gq,{gap:8,children:[(0,o.tZ)(N.zx,{priority:"secondary",onClick:a,children:ec("Cancel")}),(0,o.tZ)(N.zx,{onClick:ef,disabled:eC||ei,children:d})]})]}),eC&&(0,o.BX)(C.tu,{children:[K&&(0,o.tZ)(C.gq,{children:(0,o.tZ)(P.xv.B4,{weight:"medium",color:"error",children:K})}),$&&(0,o.tZ)(C.gq,{children:(0,o.tZ)(P.xv.B4,{weight:"medium",color:"error",children:$})}),et&&(0,o.tZ)(C.gq,{children:(0,o.tZ)(P.xv.B4,{weight:"medium",color:"error",children:et})})]})]})]})})})}var H=n(61649),F=n(70379);let W=e=>{var t;let{videoPlayerRef:n,videoUpload:l,post:d,active:c,onCancel:u,onUpdate:p,audioPreviewMediaUpload:h,onAudioExtractPreviewMediaUpload:m}=e,g=(0,F.pm)(),{iString:v}=(0,S.M1)(),f=async e=>{n&&setTimeout(()=>n.pause(),100);try{let t={preview_start:e.start,preview_duration:e.duration},n=(await s().put("/api/v1/video/upload/".concat(l.id,"/preview")).send(t)).body,{audioExtractPreviewMediaUpload:d}=n,c=(0,a._)(n,["audioExtractPreviewMediaUpload"]),u=!h,f=h&&!!(null==h?void 0:h.src_media_upload_id);return d&&(u||f)&&m({mediaUpload:d}),p(c),g.popToast(e=>(0,o.tZ)(F.FN,(0,r._)((0,i._)({},e),{text:v("Free preview successfully updated")}))),e}catch(e){console.error(e),g.popToast(e=>(0,o.tZ)(F.FN,(0,r._)((0,i._)({},e),{text:v("Error setting free preview")})))}},{preview_start:C,preview_duration:w}=l,Z=C||0,b=w?Z+w:Z+Math.max(30,(null!==(t=l.duration)&&void 0!==t?t:60)/2);return c?(0,o.tZ)(U,{videoPlayerRef:n,videoUpload:l,post:d,onCancel:u,onSubmit:f,onSubmitLabel:v("Set free preview"),minClipDuration:H.AT,minTimelineDuration:H.Zl,maxTimelineDuration:H.eD,initialStart:Z,initialEnd:b,showCaptionsButton:!1}):null}},55918:function(e,t,n){n.r(t),n.d(t,{ImageActions:()=>s});var i=n(16584),r=n(74655),a=n(35588),o=n(71068),l=n(19081);function s(e){let{size:t}=e;return(0,i.BX)(l.X2,{gap:8,children:[(0,i.tZ)(o.xu,{className:"icon-container restack-image",children:(0,i.tZ)(r.Z,{size:t})}),(0,i.tZ)(o.xu,{className:"icon-container view-image",children:(0,i.tZ)(a.Z,{size:t})})]})}},40158:function(e,t,n){n.d(t,{y:()=>u}),n(27412);var i=n(7409),r=n(98848),a=n(16584),o=n(6400),l=n(94184),s=(n(82424),n(13304),n(82016),n(36181),n(51214),n(99282)),d=n(64515);n(95741);var c=n(49995);function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var{timeout:n=5e3}=t,a=(0,r._)(t,["timeout"]);(0,c.ZP)(e,(0,i._)({timeout:n},a),document.querySelector(".bottom-bar"))}n(98914),n(19081),n(98248),n(96085),o.Component},29719:function(e,t,n){n.d(t,{Z:()=>V});var i=n(7409),r=n(99282),a=n(16584),o=n(6400),l=n(30396),s=n(94184),d=n.n(s),c=n(40423),u=n(5281),p=n(84488),h=n(65445),m=n(85200),g=n(71212),v=n(47976),f=n(27194),C=n(74945),w=n(80569),Z=n.n(w),b=n(29032),y=n(20888),k=n(12281),A=n(95441),_=n(40647),x=n(28771),E=n(61381),I=n(89871),B=n(43148),T=n(53030),L=n(68833),S=n(49762),M=n(98914),N=n(70717),P=n(15771),D=n(61254),R=n(19081),O=n(84747),X=n(98248),j=n(58175),z=n(70379),U=n(18618),H=n(60308),F=n(9799),W=n(22777);let V=e=>{var t,n;let{videoPlayer:s,pub:w,postId:V,mediaUpload:q,audioExtractMediaUpload:Y,onOpenThumbnail:J,onThumbnailUpdated:G,onOpenFreePreview:K,onRemoveFreePreview:Q,onOpenSettings:$,onRemoveMedia:ee,active:et,onSelected:en,onDownloadStarted:ei,onDownloadFinished:er,onOpenVideoSettings:ea}=e,[eo,el]=(0,l.eJ)(),[es,ed]=(0,l.eJ)(!1),ec=(0,l.sO)(null),{iString:eu}=(0,A.M1)(),{setIsPodcastDrawerOpen:ep,isPodcastDrawerOpen:eh,setInitialTab:em}=(0,E.y)(),{setIsDrawerOpen:eg}=(0,x.M$)(),{getConfigFor:ev}=(0,_.xR)(),ef=(0,M.K1)(),eC=(0,z.pm)(),ew=(0,F.M)(q),eZ=(0,T.md)(s),{postMediaComposition:eb}=(0,I.z)(),[ey,ek]=(0,l.eJ)(!1);(0,l.d4)(()=>{null==en||en(eo)},[eo]),(0,l.d4)(()=>{100===ew.downloadPercentage&&(null==er||er())},[ew.downloadPercentage]);let eA=()=>{if(null==s?void 0:s.player){let e=s.player;e.pause(),e.currentTime=0;let t=e.src;e.src="",e.load(),e.src=t}},e_=async()=>{var e,t;if((0,L.j)(L.FP.EDITOR_MEDIA_SET_THUMBNAIL_UPLOAD_IMAGE_CLICKED,{media_upload_id:q.id,post_id:q.post_id}),!(null==ec?void 0:null===(t=ec.current)||void 0===t?void 0:null===(e=t.files)||void 0===e?void 0:e.length))return;let n=ec.current.files[0];ed(!0),await ex(n),ed(!1)},ex=async e=>{let t=Math.round(new Date().getTime()/1e3);try{await Z().put("/api/v1/video/upload/".concat(q.id,"/thumbnail_id")).send({thumbnail_id:t,custom_thumbnail:!0});let n=await Z().post("/api/v1/video/upload/".concat(q.id,"/thumbnail_upload_url")).query({fileType:e.type,fileSize:e.size,thumbnail_id:t}),a=n.body.thumbnail_upload_url;await Z().put(a).set("content-type",e.type).send(e),(0,M.pt)((0,H.ow1)(n.body.mediaUpload)),G((0,r._)((0,i._)({},n.body.mediaUpload),{updated_at:new Date})),eA()}catch(e){console.error(e);return}},eE=async()=>{try{let{body:e}=await Z().put("/api/v1/video/upload/".concat(q.id,"/thumbnail_id")).send({ai_thumbnail:!0});eC.popToast(t=>(0,a.tZ)(z.FN,(0,r._)((0,i._)({},t),{text:"Workflow started with id ".concat(e.workflowId)})))}catch(e){console.error(e);return}},eI=(0,H.kOB)(q),eB=async()=>{if(Y){null==ei||ei(),ek(!0);try{await fetch("/api/v1/audio/upload/".concat(Y.id,"/src?download=true")).then(async e=>{var t,n,i;let r=null===(i=e.headers.get("Content-Disposition"))||void 0===i?void 0:null===(n=i.split("filename="))||void 0===n?void 0:null===(t=n[1])||void 0===t?void 0:t.replace(/"/g,"");return{blob:await e.blob(),filename:r}}).then(e=>{let{blob:t,filename:n}=e,i=window.URL.createObjectURL(t),r=document.createElement("a");r.href=i,r.download=n?decodeURIComponent(n):"audio.mp3",document.body.appendChild(r),r.click(),r.remove()})}catch(e){alert((0,M.zx)(e))}finally{ek(!1),null==er||er()}}};return et?(0,a.BX)(b.C,{children:[(0,a.tZ)("div",{className:W.Z.verticalMenu,children:(0,a.BX)(R.tu,{gap:8,alignItems:"end",children:[!eo&&$&&(0,a.tZ)(B.H,{label:eu("Clips"),children:(0,a.tZ)(B.o,{onClick:()=>{ep({isOpen:!eh}),eh||(em("clips"),null==$||$({tab:"clips"}))},children:(0,a.BX)(a.HY,{children:[(0,a.tZ)(y.e,{src:(0,H.kOB)(q),maxWidth:40,radius:"full",imageProps:{height:40,smartCrop:!0},style:{border:"2px solid white"},className:W.Z.clipIcon}),(0,a.tZ)(R.hs,{position:"absolute",children:(0,a.tZ)(c.Z,{size:16,stroke:"white"})})]})})},"".concat(q.id,"_clips")),(!eo||"settings"===eo)&&$&&(0,a.tZ)(B.H,{label:eu("Open Settings"),children:(0,a.tZ)(B.o,{onClick:()=>{ev("video_editor_full_screen")?eg({drawerId:"videoEditor",isOpen:!0}):(ep({isOpen:!eh}),eh||$())},children:(0,a.tZ)(u.Z,{size:16})})},"".concat(q.id,"_settings")),(!eo||"preview"===eo)&&K&&Q&&(0,a.tZ)(B.H,{label:eu("Free preview"),children:q.preview_duration?(0,a.tZ)(O.M,{layerOptions:{placement:"bottom-end"},onClose:()=>el(void 0),onOpen:()=>el("preview"),trigger:(0,a.tZ)(B.o,{children:(0,a.tZ)(p.Z,{size:16})}),children:(0,a.BX)(R.tu,{gap:8,padding:8,justifyContent:"center",children:[(0,a.tZ)(R.gq,{className:W.Z.videoPlaceholder,justifyContent:"center",alignItems:"center",children:(0,a.BX)("div",{className:d()("video-editor-menu",W.Z.videoEditorMenu),children:[(0,a.tZ)(k.Z,{mediaUpload:q,pub:w,autoPlay:!1,usePreview:!0,surface:"editor",contentType:"post",videoType:"post",entityKey:String(null!=V?V:null==q?void 0:q.post_id),entityType:"post",renderPlayButton:()=>(0,a.tZ)(U.fI,{isPlaying:!1,size:ef?40:56})}),(0,a.tZ)(N.w,{duration:q.preview_duration})]})}),(0,a.BX)(o.Fragment,{children:[(0,a.tZ)(P.zx,{priority:"secondary",onClick:()=>{K(),el(void 0)},children:eu("Edit preview")}),(0,a.tZ)(P.zx,{priority:"destructive",disabled:!q.preview_duration,onClick:()=>{Q(),el(void 0)},children:eu("Remove preview")})]})]})}):(0,a.tZ)(B.o,{onClick:K,children:(0,a.tZ)(p.Z,{size:16})})},"".concat(q.id,"_preview")),(!eo||"thumbnail"===eo)&&(0,a.tZ)(B.H,{label:eu("Edit thumbnail"),children:(0,a.tZ)(O.M,{layerOptions:{placement:"bottom-end"},onClose:()=>el(void 0),onOpen:()=>el("thumbnail"),trigger:(0,a.tZ)(B.o,{children:(0,a.tZ)(h.Z,{size:16})}),children:(0,a.BX)(R.tu,{gap:8,padding:8,justifyContent:"center",children:[es?(0,a.tZ)(R.gq,{className:W.Z.loadingPlaceholder,justifyContent:"center",alignItems:"center",children:(0,a.tZ)(X.$j,{})}):(0,a.tZ)("img",{className:W.Z.thumbnailPicture,src:eI}),(0,a.BX)(o.Fragment,{children:[(0,a.BX)(P.zx,{priority:"secondary",disabled:es,children:[eu("Upload image"),(0,a.tZ)("input",{type:"file",accept:"image/*",className:W.Z.customThumbnailInput,onChange:()=>e_(),ref:ec})]}),(0,a.tZ)(P.zx,{priority:"secondary",disabled:es,onClick:()=>{(0,L.j)(L.FP.EDITOR_MEDIA_SET_THUMBNAIL_FROM_TIMELINE_CLICKED,{media_upload_id:q.id,post_id:q.post_id}),J(),el(void 0)},children:eu("Select from timeline")}),(0,a.tZ)(S.SiteConfigGate,{configKey:"use_livestream_post_media_composition",value:!0,children:(0,a.tZ)(P.zx,{priority:"secondary",onClick:async()=>{await eE(),el(void 0)},children:eu("Select with AI")})})]})]})})},"".concat(q.id,"_thumbnail")),(0,a.tZ)(B.H,{label:eu("More"),children:(0,a.BX)(O.M,{layerOptions:{placement:"bottom-end"},onOpen:()=>el("more"),onClose:()=>el(void 0),trigger:(0,a.tZ)(B.o,{disabled:ew.downloadPercentage>0||ey,children:ew.downloadPercentage>0||ey?(0,a.BX)(R.hs,{position:"relative",justifyContent:"center",alignItems:"center",children:[ew.downloadPercentage>0?(0,a.tZ)(R.hs,{position:"absolute",justifyContent:"center",alignItems:"center",children:(0,a.BX)(j.xv.Digit,{color:"white",children:[ew.downloadPercentage.toFixed(0),"%"]})}):null,(0,a.tZ)(R.hs,{position:"absolute",justifyContent:"center",alignItems:"center",children:(0,a.tZ)(X.$j,{size:32})})]}):(0,a.tZ)(m.Z,{size:16})}),children:[(0,a.tZ)(O.u,{leading:(0,a.tZ)(g.Z,{}),onClick:()=>{ew.startDownload(),null==ei||ei()},children:eu("Download video")}),Y&&(0,a.tZ)(O.u,{leading:(0,a.tZ)(g.Z,{}),onClick:eB,children:eu("Download audio")}),(0,a.tZ)(S.SiteConfigGate,{configKey:"use_livestream_post_media_composition",value:!0,children:eb&&ea&&(0,a.tZ)(O.u,{leading:(0,a.tZ)(v.Z,{size:16}),onClick:()=>{null==ea||ea()},children:eu("Edit video")})}),eb&&ea&&(0,a.tZ)(D.iz,{paddingY:4}),ee&&(0,a.tZ)(O.u,{leading:(0,a.tZ)(f.Z,{}),priority:"destructive",onClick:()=>{(0,L.j)(L.FP.EDITOR_MEDIA_REMOVE_CLICKED,{media_upload_id:q.id,post_id:q.post_id}),ee()},children:eu("Delete video")})]})},"".concat(q.id,"_more"))]})}),!eZ&&(0,a.tZ)(N.w,{duration:null!==(t=q.duration)&&void 0!==t?t:0,icon:q.preview_duration?(0,a.tZ)(p.Z,{color:"white",size:12}):null,previewDuration:null!==(n=q.preview_duration)&&void 0!==n?n:null},"".concat(q.id,"_duration")),(0,a.tZ)(S.SiteConfigGate,{configKey:"use_livestream_post_media_composition",value:!0,children:eb&&ea&&(0,a.tZ)(R.hs,{position:"absolute",style:{left:16,top:16},children:(0,a.tZ)(P.zx,{size:"sm",priority:"secondary",leading:(0,a.tZ)(C.Z,{size:16}),onClick:()=>{null==ea||ea()},children:eu("Edit AI enhancements")})})})]},"".concat(q.id,"_container")):null}},64819:function(e,t,n){n.d(t,{n:()=>E});var i=n(7409),r=n(99282),a=n(16584),o=n(30396),l=n(57560),s=n(95441),d=n(19081),c=n(58175);let u=e=>{let{accept:t,onUploadClicked:n,onFileSelected:i,onRecord:r,hideRecorder:u=!1,hideReset:p=!0,onResetToDefault:h}=e,m=(0,o.sO)(null),{iString:g}=(0,s.M1)();return(0,a.BX)(d.gq,{gap:16,children:[(0,a.tZ)(d.hs,{radius:"xs",height:40,width:40,bg:"secondary",alignItems:"center",justifyContent:"center",children:(0,a.tZ)(l.Z,{size:24,color:"var(--color-fg-tertiary)"})}),(0,a.BX)(d.tu,{gap:4,children:[(0,a.tZ)(c.xv.B4,{color:"primary",weight:"semibold",children:g("Upload audio file")}),(0,a.BX)(d.gq,{gap:16,children:[(0,a.tZ)(c.xv.B4,{color:"accent",weight:"semibold",decoration:"underline",cursor:"pointer",onClick:()=>{m.current&&(m.current.click(),n(m.current))},children:g("Select file")}),!u&&(0,a.tZ)(c.xv.B4,{weight:"semibold",decoration:"underline",cursor:"pointer",color:"secondary",onClick:r,children:g("Record audio")}),!p&&(0,a.tZ)(c.xv.B4,{color:"secondary",weight:"semibold",decoration:"underline",cursor:"pointer",onClick:h,children:g("Reset audio to default")})]}),(0,a.tZ)("input",{style:{display:"none"},ref:m,type:"file",accept:t,onChange:e=>{null!=e.target&&i(e.target.files[0])}})]})]})};var p=n(27412),h=n(6400),m=n(94184),g=n.n(m),v=n(71375),f=n(87515),C=n(68833),w=n(15771),Z=n(84864);let b={outerRing:"outerRing-LiaIRq",innerRing:"innerRing-LAXmu7",accentRing:"accentRing-fxo2aG",accentBackgroundRing:"accentBackgroundRing-muyYxM"};class y extends h.Component{async componentDidMount(){if(!await this.recorder.startMicrophone()){var e,t;null===(e=(t=this.props).onCancel)||void 0===e||e.call(t)}}componentWillUnmount(){this.onCloseClicked()}onRecorderStarted(){var e,t;null===(e=(t=this.props).onRecorderStarted)||void 0===e||e.call(t),this.onRecorderChanged(null)}onRecorderChanged(e){if(this.setState({recorderState:this.recorder.state,recorderDuration:this.recorder.duration,recorderVolume:this.recorder.volume}),e){var t,n;null===(t=(n=this.props).onComplete)||void 0===t||t.call(n,e)}}render(e,t){var n;let{iString:i}=e,{recorderState:r,recorderDuration:o,countDown:l}=t;return(0,a.BX)(d.gq,{flex:"grow",gap:16,alignItems:"center",justifyContent:"space-between",children:[r===f.Z.STATE.STOPPED&&(0,a.BX)(d.hs,{alignItems:"center",justifyContent:"center",gap:16,children:[(0,a.tZ)(d.hs,{radius:"full",className:g()(b.outerRing),border:"detail",onClick:this.onButtonClick,cursor:"pointer",children:(0,a.tZ)(d.hs,{className:g()(b.innerRing,b.accentRing,b.accentBackgroundRing),bg:"accent-red",radius:"full"})}),(0,a.tZ)(c.xv.B3,{color:"primary",weight:"semibold",children:null!==(n=null==i?void 0:i("Start recording"))&&void 0!==n?n:"Start recording"})]}),[f.Z.STATE.STARTED,f.Z.STATE.STARTING].includes(r)&&(0,a.BX)(d.hs,{alignItems:"center",justifyContent:"center",gap:16,children:[(0,a.tZ)(d.hs,{radius:"full",className:g()(b.outerRing,b.accentRing),border:"detail",onClick:this.onButtonClick,cursor:"pointer",children:(0,a.tZ)(d.hs,{className:g()(b.innerRing,b.accentRing,b.accentBackgroundRing),bg:"accent-red"})}),r===f.Z.STATE.STARTING&&(0,a.BX)(c.xv.B3,{color:"primary",weight:"semibold",children:[l,"..."]}),r===f.Z.STATE.STARTED&&(0,a.tZ)(c.xv.B3,{color:"primary",weight:"semibold",children:(0,Z.secondsToHHMMSS)(null!=o?o:0)})]}),(0,a.tZ)(w.hU,{priority:"quaternary",onClick:this.onCloseClicked,children:(0,a.tZ)(v.Z,{size:20})})]})}constructor(e,t){super(e,t),(0,p._)(this,"recorder",void 0),(0,p._)(this,"onButtonClick",()=>{this.recorder.state===f.Z.STATE.STOPPED?((0,C.j)(C.FP.AUDIO_PRESS_RECORD_CLICKED,{feature:this.props.feature}),this.setState({countDown:3}),setTimeout(()=>this.setState({countDown:2}),700),setTimeout(()=>this.setState({countDown:1}),1400),this.recorder.start({startAt:Date.now()+2100})):(this.recorder.state===f.Z.STATE.STARTING||this.recorder.state===f.Z.STATE.STARTED)&&this.recorder.stop()}),(0,p._)(this,"onCloseClicked",()=>{if(this.recorder.state===f.Z.STATE.STARTED){var e,t;if(this.recorder.suspend(),!confirm("Your recording will be discarded, are you sure?")){this.recorder.resume();return}this.recorder.stop({dropRecording:!0}),null===(e=(t=this.props).onRecorderStopped)||void 0===e||e.call(t)}else this.recorder.state===f.Z.STATE.STARTING?this.recorder.onStarted=()=>this.recorder.stop({dropRecording:!0}):this.recorder.state===f.Z.STATE.STOPPED&&this.recorder.stopMicrophone();this.props.onCancel&&this.props.onCancel()}),this.recorder=new f.Z({onStarting:()=>this.onRecorderChanged(),onStarted:()=>this.onRecorderStarted(),onChunk:()=>this.onRecorderChanged(),onStopping:()=>this.onRecorderChanged(),onStopped:e=>this.onRecorderChanged(e)}),this.state={countDown:3,recorderState:this.recorder.state,recorderDuration:this.recorder.duration,recorderVolume:this.recorder.volume}}}(0,p._)(y,"contextType",s.wj);let k=(0,s.fz)(y);var A=n(21903),_=n(21680);let x=e=>{var t;let{iString:n}=(0,s.M1)(),i=(null!==(t=e.percentComplete)&&void 0!==t?t:0)*100;return(0,a.BX)(d.gq,{gap:16,flex:"grow",children:[(0,a.tZ)(d.hs,{radius:"xs",height:40,width:40,bg:"secondary",alignItems:"center",justifyContent:"center",children:(0,a.tZ)(l.Z,{size:24,color:"var(--color-fg-tertiary)"})}),(0,a.BX)(d.tu,{flex:"grow",gap:4,children:[(0,a.BX)(d.gq,{justifyContent:"space-between",alignItems:"center",children:[(0,a.tZ)(c.xv.B4,{color:"primary",weight:"semibold",children:n("Upload audio file")}),(0,a.tZ)(d.gq,{cursor:"pointer",onClick:e.onCancel,children:(0,a.tZ)(v.Z,{size:20,color:"var(--color-fg-secondary)"})})]}),(0,a.BX)(d.gq,{flex:"grow",alignItems:"center",gap:32,children:[(0,a.tZ)(d.gq,{flex:"grow",radius:"full",bg:"tertiary",style:{height:"6px"},children:(0,a.tZ)(d.gq,{radius:"full",style:{width:"".concat(i,"%"),backgroundColor:"var(--color-fg-primary)"}})}),(0,a.tZ)(d.gq,{width:32,justifyContent:"end",children:(0,a.BX)(c.xv.Digit,{color:"primary",children:[i.toFixed(0),"%"]})})]})]})]})};class E extends A.QM{trackUploadClicked(){(0,C.j)(C.FP.UPLOAD_EPISODE_AUDIO_CLICKED)}render(e,t){var n,o,l,s;let{onRecorderStarted:c,onRecorderStopped:p,feature:h,mediaUpload:m,removeUpload:g,hideRecorder:v,hideReset:f}=e,{preuploading:C,uploading:w,recording:Z,percentComplete:b}=t,y=(null==m?void 0:m.state)==="uploaded",A=!Z&&(w||C),{iString:E}=this.i18n,I=null!==(l=null===(n=this.props.components)||void 0===n?void 0:n.AudioDecider)&&void 0!==l?l:u,B=null!==(s=null===(o=this.props.components)||void 0===o?void 0:o.AudioRecorder)&&void 0!==s?s:k;return(0,a.BX)(d.gq,{flex:"grow",border:"detail",radius:"sm",alignItems:"center",paddingY:16,paddingX:12,gap:8,children:[!Z&&!A&&!y&&(0,a.tZ)(I,(0,r._)((0,i._)({},this.props),{accept:this.accepts,onUploadClicked:this.onUploadClicked,onFileSelected:this.onFileSelected,onRecord:()=>this.setState({recording:!0}),hideRecorder:v,hideReset:f,onResetToDefault:this.props.onResetToDefault})),Z&&(0,a.tZ)(B,{feature:h,onComplete:e=>{this.setState({recording:!1}),e&&this.uploadToS3(e),null==p||p()},onCancel:()=>{this.setState({recording:!1})},onRecorderStarted:c,onRecorderStopped:p}),A&&(0,a.tZ)(x,{percentComplete:b,onCancel:()=>{if(confirm(E("Are you sure you want to cancel the upload?"))){var e,t;this.cancelUpload(),null===(e=(t=this.props).onUploadCanceled)||void 0===e||e.call(t)}}}),y&&(0,a.tZ)(_.O,{onCancel:g})]})}constructor(e,t){var n;super(e,t),this.state={recording:null!==(n=this.props.skipToRecordStep)&&void 0!==n&&n}}}},24763:function(e,t,n){n.d(t,{Z:()=>d});var i=n(16584),r=n(71375),a=n(16564),o=n(1055),l=n(15771);let s=e=>{let{isPlaying:t,togglePlayback:n}=e;return(0,i.tZ)("div",{className:"tw-relative tw-flex tw-h-10 tw-w-10 tw-shrink-0 tw-cursor-pointer tw-items-center tw-justify-center tw-rounded-full tw-border-2 tw-border-solid tw-border-pub-accent tw-transition-transform hover:tw-scale-105",onClick:n,role:"button",children:t?(0,i.BX)("div",{className:"tw-flex tw-h-4 tw-w-4 tw-justify-between",children:[(0,i.tZ)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"}),(0,i.tZ)("div",{className:"tw-h-full tw-w-1/3 tw-rounded-sm tw-bg-pub-accent"})]}):(0,i.tZ)(o.Z,{className:"tw-relative tw-left-[.1rem] tw-fill-pub-accent ",stroke:"none",height:16})})},d=e=>{let{currentTime:t,isPlaying:n,progress:o,progressBarRef:d,progressBarOnMouseDown:c,remainingTime:u,togglePlayback:p,onRemove:h}=e;return(0,i.BX)("div",{className:"auditionPlayer-OkcpWn",children:[(0,i.tZ)(s,{togglePlayback:p,isPlaying:n}),(0,i.tZ)(a.ko,{currentTime:t,remainingTime:u,containerRef:d,progress:o,onMouseDown:c,theme:a._g.PubAccent}),h&&(0,i.tZ)(l.hU,{size:"sm",priority:"quaternary","aria-label":"Cancel",onClick:h,children:(0,i.tZ)(r.Z,{size:16,"aria-hidden":!0})})]})}},41688:function(e,t,n){n.d(t,{F:()=>d});var i=n(16584),r=n(94184),a=n.n(r),o=n(71375),l=n(15771),s=n(58175);let d=e=>{let{percentComplete:t=0,onCancel:n}=e;return(0,i.BX)("div",{className:"mediaUploader-QyeCya",children:[(0,i.tZ)("div",{className:a()("mediaUploaderProgressBar-UH1KZ3","tw-mt-0 tw-h-1 tw-w-full"),children:(0,i.tZ)("div",{className:a()("mediaUploaderProgressBarFilled-jRbeeL","tw-bg-pub-accent"),style:"width: ".concat(Math.max(5,100*t),"%;")})}),(0,i.tZ)("div",{className:"tw-w-12 tw-text-right tw-text-sm",children:(0,i.tZ)(s.xv,{color:"secondary",children:"".concat(Math.max(1,100*t).toFixed(0),"%")})}),(0,i.tZ)(l.hU,{size:"sm",priority:"quaternary","aria-label":"Cancel",onClick:n,children:(0,i.tZ)(o.Z,{size:16,"aria-hidden":!0})})]})}},87515:function(e,t,n){n.d(t,{Z:()=>a});var i=n(27412);class r{append(e){let t=this.mp3encoder.encodeBuffer(function(e){let t=e.length,n=new Int16Array(t);for(let i=0;i<t;i++)n[i]=Math.max(-32768,Math.min(32768,e[i]*(e[i]<0?32768:32767)));return n}(e));if(t.length>0)return this.chunks.push(t),t}flush(){if(this.chunks.length>0){let e=new Blob(this.chunks,{type:"audio/mp3"});return this.chunks=[],e}}constructor({channels:e=1,sampleRate:t=44100,bitRate:n=192}={}){(0,i._)(this,"mp3encoder",void 0),(0,i._)(this,"chunks",void 0);let{Mp3Encoder:r}=window.lamejs;this.mp3encoder=new r(e,t,n),this.chunks=[]}}class a{static get STATE(){return{STOPPED:"stopped",STARTING:"starting",STARTED:"started",STOPPING:"stopping"}}static isSupported(){return"undefined"!=typeof window&&!!window.navigator&&!!window.navigator.mediaDevices&&!!window.navigator.mediaDevices.getUserMedia&&(!!window.AudioContext||!!window.webkitAudioContext)&&!!window.Float32Array&&!!window.Blob&&!!window.URL&&!!window.Worker||!1}get duration(){var e;return(null===(e=this.startedAts)||void 0===e?void 0:e.length)?this.startedAts.reduce((e,t,n)=>{let i=this.endedAts[n];return i?e+(i-t):e+(Date.now()-t)},0)/1e3:null}get volume(){if(this.state!==a.STATE.STARTED||!this.analyser)return 0;let e=new Uint8Array(this.analyser.frequencyBinCount);return this.analyser.getByteFrequencyData(e),Math.max(...e)/255}async startMicrophone(){if(!a.isSupported())return alert("Recording is not supported on this device."),!1;if(this.microphone)try{return await this.microphone,!0}catch(e){return!1}try{this.microphone=navigator.mediaDevices.getUserMedia({audio:!0}),this.microphone=await this.microphone,this.microphone.getTracks().forEach(e=>{e.addEventListener("ended",()=>{this.state===a.STATE.STARTED&&this.stop()})})}catch(e){console.error(e),this.microphone=null}return!!this.microphone||(alert("Unable to access the microphone! Please check your browser settings."),!1)}async stopMicrophone(){if(this.microphone){if(!this.microphone.getTracks)try{await this.microphone}catch(e){return}if(this.state===a.STATE.STARTED){await this.stop();return}this.microphone.getTracks().forEach(e=>e.stop()),this.microphone=null}}async start(){let{startAt:e=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a.isSupported())throw Error("Recording is not supported on this device");if(this.state===a.STATE.STOPPING)throw Error("Currently stopping last recording");if([a.STATE.STARTING,a.STATE.STARTED].includes(this.state))return;if(clearTimeout(this.startingTimeout),this.state=a.STATE.STARTING,this.onStarting&&this.onStarting(),!await this.startMicrophone()){this.state=a.STATE.STOPPED,this.onStopped&&this.onStopped();return}let t=window.AudioContext||window.webkitAudioContext;try{if(this.audioContext=new t({sampleRate:this.sampleRate}),this.mp3encoder=new r({sampleRate:this.audioContext.sampleRate}),this.analyser=this.audioContext.createAnalyser(),this.analyser.smoothingTimeConstant=.2,this.analyser.fftSize=1024,this.audioContext.createJavaScriptNode)this.audioNode=this.audioContext.createJavaScriptNode(this.bufferSize,1,1);else if(this.audioContext.createScriptProcessor)this.audioNode=this.audioContext.createScriptProcessor(this.bufferSize,1,1);else throw Error("Unable to construct audio node");this.audioInput=this.audioContext.createMediaStreamSource(this.microphone),this.audioInput.connect(this.analyser),this.analyser.connect(this.audioNode),this.audioNode.connect(this.audioContext.destination),this.startingTimeout=setTimeout(()=>{this.audioNode.addEventListener("audioprocess",e=>this.onAudioProcess(e)),this.state=a.STATE.STARTED,this.startedAts=[Date.now()],this.endedAts=[],this.onStarted&&this.onStarted()},e?Math.max(Math.max(Date.now(),+e)-Date.now(),0):2e3)}catch(e){this.state=a.STATE.STOPPED,this.onStopped&&this.onStopped(),console.error("Unable to access the microphone!",e),alert("Unable to setup microphone!")}}async stop(){let{dropRecording:e=!1,stopMicrophone:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a.isSupported())throw Error("Recording is not supported on this device");if([a.STATE.STOPPING,a.STATE.STOPPED].includes(this.state))return;if(this.state===a.STATE.STARTING)throw Error("Currently starting new recording");clearTimeout(this.startingTimeout),this.state=a.STATE.STOPPING,this.onStopping&&this.onStopping(),this.audioInput.disconnect(),this.analyser.disconnect(),this.audioNode.disconnect(),this.audioContext.close(),this.audioContext=null,this.analyser=null,this.audioNode=null,this.audioInput=null,t&&await this.stopMicrophone();let n=this.mp3encoder.flush();this.mp3encoder=null,this.state=a.STATE.STOPPED,this.endedAts.push(Date.now()),this.onStopped&&this.onStopped(e?null:n)}async suspend(){this.audioContext&&(this.endedAts.push(Date.now()),this.audioContext.suspend())}async resume(){this.audioContext&&(this.startedAts.push(Date.now()),this.audioContext.resume())}onAudioProcess(e){if(this.state===a.STATE.STARTED&&this.mp3encoder.append(e.inputBuffer.getChannelData(0))){var t;null===(t=this.onChunk)||void 0===t||t.call(this)}}constructor(e={}){(0,i._)(this,"bufferSize",void 0),(0,i._)(this,"sampleRate",void 0),(0,i._)(this,"state",void 0),(0,i._)(this,"analyser",void 0),(0,i._)(this,"microphone",void 0),(0,i._)(this,"startedAts",void 0),(0,i._)(this,"endedAts",void 0),(0,i._)(this,"startingTimeout",void 0),(0,i._)(this,"onStarting",void 0),(0,i._)(this,"onStarted",void 0),(0,i._)(this,"onStopped",void 0),(0,i._)(this,"onStopping",void 0),(0,i._)(this,"onChunk",void 0),(0,i._)(this,"audioContext",void 0),(0,i._)(this,"mp3encoder",void 0),(0,i._)(this,"audioNode",void 0),(0,i._)(this,"audioInput",void 0),this.bufferSize=4096,this.sampleRate=44100,this.state=a.STATE.STOPPED,Object.assign(this,e)}}},14017:function(e,t,n){n.d(t,{WB:()=>S,rN:()=>M});var i=n(7409),r=n(60826),a=n(70232),o=n(68833),l=n(84864),s=n(5835),d=n(44262),c=n(82032),u=n(71993),p=n(88954),h=n(13991),m=n(72270),g=n(40924),v=n(86725),f=n(87413),C=n(57639),w=n(29511),Z=n(99975),b=n(23431),y=n(53797),k=n(8220),A=n(44288),_=n(46393),x=n(79592),E=n(78483),I=n(84766),B=n(45913),T=n(32751);let L=[[C.N9,C.MQ,a.zF],[y.YT,y.vt,a.zF],[I.Pz,I.qK,l.TWEET_PLACEHOLDER_DATA_URI],[w.Dy,w.$p,l.TWEET_PLACEHOLDER_DATA_URI],[T.gp,T.o1,a.zF],[B.vR,B.Oy,a.zF],[x.qZ,x.W7,a.zF],[h.H6,h.yv,a.zF],[p.Z9,p.uL,a.zF],[u.aE,u.a7,l.TWEET_PLACEHOLDER_DATA_URI],[_.SH,_.kb,a.zF],[d.XC,d.bo,a.zF],[Z.lA,Z.aI,a.zF],[f.S,f.un,a.zF],[g.Ng,g.O5,a.zF],[v.t3,v.mt,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAjAAAAEyCAYAAADk0er5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAooSURBVHgB7d1rbhvXGcfhw6slUYyFBHZiAwnsFcTdQZENpDtpV9A02UCbnTQraHeQ7EAGAsQ2bBiyJVIX3spDwIVhIICRD+L8Z54HoCiL+kKLHP34Ho5Or3zg119//fP26i/9fv/b7fWjAgCwH7/Uy7ZJvn/w4MHT92/ovfvk9PT05M6dO99tP/3b8fFxOTw8LMPhsAAA7MNisdhdzs/Py3q9/uf19fUPjx8/Pqu37QKmxst4PP7P0dHRk7t375Zer1cAAJpgGy+7iJnNZj/f3Nx8UyOmX2+ok5fJZPLk5OREvAAAjbJdQip1wLJdHfrTtln+Xr/We/bs2aNttJzev39fvAAAjVUnMS9evNisVqtv+tsP/5hOp+IFAGi0Ook5Pj6uwfJtfxsuX4/H4wIA0HRHR0c1ZL6t74F54mwjACDBYDCoV4/6BQAgjIABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIIGAAgjoABAOIMC9Ap6/W6XFxclOVyWTabTUk3Ho/LZDIp/b7XY9AlnvHQITVezs7OymKxaEW8VDc3N7v7VO8b0B0CBjpkNpu1JlzeV+9TnSoB3SFgoEPqtKKt6pIY0B0CBmiFNk6WgN8nYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGAIgjYACAOAIGOqTX6xWANhAw0CGDwaC01Xg8LkB3CBjokOl02sopTL1Pk8mkAN0hYKBD+v1+OTk5ac20oobLcDjc3ad634DuGBagU+ov+jqJAUjmJQsAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEEfAAABxBAwAEGdYoKGurq7KmzdvymKxKOv1ugC3o9/vl9FoVI6Pj8tkMinQRAKGxqmx8vLly3J9fV2A21efg/X5Vy8XFxfls88+K8OhXxc0iyUkGqUeOJ8/fy5eoCHqc/HVq1emoDSOgKFR6pLRcrksQHPc3NyU8/PzAk0iYGiMGi4OktBM9blpCkOTCBgao75ZF2imGi+Xl5cFmkLA0Bh1TA00l+VdmkTAAABxBAyN4TRNaLb6t2GgKQQMjXF4eFh6vV4Bmmk8HhdoCgFDY9S//vnJJ58UoHmm06kpKY0iYGiUepA0poZmqeFy9+7dAk0iYGiUOoW5d+9eOTg4KMD+3blzp3zxxRe75yY0iXkgjVNf7d2/f3+3B8t8Pt+dXu0PaMHtebeZY526eDFBUwkYGqvuhFsvAPAhM0EAII6AAQDiCBgAII6AAQDiCBgAII6AAQDiCBgAII6AAQDiCBgAII6AAQDiCBgAII69kOicq6urcnl5aYNIWqFuvHh4eGjTRTpHwNApdXfrGi/QFjXEZ7NZWa1WZTKZFOgKS0h0Rj3Aixfaqk4WF4tFga4QMHTG9fV1gTZbLpcFukLA0Bn1vQLQZpvNpkBXOKLTGYPBoECbjcfjAl0hYOiM0WjkTA1aqz62h0PnZdAdHu10Sj1Lo05inEZNW9Sl0Rov9VRq6BIBQ+fUg71JDEA2S0gAQBwBAwDEETAAQBwBAwDEETAAQBwBAwDEETAAQBwBAwDEETAAQBwBAwDEETAAQBx7IdE5V1dXNnOkNepmjnUjR/t70TUChk6Zz+e7eIG2qCE+m83KarXa7bYOXWEJic6oB3jxQlvVyeJisSjQFQKGzri+vi7QZsvlskBXCBg6o75XANpss9kU6ApHdDpjMBgUaLPxeFygKwQMnTEajZypQWvVx/Zw6LwMusOjnU6pZ2nUSYzTqGmLujRa46WeSg1dImDonHqwN4kByGYJCQCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCII2AAgDgCBgCIMyzsxdXVVTk/Py8AH2s+n+8uNMPR0VF5+PBhGY1GhdsnYPZgsVjsDkL37t0rAB/r5cuXAqZB6s/i9PS0fPXVV+Xg4KBwuywh7UE9CH366acFgGyr1aq8ePGicPsEzB4YNwK0h6nYfggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4ggYACCOgAEA4giYPViv1wUA+OMEzB70+/7bAdri6OiocPv8Jt2D6XRaXr9+XQDIVl+QPnz4sHD7hoVbd3BwUAaDQfntt9921yYywMeYz+eFZqjH7Xos//zzz8toNCrcPgGzJ/UBr9oB4I/x0h8AiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4AgYAiCNgAIA4NWCerlarAgDQdIvFol790l+v1z/N5/MCANB0/w+Y7Yd/z2azstlsCgBAU9VWOT8/3/T7/R/6X3755X+Xy+W/zs7OCgBAU719+3azncD8+ODBg6e7N/FuA+b7y8vLn9+8eWMSAwA0Sm2T7aBls10x+rk2S/1a792Np6enJ8Ph8LvRaPTX6XTa216XegEA2IdtrJTtgKVcXFxsVqvVjzVeHj9+vFsy6n34zc+ePXu0/abver3e19t/PikAAPvxtJ5stL3+qb7l5f0b/gfSCexetgOUpQAAAABJRU5ErkJggg=="],[s.uF,s.ph,a.zF],[b.CA,b.Ee,a.zF],[m.vb,m.HL,a.zF],[k.Yi,k.pR,a.zF],[function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=t[0];return i?(0,A.Gd)(i):null},A.sv,a.zF],[function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=t[0];return i?(0,E.od)(i):null},E.Ml,a.zF],[function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];let i=t[0];return i?(0,c.q7)(i):null},c.IS,a.zF],[e=>e===r.W.FIRST_NOTE_EMBED,u.Gq,l.TWEET_PLACEHOLDER_DATA_URI]],S=(e,t,n)=>{if(t.nodes.augmentation_placeholder)for(let[r,,a]of L){let o=r(e,(0,i._)({customSchema:t},n));if(o){let e=t.nodes.augmentation_placeholder.create({request_id:(0,l.randomString)(),url:o,src:a});return[o,e]}}return[null,null]},M=async(e,t,n,r)=>{let a,l;let{request_id:s,url:d}=e.attrs;try{for(let[t,l]of L)if(t(e.attrs.url,(0,i._)({customSchema:n},r))&&((0,o.j)(o.FP.EMBED_URL_ATTEMPTED,{url:d,source:"paste"}),a=await l(d,{customSchema:n}),(0,o.j)(o.FP.EMBED_URL_SUCCEEDED,{url:d,source:"paste"}),a))break}catch(t){(0,o.j)(o.FP.EMBED_URL_FAILED,{url:d,source:"paste"}),console.error("Failed to process augmentation placeholder:",e.attrs,t),400<=t.status&&t.status<600&&(l=t)}if(l){let i=(0,I.Pz)(e.attrs.url);if(setTimeout(()=>{N(s,t,n,(e,t,r)=>{i&&n.marks.link&&e.replaceRangeWith(t,t+r.nodeSize,n.text(r.attrs.url,[n.marks.link.create({title:r.attrs.url,href:r.attrs.url})])),e.delete(t,t+r.nodeSize)})},0),!i)throw l}else a?setTimeout(()=>{N(s,t,n,(e,t,n)=>{a&&e.setNodeMarkup(t,a.type,a.attrs,n.marks)})},0):setTimeout(()=>{N(s,t,n,(e,t,i)=>{e.replaceRangeWith(t,t+i.nodeSize,n.text(i.attrs.url))})},0)},N=(e,t,n,i)=>{let r=!1,a=t.state.tr;return t.state.doc.descendants((t,o)=>{t.type===n.nodes.augmentation_placeholder&&t.attrs.request_id===e&&!1!==i(a,o,t)&&(r=!0)}),r&&t.dispatch(a),r}},26805:function(e,t,n){n.d(t,{Z:()=>p});var i=n(16584),r=n(6400),a=n(92007),o=n(45901),l=n(1148),s=n(61301);let d=new a.H$("substack-placeholder");class c extends a.Sy{add(e,t,n){t=t||e.state.selection.from,n=n||s.Vk;let i={},r=e.state.tr;return r.setMeta(u,{add:{id:i,pos:t,url:n}}),e.dispatch(r),i}addFile(e,t,n){let{name:i,type:r}=n;t=t||e.state.selection.from;let a={},o=e.state.tr;return o.setMeta(u,{addFile:{id:a,pos:t,name:i,type:r}}),e.dispatch(o),a}remove(e,t){let n=u.getState(e.state).find(null,null,e=>e.id==t);if(n.length){let i=n[0].from,r=e.state.tr;return r.setMeta(u,{remove:{id:t}}),e.dispatch(r),i}return null}replace(e,t,n){let i=this.remove(e,t);return null!==i&&(e.dispatch(e.state.tr.insert(i-1,n)),!0)}}let u=new c({state:{init:()=>o.EH.empty,apply(e,t){t=t.map(e.mapping,e.doc);let n=e.getMeta(d);if(n&&n.add){let i=document.createElement("a");i.className="image-link placeholder",i.href="javascript:void(0)";let r=document.createElement("img");r.src=n.add.url,i.appendChild(r),i.ondrop=i.ondragstart=i.onmousedown=()=>!1;let a=o.p.widget(n.add.pos,i,{id:n.add.id});t=t.add(e.doc,[a])}else if(n&&n.addFile){let{name:a,type:s}=n.addFile,d=document.createElement("div");(0,r.render)((0,i.tZ)(l.H,{filename:a,filetype:s}),d);let c=o.p.widget(n.addFile.pos,d,{id:n.addFile.id});t=t.add(e.doc,[c])}else n&&n.remove&&(t=t.remove(t.find(void 0,void 0,e=>e.id==n.remove.id)));return t}},key:d,props:{decorations(e){return this.getState(e)}}}),p=u},11239:function(e,t,n){n.d(t,{aL:()=>d,jy:()=>a});let i=e=>{var t;let n=document.createElement("div");return n.innerHTML=e,{dom:null!==(t=n.querySelector("svg"))&&void 0!==t?t:document.createElement("div")}},r=(e,t)=>{if(!("dom"in e)||!e.dom)return{dom:document.createElement("div")};let n=document.createElement("div");n.className="dropdown-item-container";let i=document.createElement("span");i.innerText=t;let r=document.createElement("div");return r.className="dropdown-item-svg",r.appendChild(e.dom),n.appendChild(r),n.appendChild(i),{dom:n}};i('\n<svg class="editor-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)" fill="none">\n<path d="M7.33334 4L3.33334 8L7.33334 12" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M11.3333 19H15.8182C17.2809 19 18.6837 18.4205 19.718 17.3891C20.7523 16.3576 21.3333 14.9587 21.3333 13.5C21.3333 12.0413 20.7523 10.6424 19.718 9.61091C18.6837 8.57946 17.2809 8 15.8182 8H4.33334" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n'),i('\n<svg class="editor-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)" fill="none">\n<path d="M17.3334 4L21.3334 8L17.3334 12" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M13.3334 19H8.84853C7.38582 19 5.98302 18.4205 4.94873 17.3891C3.91443 16.3576 3.33337 14.9587 3.33337 13.5C3.33337 12.0413 3.91443 10.6424 4.94873 9.61091C5.98302 8.57946 7.38582 8 8.84853 8H20.3334" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n'),i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill="none" d="M6.80005 5.60059H13.2C14.0487 5.60059 14.8627 5.93773 15.4628 6.53784C16.0629 7.13796 16.4 7.95189 16.4 8.80059C16.4 9.64928 16.0629 10.4632 15.4628 11.0633C14.8627 11.6634 14.0487 12.0006 13.2 12.0006H6.80005V5.60059Z" strokeWidth="3" strokeLinecap="round" stroke-linejoin="round"/>\n<path fill="none" d="M6.80005 12H14C14.8487 12 15.6627 12.3371 16.2628 12.9373C16.8629 13.5374 17.2 14.3513 17.2 15.2C17.2 16.0487 16.8629 16.8626 16.2628 17.4627C15.6627 18.0629 14.8487 18.4 14 18.4H6.80005V12Z" strokeWidth="3" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n'),i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)">\n<path d="M17.2671 6.10059H10.0671" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M13.2659 18.8994H6.06592" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M14.0666 6.10059L9.2666 18.9006" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n'),i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)" fill="none">\n<path fill="none" d="M14.866 5.60059H9.266C8.88195 5.60038 8.50345 5.69236 8.1623 5.86878C7.82116 6.04519 7.52734 6.30091 7.30552 6.61443C7.0837 6.92796 6.94036 7.29014 6.88755 7.67055C6.83473 8.05096 6.87399 8.43849 7.00201 8.80059" strokeLinecap="round" stroke-linejoin="round"/>\n<path fill="none" d="M13.2667 12C14.1154 12 14.9293 12.3371 15.5294 12.9373C16.1296 13.5374 16.4667 14.3513 16.4667 15.2C16.4667 16.0487 16.1296 16.8626 15.5294 17.4627C14.9293 18.0629 14.1154 18.4 13.2667 18.4H6.8667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M4.1665 12L19.1665 12" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n'),i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)" fill="none">\n<path d="M17.6667 16.5L21.6667 12.5L17.6667 8.5" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M5.66675 8.5L1.66675 12.5L5.66675 16.5" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M14.1667 4.5L9.16675 20.5" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n');let a=i('\n<svg class="link-item" width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)" fill="none">\n<g clip-path="url(#clip1)">\n<path d="M10.0671 13.3006C10.4107 13.7599 10.849 14.1399 11.3524 14.4149C11.8557 14.6899 12.4123 14.8535 12.9845 14.8944C13.5566 14.9354 14.1308 14.8529 14.6682 14.6524C15.2056 14.4519 15.6936 14.1382 16.0991 13.7326L18.4991 11.3326C19.2278 10.5781 19.6309 9.56774 19.6218 8.51895C19.6127 7.47017 19.192 6.46692 18.4504 5.72528C17.7088 4.98365 16.7055 4.56298 15.6567 4.55386C14.608 4.54475 13.5975 4.94793 12.8431 5.67656L11.4671 7.04456" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M13.2677 11.7008C12.9242 11.2415 12.4859 10.8614 11.9825 10.5864C11.4791 10.3114 10.9225 10.1479 10.3504 10.1069C9.7783 10.0659 9.20407 10.1485 8.66666 10.3489C8.12925 10.5494 7.64125 10.8631 7.23574 11.2688L4.83574 13.6688C4.10711 14.4232 3.70393 15.4336 3.71304 16.4824C3.72216 17.5312 4.14283 18.5344 4.88446 19.276C5.6261 20.0177 6.62935 20.4383 7.67813 20.4475C8.72692 20.4566 9.73733 20.0534 10.4917 19.3248L11.8597 17.9568" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</g>\n');i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0)">\n<path d="M7.66675 6.5H20.6667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M7.66675 12.5H20.6667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M7.66675 18.5H20.6667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M2.66675 6.5H2.67633" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M2.66675 12.5H2.67633" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M2.66675 18.5H2.67633" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n'),i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g fill="none">\n<path d="M9.66675 6.5H20.6667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M9.66675 12.5H20.6667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M9.66675 18.5H20.6667" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M3.66675 6.5H4.66675V10.5" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M3.66675 10.5H5.66675" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M5.66675 18.4999H3.66675C3.66675 17.4999 5.66675 16.4999 5.66675 15.4999C5.66675 14.4999 4.66675 13.9999 3.66675 14.4999" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n');let o=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill="none" d="M5 15.5L5 18.5C5 19.0304 5.21071 19.5391 5.58579 19.9142C5.96086 20.2893 6.46957 20.5 7 20.5L18 20.5C18.5304 20.5 19.0391 20.2893 19.4142 19.9142C19.7893 19.5391 20 19.0304 20 18.5L20 7.5C20 6.96957 19.7893 6.46086 19.4142 6.08579C19.0391 5.71071 18.5304 5.5 18 5.5L16 5.5" strokeLinecap="round" stroke-linejoin="round"/>\n<path fill="none" d="M9.5 10.5L12.5 7.5L9.5 4.5" strokeLinecap="round" stroke-linejoin="round"/>\n<path fill="none" d="M5.5 4.5L2.5 7.5L5.5 10.5" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n'),l=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M14.7143 15C14.7143 14.4696 14.9401 13.9609 15.3419 13.5858C15.7438 13.2107 16.2888 13 16.8571 13C17.4255 13 17.9705 13.2107 18.3724 13.5858C18.7742 13.9609 19 14.4696 19 15C19 15.5304 18.7742 16.0391 18.3724 16.4142C17.9705 16.7893 17.4255 17 16.8571 17C16.2888 17 15.7438 16.7893 15.3419 16.4142C14.9401 16.0391 14.7143 15.5304 14.7143 15ZM14.7143 15L16.8571 7M5.5 15C5.5 14.4696 5.72577 13.9609 6.12763 13.5858C6.52949 13.2107 7.07454 13 7.64286 13C8.21118 13 8.75622 13.2107 9.15809 13.5858C9.55995 13.9609 9.78571 14.4696 9.78571 15C9.78571 15.5304 9.55995 16.0391 9.15809 16.4142C8.75622 16.7893 8.21118 17 7.64286 17C7.07454 17 6.52949 16.7893 6.12763 16.4142C5.72577 16.0391 5.5 15.5304 5.5 15ZM5.5 15L7.64286 7" strokeLinecap="round" stroke-linejoin="round"/>\n<circle cx="8" cy="15" r="1"strokeLinecap="round" stroke-linejoin="round"/>\n<circle cx="17" cy="15" r="1"strokeLinecap="round" stroke-linejoin="round"/>\n<circle cx="7.5" cy="15.5" r="0.5"strokeLinecap="round" stroke-linejoin="round"/>\n<circle cx="16.5" cy="15.5" r="0.5"strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n');i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill="none" d="M6.66699 8L2.66699 12L6.66699 16" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M22 6H11" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M22 12L16 12" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M22 18H11" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n'),i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill="none" d="M2.66699 8L6.66699 12L2.66699 16" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M21 12L15 12" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M21 6H10" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M21 18H10" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n');let s=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g fill="none" clip-path="url(#clip0_6402:84637)">\n<path d="M5.74356 7.80138L1.55483 19.3174" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M5.74212 7.80082L9.92942 19.3177" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M13.0703 7.80493V19.3212" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M8.35986 16.1787H3.12519" strokeLinecap="round" stroke-linejoin="round"/>\n<ellipse cx="15.9501" cy="15.6565" rx="2.87907" ry="3.66427" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M21.4465 5L21.4465 10.9463" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M21.4465 5L19.3528 6.23506" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n'),d=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill="none" d="M19 3H5C3.89543 3 3 3.89543 3 5V19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z" strokeLinecap="round" stroke-linejoin="round"/>\n<path fill="none" d="M8.5 10C9.32843 10 10 9.32843 10 8.5C10 7.67157 9.32843 7 8.5 7C7.67157 7 7 7.67157 7 8.5C7 9.32843 7.67157 10 8.5 10Z" strokeLinecap="round" stroke-linejoin="round"/>\n<path fill="none" d="M21 15L16 10L5 21" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n'),c=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M3 13H21" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n'),u=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M12 1V23" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M17 5H9.5C8.57174 5 7.6815 5.36875 7.02513 6.02513C6.36875 6.6815 6 7.57174 6 8.5C6 9.42826 6.36875 10.3185 7.02513 10.9749C7.6815 11.6313 8.57174 12 9.5 12H12" fill="none" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M6 19H14.5C15.4283 19 16.3185 18.6313 16.9749 17.9749C17.6313 17.3185 18 16.4283 18 15.5C18 14.5717 17.6313 13.6815 16.9749 13.0251C16.3185 12.3687 15.4283 12 14.5 12H12" fill="none" strokeLinecap="round" stroke-linejoin="round"/>\n</g>\n</svg>\n'),p=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M18 9L18 6C18 5.46957 17.7893 4.96086 17.4142 4.58579C17.0391 4.21072 16.5304 4 16 4L5 4C4.46957 4 3.96086 4.21071 3.58579 4.58579C3.21071 4.96086 3 5.46957 3 6L3 13C3 13.5304 3.21071 14.0391 3.58578 14.4142C3.96086 14.7893 4.46957 15 5 15L7 15" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M9.03906 9.35059L14.0391 21.3506L15.8131 16.1246L21.0391 14.3506L9.03906 9.35059Z" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M16.1104 16.4214L20.3534 20.6644" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n'),h=i('\n<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M19 12L12 5L15 2L22 9L19 12Z" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M13 6L5.5 7.5L2 22L16.5 18.5L18 11L13 6Z"strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M2 22L9.586 14.414" strokeLinecap="round" stroke-linejoin="round"/>\n<path d="M13 13C13 11.8954 12.1046 11 11 11C9.89543 11 9 11.8954 9 13C9 14.1046 9.89543 15 11 15C12.1046 15 13 14.1046 13 13Z" strokeLinecap="round" stroke-linejoin="round"/>\n</svg>\n');r(p,"Buttons..."),r(o,"Code block"),r(s,"Footnote"),r(c,"Divider"),r(u,"Paywall"),r(h,"Poetry block"),r(l,"Pullquote")},83857:function(e,t,n){n.d(t,{d:()=>I});var i=n(7409),r=n(99282),a=n(58865),o=n(92007),l=n(39693),s=n.n(l),d=n(23279),c=n.n(d),u=n(26805),p=n(11239),h=n(44369),m=n(70232),g=n(68833),v=n(98914),f=n(82167),C=n(40924),w=n(86725),Z=n(53797),b=n(68303);function y(){let e=(0,a._)(["Link ","K"]);return y=function(){return e},e}function k(){let e=(0,a._)(["Thereâ€™s a fancier way to share Substack links with your readers:"]);return k=function(){return e},e}function A(){let e=(0,a._)(["Convert your link into an embed"]);return A=function(){return e},e}let _=new Set,x=c()((e,t,n)=>{let i=t.trim();(0,w.l6)(i).then(r=>{r&&(_.add(i),t===e.target.value&&n.classList.add("has-substack-link"))})},250,{maxWait:1e3});function E(e,t){if("target"in e&&e.target&&"className"in e.target&&"url-input"===e.target.className&&"value"in e.target){let{value:n}=e.target,i=n.trim();if(_.has(i)||(0,C.Ng)(i)||(0,f.lQ)(i)){t.classList.add("has-substack-link");return}if((0,Z.zb)(i)){t.classList.add("has-opensea-link");return}(0,w.t3)(i)&&x(e,n,t),t.classList.remove("has-substack-link"),t.classList.remove("has-opensea-link")}}function I(e){let{scrollParent:t,publication:n,language:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{iString:l,iTemplate:d}=I18N.i(null!=a?a:"en"),c=d(y(),(0,v.Mi)());return new h.$4({class:"mark-menu-item",title:c,icon:p.jy,active(t){let n=[];return t.schema.nodes.image2?n.push(t.schema.nodes.image2):console.warn("image2 node type not found in schema"),t.schema.nodes.image3?n.push(t.schema.nodes.image3):console.warn("image3 node type not found in schema"),!!((0,b.gR)(t,n)?(0,b.do)(t):(0,b.k)(t,e))||(0,h.vM)(t,e)},enable:()=>!0,run(p,y,x){let I,B,T,L;let S=(0,b.k)(p,e);S?(I=S.pos,B=S,T=(0,b.qe)(p,S.pos.from,S.pos.to,{allowedMarks:[e]}),L=S.node.textContent):(I=p.selection,B=(0,b.Dg)(p,e),T=(0,b.S7)(p,{allowedMarks:[e]}),L=p.doc.textBetween(p.selection.from,p.selection.to));let M=(0,b.gR)(p,s()([p.schema.nodes.captionedImage,p.schema.nodes.image2,p.schema.nodes.image3,p.schema.nodes.caption]).filter(Boolean)),N=M?(0,b.do)(p):null;T=T&&!M;let P=x.dom.parentNode,D={className:"create-link-menu",submitText:l("Link"),parent:c,title:l("Create a link"),fields:{},root:P,scrollParent:t,position:(e,t)=>(0,b.$_)(x,I,e,t),onInput:E,language:a};T&&D.fields&&(D.fields.text=new h.nv({label:l("Enter textâ€¦"),className:"text-input",value:L,required:!0})),D.fields&&(D.fields.href=new h.Sm(B,N,a)),D.onSubmit=t=>{let n=p.tr;if(M)(0,b.Wi)(p,n,t.href);else if(p.selection.empty&&!S){let i=p.selection.from,r=i+t.text.length;n.insertText(t.text),n.addMark(i,r,e.create(t)),n.setSelection(o.Bs.create(n.doc,i,r))}else t.text&&t.text!==L?(n.insertText(t.text,I.from),n.setSelection(o.Bs.create(n.doc,I.from,I.from+t.text.length)),n.deleteRange(I.from+t.text.length,I.to+t.text.length),n.addMark(I.from,I.from+t.text.length,e.create(t))):n.addMark(I.from,I.to,e.create(t));if(y)return x.dispatch(n),!0},D.onClose=()=>{x.focus()};let R=async e=>{let t;e.preventDefault();let a=document.querySelector(".create-link-menu .url-input");if(!a){console.warn("could not find input for creating link menu selecting for ['.create-link-menu .url-input']");return}let o=a.value.trim();(0,h.pA)(D);let s=u.Z.add(x,I.pos,m.zF);try{if((0,g.j)(g.FP.EMBED_URL_ATTEMPTED,{url:o,source:"link-menu"}),(0,Z.zb)(o))t=await (0,Z.vt)(o,{customSchema:x.state.schema});else if(_.has(o))t=await (0,w.mt)(o);else if((0,f.lQ)(o)&&x.state.schema.nodes.digestPostEmbed)try{let e=await (0,f.wM)(o);t=x.state.schema.nodes.digestPostEmbed.create((0,r._)((0,i._)({},e),{isEditorNode:!0,nodeId:(0,v.EH)()}))}catch(e){console.error(e),alert(l("Failed to find post. Please check the link and try again."))}else t=await (0,C.O5)(o,{customSchema:x.state.schema,language:null==n?void 0:n.language});if((0,g.j)(g.FP.EMBED_URL_SUCCEEDED,{url:o,source:"link-menu"}),t)u.Z.replace(x,s,t);else throw u.Z.remove(x,s),Error("No embed found")}catch(e){(0,g.j)(g.FP.EMBED_URL_FAILED,{url:o,source:"link-menu"}),alert(l("Embed failed. Please check the url and try again."))}},O=document.createElement("div");O.className="create-link-menu-footer";let X=new DocumentFragment;X.append(document.createTextNode(d(k())));let j=document.createElement("a");j.innerText=d(A()),j.href="#",j.addEventListener("click",R),X.append(j),O.append(X),D.footer=O;let z=document.createElement("div");z.className="opensea-embed-footer";let U=new DocumentFragment,H=document.createElement("b");H.textContent="Tip: ",U.append(H),U.append(document.createTextNode("You can also "));let F=document.createElement("a");F.innerText="embed your OpenSea NFT",F.href="#",F.addEventListener("click",R),U.append(F),U.append(document.createTextNode(" to give your readers a visual preview.")),z.append(U),D.openseaEmbedFooter=z,(0,h.cS)(D)}},"link")}},32246:function(e,t,n){n.d(t,{_:()=>O});var i=n(7409),r=n(99282),a=n(16584),o=n(30396),l=n(39693),s=n.n(l),d=n(71375),c=n(22885),u=n(46299),p=n(71212),h=n(61649),m=n(15345),g=n(33804),v=n(95441),f=n(14952),C=n(60807),w=n(12281),Z=n(48083);let b=e=>{var t,n;let{videoRef:l,mediaUpload:s,showCaptions:d,maxLineWidth:c=48,CaptionsComponent:u}=e,[p,h]=(0,o.eJ)([]),[m,g]=(0,o.eJ)({segment:null,wordIndex:-1}),{segment:v,wordIndex:f}=m,C=(0,Z.Z)(null!==(n=null===(t=l.current)||void 0===t?void 0:t.player)&&void 0!==n?n:null);(0,o.d4)(()=>{var e,t;if(null===(e=l.current)||void 0===e?void 0:e.player){let e=l.current.player.currentTime,n=null!==(t=w.find(t=>e>=t.start&&e<=t.end))&&void 0!==t?t:null;if(n){let t=-1;for(let i=0;i<n.words.length;i++){let r=n.words[i];if(r){if(e>=r.start&&e<=r.end){t=i;break}if(e<r.start)break;t=i}}g({wordIndex:t,segment:n})}else g({wordIndex:-1,segment:n})}},[l.current,p.length,C]),(0,o.d4)(()=>{var e,t;(null==s?void 0:null===(e=s.transcription)||void 0===e?void 0:e.cdn_url)&&fetch(null==s?void 0:null===(t=s.transcription)||void 0===t?void 0:t.cdn_url).then(e=>e.json()).then(e=>{h(e.map(e=>(0,r._)((0,i._)({},e),{words:e.words?e.words:[]})))}).catch(e=>console.error("Error fetching transcription:",e))},[s,d]);let w=(0,o.Ye)(()=>(function(e,t){var n;let i=[],r=null!==(n=null==t?void 0:t.max_line_width)&&void 0!==n?n:84,a=new Set(".!?,;:");return e.forEach(e=>{let t=!0,n=e.start,o=e.end,l=e.words,s=[],d=0;if(e.text.length<=1.25*r){i.push(e);return}let c=()=>{var e,r,a,o;let l=t?n:null!==(a=null===(e=s[0])||void 0===e?void 0:e.start)&&void 0!==a?a:n,d=null!==(o=null===(r=s[s.length-1])||void 0===r?void 0:r.end)&&void 0!==o?o:l+.1,c=s.map(e=>e.word.trim()).join(" ");i.push({start:l,end:d,text:c,words:s})};if(l.forEach(e=>{var n;let i=e.word,o=i.length;if((null!==(n=i[i.length-1])&&void 0!==n?n:"")in a){s.push(e),c(),t=!1,s=[],d=0;return}d+o>r?(s.length&&(c(),t=!1),s=[e],d=o):(s.push(e),d+=o)}),s.length){var u,p;i.push({start:null!==(p=null===(u=s[0])||void 0===u?void 0:u.start)&&void 0!==p?p:n,end:o,text:s.map(e=>e.word).join(" ").trim(),words:s})}}),i})(p,{max_line_width:c}),[p,c]);return d&&w.length&&v?(0,a.tZ)(u,{segment:v,currentWordIndex:f}):null},y=e=>{let{segment:t}=e;return(0,a.tZ)("div",{className:"container-GCnHIT",children:(0,a.tZ)("div",{className:"text-XHqLyz",children:(0,a.tZ)("div",{children:null==t?void 0:t.words.map((e,t)=>(0,a.tZ)("span",{children:e.word.startsWith(" ")?e.word:" ".concat(e.word)},t))})})})},k=e=>{let{segment:t}=e;return(0,a.tZ)("div",{className:"container-OtABFE",children:(0,a.tZ)("div",{className:"text-Qzw72N",children:(0,a.tZ)("div",{children:null==t?void 0:t.words.flatMap((e,t)=>[t>0&&" ",(0,a.tZ)("span",{children:e.word.trim().replace(/[,.]+$/,"")},t)])})})})};var A=n(19081),_=n(61527);let x=e=>{var t,n,i;let{videoUpload:r,clip:l,showCaptions:s=!1,captionsStyle:d="classic",aspectRatio:c="landscape"}=e,u=(0,f.Ij)(),p=(0,o.sO)(null),h=(0,o.sO)(null),[m,g]=(0,o.eJ)(!1),v=(0,o.sO)();(0,o.d4)(()=>{var e;let t=h.current,n=null==p?void 0:null===(e=p.current)||void 0===e?void 0:e.player;if(!t||!n)return;let i=t.getContext("2d");if(!i)return;let r=!1,a=()=>{if(!r||!n)return;if(n.paused||n.ended){r=!1;return}i.clearRect(0,0,t.width,t.height),i.fillStyle="rgb(22, 23, 24)",i.fillRect(0,0,t.width,t.height);let{videoWidth:e,videoHeight:o}=n;if(e&&o){if("vertical_fill"===c){let r,a,l,s;let d=9/16,c=t.height*d,u=e/o;u>d?(r=(e-(a=o*d))/2,s=c,l=(t.width-c)/2):(a=e,r=0,s=t.height*u,l=(t.width-s)/2);let p=t.height;i.drawImage(n,r,0,a,o,l,0,s,p)}else if("vertical_fit"===c){let r,a,l,s;let d=9/16,c=t.height,u=c*d,p=e/o;p>d?(r=u,a=u/p,l=(t.width-u)/2,s=(t.height-a)/2):(a=c,r=c*p,l=(t.width-r)/2,s=(t.height-c)/2),i.fillStyle="black",i.fillRect(l,0,r,t.height),i.drawImage(n,0,0,e,o,l,s,r,a)}else{let r=e*(t.height/o),a=t.height,l=(t.width-r)/2;i.drawImage(n,0,0,e,o,l,0,r,a)}}v.current=requestAnimationFrame(a)},o=()=>{r||(r=!0,a())},s=()=>{r=!1,v.current&&(cancelAnimationFrame(v.current),v.current=void 0)},d=()=>{s();let e=t.parentElement;if(!e)return;let n=e.clientWidth,r=e.clientHeight;if(t.width===n&&t.height===r){o();return}t.width=n,t.height=r,i.setTransform(1,0,0,1,0,0),i.clearRect(0,0,t.width,t.height),o()},u=()=>{o()},m=()=>{n.currentTime!==l.start_time?s():n.play()};n.addEventListener("play",u),n.addEventListener("pause",m),n.addEventListener("ended",m);let g=()=>{d(),o()};n.addEventListener("loadedmetadata",g);let f=t.parentElement;if(f){let e=new ResizeObserver(()=>{d()});return e.observe(f),()=>{n.removeEventListener("play",u),n.removeEventListener("pause",m),n.removeEventListener("ended",m),n.removeEventListener("loadedmetadata",g),e.disconnect(),s()}}},[c,r.id,d,s]);let C=["social","advanced_captions"].includes(null!=d?d:""),{width:Z,height:x}=r,E="portrait"==(void 0!=Z&&void 0!=x&&Z/x>=1?"landscape":"portrait"),I=(null!==(n=null===(t=r.liveStream)||void 0===t?void 0:t.joinedOrCompletedLiveStreamInvites)&&void 0!==n?n:[]).length>0,B=(E||["vertical_fill","vertical_fit"].includes(null!=c?c:""))&&I&&"social"===d;return(0,a.BX)(A.tu,{className:"container-G3tbl8",onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),children:[(0,a.BX)(A.tu,{className:"absolute-dkdKY4",children:[(0,a.tZ)("div",{style:{display:"none"},children:(0,a.tZ)(w.Z,{ref:p,mediaUpload:r,pub:u,autoPlay:!0,surface:"editor",contentType:"clip",entityType:"post",entityKey:null!==(i=r.post_id)&&void 0!==i?i:"unknown"})}),(0,a.tZ)("canvas",{width:1024,height:576,ref:h,className:"canvas-sv7jC_"})]}),r.extractedAudio&&(0,a.tZ)(A.gq,{style:{position:"absolute",left:"50%",transform:"translateX(-50%) translateY(-50%) ".concat("landscape"!==c||E?"scale(calc(9 / 16))":""),top:B?"50%":"90%"},children:(0,a.tZ)(b,{videoRef:p,mediaUpload:r.extractedAudio,showCaptions:s,maxLineWidth:C?16:48,CaptionsComponent:C?k:y})}),(0,a.tZ)(_.ql,{mediaRef:p,mediaUpload:r,isActive:m,startTime:l.start_time,duration:l.duration,hoverOptions:{transition:0,transitionDelay:0}})]})};var E=n(54687),I=n(89871),B=n(93862),T=n(68833),L=n(15771),S=n(61254),M=n(6490),N=n(58175),P=n(6630),D=n(60308),R=n(66824);let O=e=>{let{videoUpload:t,clip:n,isOpen:l,onClose:w,transcription:Z,useDownloadsCenter:b=!1,surface:y,onSave:k}=e,_=(0,C.aF)(),O=(0,f.Ij)(),{iString:X}=(0,v.M1)(),[j,z]=(0,o.eJ)(!1),U=(0,m.Gi)(),{syncClips:H}=(0,I.z)(),{clipTitle:F,setClipTitle:W}=(0,h.Sr)(),V=(null==Z?void 0:Z.status)==="transcribed",[q,Y]=(0,o.eJ)("landscape"),[J,G]=(0,o.eJ)("classic"),[K,Q]=(0,o.eJ)(!1),$=null!==J,ee="landscape";(null==t?void 0:t.height)&&(null==t?void 0:t.width)&&(ee=t.height>t.width?"portrait":"landscape");let et=(e,n)=>{(0,T.j)(e,(0,r._)((0,i._)({},n),{is_post_editor:"media_drawer"===y,video_upload_id:t.id}))};(0,o.d4)(()=>{l&&et(T.FP.MEDIA_CLIP_EXPORT_MODAL_OPENED,{button:"cancel",source:"export_modal"})},[l]);let en=async()=>{var e,i,r;let a=null===(e=n.assets)||void 0===e?void 0:e.sort((e,t)=>{var n,i;return(null===(n=e.asset_metadata)||void 0===n?void 0:n.live_overlay_enabled)===!0?-1:+((null===(i=t.asset_metadata)||void 0===i?void 0:i.live_overlay_enabled)===!0)}).find(e=>{var t,n,i,r,a,o,l,s,d,c,u,p,h;return("landscape"===ee?"landscape"===q&&(null===(t=e.mediaUpload)||void 0===t?void 0:t.height)&&(null===(n=e.mediaUpload)||void 0===n?void 0:n.width)&&(null===(i=e.mediaUpload)||void 0===i?void 0:i.height)<(null===(r=e.mediaUpload)||void 0===r?void 0:r.width):(null===(a=e.mediaUpload)||void 0===a?void 0:a.height)&&(null===(o=e.mediaUpload)||void 0===o?void 0:o.width)&&(null===(l=e.mediaUpload)||void 0===l?void 0:l.height)>(null===(s=e.mediaUpload)||void 0===s?void 0:s.width))&&($?(null===(d=e.asset_metadata)||void 0===d?void 0:d.caption_style)===J||"advanced_captions"===J&&(null===(c=e.asset_metadata)||void 0===c?void 0:c.caption_style)==="social":!(null===(u=e.asset_metadata)||void 0===u?void 0:u.captions_enabled))&&(!$||"social"!==J||(null===(p=e.asset_metadata)||void 0===p?void 0:p.captions_version)===2)&&(null===(h=e.mediaUpload)||void 0===h?void 0:h.state)==="transcoded"});if(a&&a.mediaUpload){w(!0),et(T.FP.MEDIA_CLIP_DOWNLOAD_REQUESTED,{video_upload_id:t.id,is_post_editor:!1,type:n.source,media_clip_id:n.id,asset_media_upload_id:a.mediaUpload.id}),U.addMediaUpload({mediaUpload:a.mediaUpload,thumbnailUrl:(0,D.kOB)(t),title:null!==(i=n.title)&&void 0!==i?i:X("Download"),source:n.source});return}try{z(!0),w(!0);let e=n;if(e.id||(e=await (0,B.C)({videoUpload:t,start:n.start_time,duration:n.duration,title:null!=F?F:X("Untitled")})),!e)return;et(T.FP.MEDIA_CLIP_DOWNLOAD_REQUESTED,{video_upload_id:t.id,is_post_editor:!1,type:e.source,media_clip_id:e.id});let{mediaUpload:i}=await (0,B.O)({clip:e,useCaptions:$,captionsStyle:J,showLiveOverlay:K,aspectRatio:q,videoUpload:t,pub:O});H(),z(!1),b&&U.addMediaUpload({mediaUpload:i,thumbnailUrl:(0,D.kOB)(t),title:null!==(r=e.title)&&void 0!==r?r:X("Download"),source:e.source}),null==k||k({mediaUpload:i,videoUpload:t,aspectRatio:q})}catch(e){console.error(e)}finally{z(!1)}},ei=()=>{et(T.FP.MEDIA_CLIP_EXPORT_MODAL_CLOSED,{button:"cancel",source:"export_modal"}),w(!1)},er=()=>{et(T.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"cancel",source:"export_modal"}),ei()};return(0,a.tZ)(M.u_,{width:720,isOpen:l,onClose:ei,children:(0,a.BX)(g.w,{children:[F?(0,a.BX)(A.gq,{flex:"grow",paddingLeft:20,paddingRight:20,paddingTop:20,gap:12,alignItems:"center",children:[(0,a.tZ)(E.U,{clipTitle:null!=F?F:X("Untitled Clip"),onSaveTitle:W}),(0,a.tZ)(L.hU,{priority:"quaternary",size:"sm",title:"Close",onClick:er,"aria-label":"close",className:R.Z.closeButton,children:(0,a.tZ)(d.Z,{size:20})})]}):(0,a.tZ)(M.xB,{title:X("Download clip"),showClose:!0,onClose:er,showDivider:!0}),(0,a.BX)(M.fe,{className:R.Z.downloadModal,children:[(0,a.tZ)(x,{videoUpload:t,clip:n,aspectRatio:q,showCaptions:$,captionsStyle:J}),(0,a.BX)(A.tu,{gap:24,paddingTop:24,children:[(0,a.BX)(A.gq,{gap:32,style:{overflowY:"auto"},children:["landscape"===ee&&(0,a.BX)(A.tu,{gap:8,children:[(0,a.tZ)(N.xv.B4,{weight:"semibold",children:X("Aspect ratio")}),(0,a.tZ)(P.Z,{options:[{label:X("Landscape"),value:"landscape",icon:(0,a.tZ)(c.Z,{size:16})},{label:X("Vertical Fit"),value:"vertical_fit",icon:(0,a.tZ)(u.Z,{size:16})},{label:X("Vertical Fill"),value:"vertical_fill",icon:(0,a.tZ)(u.Z,{size:16})}],value:q,onChange:e=>Y(e)})]}),V&&(0,a.BX)(A.tu,{gap:8,children:[(0,a.tZ)(N.xv.B4,{weight:"semibold",children:X("Captions Style")}),(0,a.tZ)(P.Z,{options:s()([{label:X("Classic"),value:"classic"},{label:X("Social"),value:"advanced_captions"},{label:X("None"),value:null}]),value:J,onChange:e=>G(e)})]}),(null==_?void 0:_.is_global_admin)&&(0,a.BX)(A.tu,{gap:8,children:[(0,a.tZ)(N.xv.B4,{weight:"semibold",children:X("Live Overlay")}),(0,a.tZ)(P.Z,{options:[{label:X("Show"),value:!0},{label:X("Hide"),value:!1}],value:K,onChange:e=>Q(e)})]})]}),(0,a.tZ)(S.iz,{}),(0,a.tZ)(L.zx,{leading:(0,a.tZ)(p.Z,{}),onClick:()=>{et(T.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"complete_download_export",source:"export_modal"}),en()},disabled:j,children:X("Download")})]})]})]})})}},54687:function(e,t,n){n.d(t,{U:()=>c});var i=n(16584),r=n(30396),a=n(23279),o=n.n(a),l=n(19081),s=n(440);let d={editIcon:"editIcon-P5YgXz",title:"title-VzicoP",input:"input-hzxurD"},c=e=>{let{clipTitle:t,onSaveTitle:n}=e,[a,c]=(0,r.eJ)(t),u=o()(e=>{n(e)},200);return(0,r.d4)(()=>{u(a)},[a]),(0,i.tZ)(l.gq,{flex:"grow",className:d.inputContainer,children:(0,i.tZ)(s.l,{className:d.input,value:a,maxLength:125,onChange:e=>{c(e.currentTarget.value)},defaultRows:1,maxRows:2,onKeyDown:e=>{e.stopPropagation()}})})}},21680:function(e,t,n){n.d(t,{O:()=>d});var i=n(16584),r=n(71375),a=n(95441),o=n(19081),l=n(98248),s=n(58175);let d=e=>{let{onCancel:t}=e,{iString:n}=(0,a.M1)();return(0,i.BX)(o.gq,{gap:16,flex:"grow",children:[(0,i.tZ)(o.hs,{radius:"xs",height:40,width:40,alignItems:"center",justifyContent:"center",children:(0,i.tZ)(l.$j,{})}),(0,i.BX)(o.tu,{flex:"grow",gap:4,children:[(0,i.tZ)(o.gq,{justifyContent:"space-between",alignItems:"center",children:(0,i.tZ)(s.xv.B3,{color:"primary",weight:"semibold",children:n("Processing media...")})}),(0,i.tZ)(o.gq,{flex:"grow",alignItems:"center",gap:32,children:(0,i.tZ)(s.xv,{translated:!0,size:12,color:"secondary",children:"This could take up to several minutes depending on the format and length of your media."})})]}),(0,i.tZ)(o.gq,{cursor:"pointer",onClick:t,children:(0,i.tZ)(r.Z,{size:20,color:"var(--color-fg-secondary)"})})]})}},93862:function(e,t,n){n.d(t,{C:()=>o,O:()=>l});var i=n(80569),r=n.n(i),a=n(12988);let o=async e=>{let{videoUpload:t,start:n,duration:i,title:a}=e;try{let{body:{mediaClip:e}}=await r().post("/api/v1/video/assets/".concat(t.id,"/media_clips")).send({title:a,start:n,duration:i});return e}catch(e){return console.error(e),null}},l=async e=>{let{aspectRatio:t,clip:n,useCaptions:i,captionsStyle:o,videoUpload:l,shareToNotes:s,showLiveOverlay:d,pub:c}=e,u=(0,a.Ws)(l,{showLiveOverlay:d,aspectRatio:t,pub:c}),p={start:n.start_time,duration:n.duration,render_transcript_as:i||null!==o?"subtitles":void 0,aspect_ratio:t,captions_style:null!=o?o:void 0,media_clip_id:n.id,sync:!1,share_to_notes:s,features:u};return{mediaUpload:(await r().post("/api/v1/video/assets/".concat(null==l?void 0:l.id,"/clips")).send(p)).body.mediaUpload}}},75081:function(e,t,n){var i=n(7409),r=n(98848),a=n(16584),o=n(30396),l=n(94184),s=n.n(l),d=n(60826),c=n(82621),u=n(95441),p=n(75905);n(90099),n(68833);var h=n(58175),m=n(60308),g=n(84864),v=n(47929);let f={footer:"footer-ZM59BM",footerSection:"footerSection-EHR0jG",divider:"divider-miZWsI",meta:"meta-B2bqa5"};function C(){let{iString:e,language:t}=(0,u.M1)(),n="".concat((0,m.ZJn)(),"/img/email/generic-app-button").concat("en"!==t?"-".concat(t):"",".png");return(0,a.tZ)("a",{href:(0,m.D4e)({utm_campaign:v.VX.appMarketing,utm_content:v.fZ.emailFooterButton}),children:(0,a.tZ)(Z,{alt:e("Get the app"),src:n,pixelRatio:3,width:{en:131,es:135,it:135,fr:135,de:147,pt:135,"pt-br":135}[t],height:40})})}function w(){let{iString:e,language:t}=(0,u.M1)(),n="".concat((0,m.ZJn)(),"/img/email/publish-button").concat("en"!==t?"-".concat(t):"",".png");return(0,a.tZ)("a",{href:d.W.START_WRITING_URL,children:(0,a.tZ)(Z,{alt:e("Start writing"),src:n,pixelRatio:3,width:{en:135,es:182,it:164,fr:184,de:203,pt:184,"pt-br":184}[t],height:40})})}function Z(e){let t;var{src:n,pixelRatio:l,width:s}=e,d=(0,r._)(e,["src","pixelRatio","width"]);let{isAmp:u}=(0,o.qp)(p.E);if("undefined"==typeof URL)t=null;else{let e;try{e=new URL(n)}catch(t){e=new URL((0,m.ZJn)()+n)}let i=Array(l).fill(0).map((t,i)=>{if(0===i)return(0,m.zF4)(n,s);let r=new URL(e),[a,o]=r.pathname.split("."),l=i+1;return r.pathname="".concat(a,"@").concat(l,"x.").concat(o),(0,m.zF4)(r.toString(),s*l)});u?n=i[i.length-1]:(n=i[1]||i[0],t=i.map((e,t)=>0===t?e:"".concat(e," ").concat(t+1,"x")).join(", "))}return(0,a.tZ)(c.Z,(0,i._)({src:n,srcset:t,width:s},d))}},83165:function(e,t,n){n(16584);var i=n(6400);n(98661),n(30396),n(94184),(0,i.createContext)(void 0).displayName="CustomEmailTemplatesContext",n(14952),n(75905);var r=n(60533);let a=new Set(["if","else","endif"]),o=new Set([]);(0,i.createContext)(void 0).displayName="PostContextForEmail",n(15165),n(66436),n(98012),n(6070),n(31377),n(84864),n(68303),(()=>{let e=new r.Kj({strictFilters:!0,strictVariables:!1,trimTagLeft:!1,trimTagRight:!1,trimOutputLeft:!1,trimOutputRight:!1,root:[],layouts:[],partials:[]}),t={parse(e){throw Error('Tag "'.concat(e.name,'" is disabled for security. Only conditional logic is allowed.'))},render(){throw Error("Tag rendering is disabled for security.")}};return Object.keys(e.tags).forEach(n=>{a.has(n)||e.registerTag(n,t)}),Object.keys(e.filters).forEach(t=>{if(!o.has(t))e.registerFilter(t,function(){throw Error('Filter "'.concat(t,'" is disabled for security. Only safe output filters are allowed.'))})})})(),n(24750),n(75081)},15165:function(e,t,n){n(16584),n(94184),n(98012)},66436:function(e,t,n){n(16584),n(94184),n(88216),n(41193),n(90099),n(98012),n(60308),n(63651)},57796:function(e,t,n){n.d(t,{d:()=>E});var i=n(16584),r=n(30396),a=n(31131),o=n(666),l=n(50137),s=n(1467),d=n(347),c=n(92291),u=n(77338),p=n(5952),h=n(6246),m=n(25991),g=n(16451),v=n(76721),f=n(48980),C=n(7882),w=n(98750),Z=n(19081),b=n(58175),y=n(55722),k=n(15503),A=n(65575),_=n(63651);let x="note-Biuyq7";function E(e){let{commentId:t}=e,{isLoading:n,error:r,result:a}=(0,C.ib)({pathname:"/api/v1/reader/comment/".concat(t),auto:!0,deps:[t]});return r instanceof f.kp?(0,i.tZ)(i.HY,{children:r.getMessage()}):!a||n?(0,i.tZ)(T,{}):(0,i.tZ)(I,{feedItem:a.item})}function I(e){var t,n,h,f,C;let{feedItem:A}=e,{comment:E,parentComments:I}=A,{truncatedBodyJson:T,isTruncated:L}=(0,v.Z)(E),S=I[I.length-1],M=null===(t=E.attachments)||void 0===t?void 0:t.find(e=>"image"!==e.type),N=null===(n=E.attachments)||void 0===n?void 0:n.filter(e=>"image"===e.type),P=(0,r.sO)(null);return(0,w.UM)(P,()=>(0,k.zi)(A,"post-embed",{extraEventProps:{isTruncated:L}}),{threshold:.2}),(0,i.tZ)(Z.tu,{justifyContent:"center",alignItems:"center",paddingX:20,className:"container-g1JaM7",children:(0,i.tZ)(d.h,{children:(0,i.BX)(Z.hs,{as:"a",target:"_blank",href:(0,_.Sgq)(E),gap:12,border:"detail",bg:"primary",radius:"md",padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},className:x,ref:P,children:[(0,i.tZ)(Z.hs,{flex:"auto",children:(0,i.tZ)(g.Zb,{user:E})}),(0,i.BX)(Z.tu,{minWidth:0,gap:8,flex:"grow",children:[(0,i.BX)(Z.tu,{minWidth:0,flex:"grow",children:[(0,i.BX)(m.KF,{children:[(0,i.tZ)(b.xv,{color:"primary",as:"span",weight:"semibold",children:E.name}),(0,i.tZ)(y.o,{tier:E.user_bestseller_tier}),(0,i.tZ)(g.Ku,{timestamp:E.date})]}),S&&(0,i.BX)(b.xv.B5,{color:"secondary",children:["Replying to ",S.name]}),(0,i.BX)(Z.tu,{gap:12,flex:"grow",children:[(0,i.tZ)(g.sP,{children:T&&(0,i.tZ)(u.x,{content:T,attachedLinks:(0,p.Bk)(E)})}),(0,i.tZ)(c.yd,{attachments:M?[M]:N||[],readOnly:!0,onAttachmentClick:function(){let{commentId:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,k.rw)(A,"post-embed","attachment",{extraEventProps:{commentId:e}})},item:A,utm_content:A.entity_key})]})]}),(0,i.BX)(Z.hs,{justifyContent:"space-between",alignItems:"center",children:[(0,i.tZ)(B,{icon:(0,i.tZ)(o.Z,{height:16,fill:"none",strokeWidth:2.5,stroke:"var(--color-fg-secondary)"}),count:null!==(h=E.reaction_count)&&void 0!==h?h:0}),(0,i.tZ)(B,{icon:(0,i.tZ)(s.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-fg-secondary)"}),count:null!==(f=E.children_count)&&void 0!==f?f:0}),(0,i.tZ)(B,{icon:(0,i.tZ)(l.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-fg-secondary)"}),count:null!==(C=E.restacks)&&void 0!==C?C:0}),(0,i.tZ)(B,{icon:(0,i.tZ)(a.Z,{height:16,strokeWidth:2.5,stroke:"var(--color-fg-secondary)"}),count:0})]})]})]})})})}function B(e){let{icon:t,count:n}=e;return(0,i.BX)(Z.hs,{gap:8,paddingTop:6,flex:"grow",alignItems:"center",children:[t,(0,i.tZ)(b.xv.Digit,{color:"secondary",children:n>0&&(0,h.u)(n)})]})}function T(){return(0,i.tZ)(d.h,{children:(0,i.tZ)(Z.tu,{justifyContent:"center",alignItems:"center",paddingX:20,style:{margin:"20px 0"},"data-component-name":"CommentViewPlaceholder",children:(0,i.BX)(Z.hs,{gap:12,border:"detail",bg:"primary",radius:"md",padding:{mobile:16,desktop:20},style:{textDecoration:"none",width:"560px",maxWidth:"100%"},flex:"grow",className:x,children:[(0,i.tZ)(A.Vm,{type:"circle",size:48}),(0,i.BX)(Z.tu,{gap:12,flex:"grow",children:[(0,i.tZ)(A.Vm,{height:16,width:"".concat(80*Math.random()+20,"%")}),(0,i.tZ)(A.Vm,{height:16,width:"".concat(80*Math.random()+20,"%")}),(0,i.tZ)(A.Vm,{height:16,width:"".concat(80*Math.random()+20,"%")}),(0,i.tZ)(A.Vm,{height:16,width:"".concat(80*Math.random()+20,"%")})]})]})})})}},85527:function(e,t,n){n.d(t,{F:()=>o,q:()=>a});var i=n(98661),r=n(30396);let a=(0,i.createContext)(void 0);function o(){return(0,r.qp)(a)}},37663:function(e,t,n){n.d(t,{T:()=>i});function i(e){var t;return null!==(t=({embed:"post","feed-sidebar":"feed","note-related":"feed",permalink:"feed","post-embed":"post","post-page-restacks-list":"post",suggestions:"feed"})[e])&&void 0!==t?t:e}},7271:function(e,t,n){n.d(t,{M:()=>r});var i=n(60807);function r(){return!!(0,i.Fl)().explicitContentEnabled}},15367:function(e,t,n){n.d(t,{H:()=>i});function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Promise.all([n.e("7152"),n.e("6993")]).then(n.bind(n,91985)).then(n=>{let{Sentry:i}=n;i.captureException(e,{extra:t})})}},93687:function(e,t,n){n.d(t,{z:()=>s});var i=n(7409),r=n(99282),a=n(30396),o=n(48980),l=n(98914);let s=e=>{let{mediaUploadId:t}=e,[n,s]=(0,a.eJ)(null),[d,c]=(0,a.eJ)(!0),[u,p]=(0,a.eJ)(null),h=async()=>{try{let e=await (0,o.rd)("/api/v1/video/upload/".concat(t));s((0,r._)((0,i._)({},e),{updated_at:new Date})),c(!1)}catch(e){console.error("Failed to load media upload:",e),p((0,l.zx)(e)),c(!1)}};return(0,a.d4)(()=>{t?h():(s(null),c(!1))},[t,u]),{mediaUpload:n,loading:d,error:u,refetch:h}}},90406:function(e,t,n){n.d(t,{Hu:()=>i,yK:()=>r});let i="#ff6719",r=48},27036:function(e,t,n){n.d(t,{P:()=>i});let i=(e,t)=>"enabled"===t.payments_state?e.is_subscribed:e.is_free_subscribed},88788:function(e,t,n){n.d(t,{Z:()=>a});var i=n(27412),r=n(98914);class a{static get STATE(){return{STOPPED:"stopped",STARTING:"starting",STARTED:"started",STOPPING:"stopping"}}static isSupported(){var e,t;return!("undefined"==typeof window||!(null===(t=window.navigator)||void 0===t?void 0:null===(e=t.mediaDevices)||void 0===e?void 0:e.getUserMedia)||!window.AudioContext&&!window.webkitAudioContext||!window.MediaRecorder||!window.Float32Array||!window.Blob||!window.URL||!window.Worker||(0,r.K1)()||(0,r.L)())}get duration(){return this.startedAt?((this.endedAt||Date.now())-this.startedAt)/1e3:null}get volume(){if(this.state!==a.STATE.STARTED||!this.analyser)return 0;let e=new Uint8Array(this.analyser.frequencyBinCount);return this.analyser.getByteFrequencyData(e),Math.max(...e)/255}async startCapture(){let{iString:e}=this.i18n;if(!a.isSupported())return alert(e("Recording is not supported on this device.")),!1;if(this.stream)try{return await this.stream,!0}catch(e){return!1}try{this.stream=navigator.mediaDevices.getUserMedia({audio:!0,video:{width:{ideal:1920},height:{ideal:1080},aspectRatio:this.aspectRatio?{ideal:this.aspectRatio}:{ideal:16/9}}}),this.stream=await this.stream,this.stream.getTracks().forEach(e=>{e.addEventListener("ended",()=>{this.state===a.STATE.STARTED&&this.stop()})})}catch(e){console.error(e),this.stream=null}return!!this.stream||(alert(e("Unable to access the camera or microphone! Please check your browser settings.")),!1)}async stopCapture(){if(this.stream){if(this.stream instanceof Promise)try{await this.stream}catch(e){return}if(this.state===a.STATE.STARTED){await this.stop();return}if(this.stream instanceof MediaStream){var e,t;this.stream.getTracks().forEach(e=>e.stop()),null===(e=(t=this.stream).stop)||void 0===e||e.call(t),this.stream=null}}}async start(){var e,t;let{startAt:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{iString:i}=this.i18n;if(!a.isSupported())throw Error("Recording is not supported on this device");if(this.state===a.STATE.STOPPING)throw Error("Currently stopping last recording");if(["starting","started"].includes(this.state))return;if(this.startingTimeout&&clearTimeout(this.startingTimeout),this.state=a.STATE.STARTING,!await this.startCapture()){this.state=a.STATE.STOPPED,null===(e=this.onStopped)||void 0===e||e.call(this);return}let o=window.AudioContext||window.webkitAudioContext;try{let e;if(this.audioContext=(0,r.vU)()?new o:new o({sampleRate:this.sampleRate}),this.analyser=this.audioContext.createAnalyser(),this.analyser.smoothingTimeConstant=.2,this.analyser.fftSize=1024,this.audioContext.createScriptProcessor)this.audioNode=this.audioContext.createScriptProcessor(this.bufferSize,1,1);else throw Error("Unable to construct audio node");if(this.stream instanceof MediaStream&&(this.audioInput=this.audioContext.createMediaStreamSource(this.stream),this.audioInput.connect(this.analyser),this.analyser.connect(this.audioNode),this.audioNode.connect(this.audioContext.destination)),"function"==typeof MediaRecorder.isTypeSupported&&(MediaRecorder.isTypeSupported('video/mp4;codecs="avc1.42E01E, mp4a.40.2"')?e={mimeType:'video/mp4;codecs="avc1.42E01E, mp4a.40.2"'}:MediaRecorder.isTypeSupported("video/webm;codecs=h264")?e={mimeType:"video/webm;codecs=h264"}:MediaRecorder.isTypeSupported("video/webm;codecs=vp9")?e={mimeType:"video/webm;codecs=vp9"}:MediaRecorder.isTypeSupported("video/webm")?e={mimeType:"video/webm"}:MediaRecorder.isTypeSupported("video/mp4")&&(e={mimeType:"video/mp4"})),this.recordedChunks=[],!this.stream){console.error("this.stream is not set, cannot record");return}if(this.stream instanceof Promise){console.error("this.stream has not been awaited, cannot record");return}this.mediaRecorder=new MediaRecorder(this.stream,e),this.startingTimeout=window.setTimeout(()=>{var e,t;this.mediaRecorder||console.error("mediaRecorder is null in timeout"),null===(e=this.mediaRecorder)||void 0===e||e.start(),this.state=a.STATE.STARTED,this.startedAt=Date.now(),this.endedAt=null,null===(t=this.onStarted)||void 0===t||t.call(this)},n?Math.max(Math.max(Date.now(),+n)-Date.now(),0):2e3)}catch(e){this.state=a.STATE.STOPPED,null===(t=this.onStopped)||void 0===t||t.call(this),console.error("Unable to access the camera or microphone!",e),alert(i("Unable to setup camera or microphone!"))}}async stop(){let{dropRecording:e=!1,stopCapture:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n,i,r=this;if(!a.isSupported())throw Error("Recording is not supported on this device");if(["stopping","stopped"].includes(this.state))return;if(this.state===a.STATE.STARTING)throw Error("Currently starting new recording");this.startingTimeout&&clearTimeout(this.startingTimeout),this.state=a.STATE.STOPPING,null===(n=this.onStopping)||void 0===n||n.call(this);let o=async function(){var e,n,i,o,l;let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null===(e=r.audioInput)||void 0===e||e.disconnect(),null===(n=r.analyser)||void 0===n||n.disconnect(),null===(i=r.audioNode)||void 0===i||i.disconnect(),null===(o=r.audioContext)||void 0===o||o.close(),r.audioContext=null,r.analyser=null,r.audioNode=null,r.audioInput=null,r.mediaRecorder=null,t&&await r.stopCapture(),r.state=a.STATE.STOPPED,r.endedAt=Date.now(),null===(l=r.onStopped)||void 0===l||l.call(r,null!=s?s:void 0)};(null===(i=this.mediaRecorder)||void 0===i?void 0:i.state)!=="recording"||e?await o():(this.mediaRecorder.ondataavailable=async e=>{e.data&&e.data.size>0?await o(e.data):await o()},this.mediaRecorder.stop())}constructor(e){(0,i._)(this,"bufferSize",void 0),(0,i._)(this,"sampleRate",void 0),(0,i._)(this,"startedAt",null),(0,i._)(this,"endedAt",null),(0,i._)(this,"audioContext",null),(0,i._)(this,"analyser",null),(0,i._)(this,"createJavaScriptNode",null),(0,i._)(this,"audioNode",null),(0,i._)(this,"aspectRatio",null),(0,i._)(this,"startingTimeout",null),(0,i._)(this,"onStarting",void 0),(0,i._)(this,"onStopping",void 0),(0,i._)(this,"audioInput",null),(0,i._)(this,"recordedChunks",null),(0,i._)(this,"mediaRecorder",null),(0,i._)(this,"onStarted",void 0),(0,i._)(this,"onStopped",void 0),(0,i._)(this,"stream",null),(0,i._)(this,"state",void 0),(0,i._)(this,"i18n",void 0),this.bufferSize=4096,this.sampleRate=44100,this.state=a.STATE.STOPPED,this.aspectRatio=e.aspectRatio,this.onStarting=e.onStarting,this.onStarted=e.onStarted,this.onStopping=e.onStopping,this.onStopped=e.onStopped,this.i18n=I18N.i(e.language),Object.assign(this,e)}}},91700:function(e,t,n){n(16584),n(20253),n(32351),n(15771)},99027:function(e,t,n){n(27412),n(7409),n(16584);var i=n(6400),r=n(14293),a=n(35937);n(96164),n(29493),n(20253),n(48980),n(98914),n(52513),n(15771),n(19081),n(58175),n(60308),n(26111),n(50475),i.Component},80449:function(e,t,n){n.d(t,{b:()=>p});var i=n(16584),r=n(94184),a=n.n(r),o=n(71375),l=n(71068),s=n(15771),d=n(19081),c=n(58175);let u={alert:"alert-qpA4WP",title:"title-wp_J1f",description:"description-qi_X6V",icon:"icon-wk6sn4",dismissIcon:"dismissIcon-V3WVWl",theme_default:"theme_default-HMCu2W",themeDefault:"theme_default-HMCu2W",priority_primary:"priority_primary-JtnDV3",priorityPrimary:"priority_primary-JtnDV3",theme_accent:"theme_accent-Bs0wZ8",themeAccent:"theme_accent-Bs0wZ8",theme_error:"theme_error-d_EgBh",themeError:"theme_error-d_EgBh",theme_success:"theme_success-ar7Bep",themeSuccess:"theme_success-ar7Bep",theme_warn:"theme_warn-TZXJyb",themeWarn:"theme_warn-TZXJyb",theme_paid:"theme_paid-JMfzbm",themePaid:"theme_paid-JMfzbm",theme_substack:"theme_substack-uNNOIg",themeSubstack:"theme_substack-uNNOIg",theme_select:"theme_select-BVDVyP",themeSelect:"theme_select-BVDVyP",priority_secondary:"priority_secondary-RbRp5G",prioritySecondary:"priority_secondary-RbRp5G",priority_tertiary:"priority_tertiary-PawRzr",priorityTertiary:"priority_tertiary-PawRzr"},p=e=>{let{title:t,description:n,Icon:r,onDismiss:a,theme:o="default",priority:l="tertiary",showClose:s=!0,flex:d="grow"}=e;return(0,i.BX)(C,{theme:o,priority:l,flex:d,children:[r&&(0,i.tZ)(h,{Icon:r}),(0,i.BX)(w,{children:[(0,i.tZ)(m,{children:t}),n&&(0,i.tZ)(g,{children:n})]}),s&&(0,i.tZ)(v,{onClose:a,priority:l})]})},h=e=>{let{Icon:t}=e;return(0,i.tZ)(f,{children:(0,i.tZ)(t,{size:18,className:u.icon})})},m=e=>{let{children:t}=e;return(0,i.tZ)(c.xv.B4,{weight:"medium",color:"primary",className:u.title,children:t})},g=e=>{let{children:t}=e;return(0,i.tZ)(c.xv.B4,{weight:"regular",color:"secondary",className:u.description,children:t})},v=e=>{let{onClose:t,priority:n}=e;return(0,i.tZ)(f,{children:(0,i.tZ)(s.hU,{priority:"quaternary",onClick:t,size:"xs",children:(0,i.tZ)(o.Z,{size:18,className:a()(u.dismissIcon,u["priority_".concat(n)])})})})},f=(0,l.zo)({display:"flex",alignItems:"center",justifyContent:"center",width:20,height:20}),C=e=>{let{theme:t,priority:n,children:r,flex:o}=e;return(0,i.tZ)(d.X2,{flex:o,gap:12,paddingX:16,paddingY:12,radius:"sm",className:a()(u.alert,u["theme_".concat(t)],u["priority_".concat(n)]),children:r})},w=(0,l.zo)({display:"flex",direction:"column",flex:"grow",alignItems:"start"})},68709:function(e,t,n){n.d(t,{OV:()=>m,Y5:()=>h,__:()=>p});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(94184),s=n.n(l),d=n(98661),c=n(19081),u=n(58175);let p=(0,d.forwardRef)((e,t)=>{var{className:n}=e,r=(0,a._)(e,["className"]);return(0,o.tZ)(u.xv.B4,(0,i._)({as:"label",weight:"medium",color:"primary",ref:t,cursor:"inherit",className:s()("pencraft",n)},r))}),h=(0,d.forwardRef)((e,t)=>{var{className:n,children:l}=e,d=(0,a._)(e,["className","children"]);return(0,o.tZ)(p,(0,r._)((0,i._)({ref:t,className:s()("pencraft",n)},d),{children:(0,o.BX)(c.gq,{gap:4,alignItems:"center",children:[l,(0,o.tZ)(v,{})]})}))}),m=(0,d.forwardRef)((e,t)=>{var{className:n,children:l,hint:d}=e,u=(0,a._)(e,["className","children","hint"]);return(0,o.tZ)(p,(0,r._)((0,i._)({ref:t,className:s()("pencraft",n)},u),{children:(0,o.BX)(c.gq,{gap:4,justifyContent:"space-between",children:[l,(0,o.tZ)(g,{text:d})]})}))}),g=e=>{let{text:t}=e;return(0,o.tZ)(u.xv,{color:"secondary",weight:"regular",children:t})},v=()=>(0,o.tZ)(u.xv,{as:"span",color:"error",children:"*"})},73857:function(e,t,n){n.d(t,{L:()=>p});var i=n(7409),r=n(99282),a=n(16584),o=n(2564),l=n(62372),s=n(71068),d=n(14775),c=n(84747),u=n(6114);function p(e){let{content:t,children:n,leading:p,trailing:h=(0,a.tZ)(o.Z,{size:20}),priority:m="primary"}=e,[g,v,f]=(0,l.XI)(),{triggerProps:C,layerProps:w,renderLayer:Z}=(0,l.sJ)({isOpen:g,onParentClose:f,auto:!0,snap:!0,placement:"right-start",possiblePlacements:["left-start","right-start","left-end","right-end"],triggerOffset:0});return(0,a.BX)(a.HY,{children:[(0,a.tZ)(c.u,(0,r._)((0,i._)({},v,C),{onClick:e=>{e.preventDefault()},leading:p,trailing:h,priority:m,children:t})),g&&Z((0,a.tZ)(s.xu,(0,r._)((0,i._)({"data-submenu-root":!0},w,v),{children:(0,a.tZ)(d.F,{className:u.Z.submenu,padding:4,bg:"elevated",children:n})})))]})}},6490:function(e,t,n){n.d(t,{ex:()=>r.ex,fe:()=>r.fe,mz:()=>a.m,u_:()=>r.u_,xB:()=>i.xB});var i=n(65523),r=n(10704),a=n(50384)},17688:function(e,t,n){n.d(t,{d:()=>v,i:()=>h});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(94184),s=n.n(l),d=n(98661),c=n(86374),u=n(19081),p=n(63584);let h=(0,d.forwardRef)((e,t)=>{var{className:n,error:l=!1,leading:d,trailing:h=(0,o.tZ)(c.Z,{}),children:v,flex:f="auto"}=e,C=(0,a._)(e,["className","error","leading","trailing","children","flex"]);return(0,o.BX)(u.hs,{position:"relative",flex:f,children:[(0,o.tZ)("select",(0,r._)((0,i._)({},C),{className:s()(n,p.Z.select,l&&p.Z.error,C.disabled&&p.Z.disabled,d?p.Z.leading:null,h?p.Z.trailing:null),ref:t,children:v})),d&&(0,o.tZ)(m,{className:s()(l&&p.Z.error,C.disabled&&p.Z.disabled),children:d}),h&&(0,o.tZ)(g,{className:s()(l&&p.Z.error,C.disabled&&p.Z.disabled),children:h})]})});h.displayName="SelectNative";let m=e=>{let{children:t,className:n}=e;return(0,o.tZ)(u.hs,{className:s()(p.Z.wrapper,p.Z.leading,n),children:t})},g=e=>{var{children:t,className:n}=e,l=(0,a._)(e,["children","className"]);return(0,o.tZ)(u.hs,(0,r._)((0,i._)({className:s()(p.Z.wrapper,p.Z.trailing,n)},l),{children:t}))},v=e=>{let{children:t}=e;return(0,o.tZ)("option",{value:"",disabled:!0,selected:!0,children:t},"placeholder")}},14518:function(e,t,n){n.d(t,{H:()=>m});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(94184),s=n.n(l),d=n(98661),c=n(15771),u=n(19081),p=n(51776),h=n(68686);let m=(0,d.forwardRef)((e,t)=>{var{className:n,placement:l="end",priority:m="secondary-outline",button:g}=e,v=(0,a._)(e,["className","placement","priority","button"]);let f=d.default.isValidElement(g)&&null!=g&&g.type===c.zx?(0,d.cloneElement)(g,{priority:m,className:s()(g.props.className,h.Z.inputWithButtonButton,h.Z[l])}):null;return(0,o.BX)(u.hs,{direction:"start"===l?"row-reverse":"row",position:"relative",sizing:"border-box",className:s()(h.Z.inputWithButtonWrapper,h.Z[m]),children:[(0,o.tZ)(p.oi,(0,r._)((0,i._)({},v),{ref:t,flex:"grow",className:s()(n,h.Z.inputWithButtonInput,h.Z[m],f&&h.Z[l])})),f]})})},440:function(e,t,n){n.d(t,{l:()=>h});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(94184),s=n.n(l),d=n(98661),c=n(64300),u=n(51776),p=n(68686);let h=(0,d.forwardRef)((e,t)=>{var{className:n,error:l=!1,defaultRows:h=4,maxRows:m,value:g,onChange:v}=e,f=(0,a._)(e,["className","error","defaultRows","maxRows","value","onChange"]);let{innerRef:C,combinedRef:w}=(0,u.ts)(t),{value:Z,handleChange:b}=(0,c.y)({value:g,onChange:v}),y=()=>{let e=C.current;if(!e)return;let t=window.getComputedStyle(e),n=parseInt(t.borderTopWidth)+parseInt(t.borderBottomWidth),i=parseInt(t.paddingTop)+parseInt(t.paddingBottom),r=parseInt(t.lineHeight);e.style.height="auto";let a=r*h+n+i,o=Math.min(Math.max(e.scrollHeight+n,a),m?r*m+n+i:1/0);e.style.height="".concat(o,"px")};return(0,d.useEffect)(()=>(y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)),[]),(0,o.tZ)(c.g,(0,r._)((0,i._)({},f),{value:Z,onChange:e=>{b(e),y()},rows:h,className:s()(n,p.Z.autogrowing),ref:w,error:l}))})},56649:function(e,t,n){n.d(t,{D:()=>a});var i=n(16584),r=n(58175);let a=e=>{let{errors:t}=e;return t?(0,i.tZ)(i.HY,{children:t.map(e=>(0,i.tZ)(r.xv.B4,{color:"error",children:e},e))}):null}},82876:function(e,t,n){n.d(t,{g:()=>w});var i=n(16584),r=n(98661),a=n(94184),o=n.n(a),l=n(27412),s=n(6400),d=n(14293),c=n.n(d),u=n(60807),p=n(98914);let h={portalWrapper:"portalWrapper-bzvNNv",contentWrapper:"contentWrapper-Ej3nCx",contentWrapperShown:"contentWrapperShown-aSNUOg"};class m extends s.Component{onMouseEnter(){if(!this.props.disabled){if(this.closePid&&clearTimeout(this.closePid),this.setState({attachCard:!0}),0===this.props.delay){this.setIsShown(!0);return}"undefined"!=typeof window&&(this.hoverPid=window.setTimeout(()=>{this.setIsShown(!0),this.hoverPid=null},this.props.delay))}}onMouseLeave(){this.hoverPid&&clearTimeout(this.hoverPid),"undefined"!=typeof window&&(this.closePid=window.setTimeout(()=>{this.setIsShown(!1)},100))}setIsShown(e){this.setState({isOpen:e,attachCard:e})}onClick(e){e.stopPropagation()}render(e,t){var n,a,l,s;let{content:d,preferPositionLeft:u,className:m,children:g}=e,{attachCard:v,isOpen:f}=t,C={},w=!1;if(v&&(null===(n=this.wrapperRef)||void 0===n?void 0:n.current)){let{top:e,left:t}=this.wrapperRef.current.getBoundingClientRect(),{height:n,width:i}=null!==(l=null===(a=this.cardRef.current)||void 0===a?void 0:a.getBoundingClientRect())&&void 0!==l?l:{};C=(w=u&&!c()(i)&&t-i>0)?{top:c()(n)?NaN:e-8-n,left:c()(i)?NaN:t-i-8,"max-width":300}:{top:c()(n)?NaN:e-8-n,"max-width":300,left:t}}return(0,i.BX)("div",{className:o()(h.portalWrapper,m),onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),onClick:e=>this.onClick(e),ref:this.wrapperRef,children:["function"==typeof g?g({}):g,v&&(0,r.createPortal)((0,i.tZ)("div",{className:o()(h.contentWrapper,{[null!==(s=h.contentWrapperShown)&&void 0!==s?s:"undefined"]:f,"animate-opacity":!(0,p.G6)(),"position-left":w}),ref:this.cardRef,style:C,onMouseEnter:()=>this.onMouseEnter(),onMouseLeave:()=>this.onMouseLeave(),children:d}),document.body)]})}constructor(e,t){super(e,t),(0,l._)(this,"cardRef",void 0),(0,l._)(this,"hoverPid",void 0),(0,l._)(this,"closePid",void 0),(0,l._)(this,"wrapperRef",void 0),this.cardRef=(0,s.createRef)(),this.state={isOpen:!1},this.hoverPid=null,this.closePid=null,this.wrapperRef=(0,s.createRef)()}}(0,l._)(m,"defaultProps",{delay:100}),(0,l._)(m,"contextType",u.St);let g=e=>{let{content:t}=e;return(0,i.tZ)(m,{content:t,children:(0,i.tZ)("div",{className:"learnMoreChip-xHgw90",children:"?"})})};var v=n(19081),f=n(56649),C=n(58175);let w=(0,r.forwardRef)((e,t)=>{let{action:n,children:r,className:a,errors:l,helpText:s,details:d,label:c,paddingBottom:u,paddingTop:p,flex:h,wrapWithLabel:m,disabled:w,compact:Z}=e,b=Z?2:8;return(0,i.BX)(v.tu,{ref:t,alignItems:"stretch",className:a,gap:b,paddingBottom:u,paddingTop:p,disabled:w,flex:h,children:[(0,i.BX)(v.tu,{alignItems:"stretch",gap:b,as:m?"label":"div",children:[c&&(0,i.BX)(v.gq,{gap:b,alignItems:"center",children:[(0,i.tZ)(C.xv.B4,{weight:"semibold",as:m?"div":"label",color:"primary",children:c}),s&&(0,i.tZ)(g,{content:s}),n&&(0,i.tZ)(v.gq,{flex:"grow",justifyContent:"end",children:n})]}),r&&(0,i.tZ)("div",{className:o()({"has-error":l}),children:r})]}),d&&!Array.isArray(d)&&(0,i.tZ)(C.xv.B5,{color:"secondary",children:d}),d&&Array.isArray(d)&&d.length>0&&(0,i.tZ)(v.tu,{gap:4,children:d.map(e=>(0,i.tZ)(C.xv.B5,{color:"secondary",children:e}))}),(0,i.tZ)(f.D,{errors:l})]})})},74134:function(e,t,n){n.d(t,{a:()=>m,i:()=>h});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(6400),s=n(61254),d=n(19081),c=n(58175),u=n(60308);let p={tableData:"tableData-Yoy3uq",tableRow:"tableRow-p2pp0v",rowLogo:"rowLogo-C959OF",rowInfo:"rowInfo-DS3vUN",rowLink:"rowLink-p8OUuc",podcastDescription:"podcastDescription-a0BlLC",rowHeader:"rowHeader-xKXiQq",rowText:"rowText-V02KAu",editButton:"editButton-rcOodp"},h=e=>{var{children:t,addItem:n}=e,c=(0,a._)(e,["children","addItem"]);let u=(0,l.toChildArray)(t);return(0,o.BX)(d.tu,(0,r._)((0,i._)({gap:16,flex:"fill"},c),{children:[u.map((e,t)=>(0,o.BX)(o.HY,{children:[e,t<u.length-1||n?(0,o.tZ)(s.iz,{pullX:8}):null]})),(0,o.tZ)(d.gq,{children:n})]}))},m=e=>{let{imgSrc:t,icon:n,href:i,title:r,subtitle:a,action:l}=e;return(0,o.BX)(d.gq,{alignItems:"center",gap:16,children:[t?(0,o.tZ)("img",{className:p.rowLogo,src:(0,u.zF4)(t,144),alt:"".concat(r," logo")}):n?(0,o.tZ)(d.hs,{justifyContent:"center",alignItems:"center",className:p.rowLogo,bg:"secondary",radius:"sm",children:n}):null,(0,o.BX)(d.gq,{alignItems:"center",flex:"grow",gap:12,children:[(0,o.BX)(d.tu,{className:p.rowInfo,justifyContent:"center",children:[(0,o.tZ)(c.xv.B4,{weight:"bold",className:p.rowTitle,children:(0,o.tZ)("a",{className:p.rowLink,href:i,native:!0,children:r})}),(0,o.tZ)(d.gq,{gap:8,alignItems:"center",children:(0,o.tZ)(c.xv.B4,{children:a})})]}),l]})]})}},31065:function(e,t,n){n.d(t,{X:()=>o});var i=n(16584),r=n(98661),a=n(80026);let o=(0,r.forwardRef)((e,t)=>{let{label:n,icon:r,href:o,size:l=56,onClick:s}=e;return(0,i.tZ)(a.kG,{resetCss:!0,onClick:s,href:o,radius:"sm",ref:t,children:(0,i.BX)(a.sg,{className:"container-iTCOuF",gap:8,alignItems:"center",width:l,children:[(0,i.tZ)(a.sg,{alignItems:"center",justifyContent:"center",animate:!0,className:"button-zkMi7O",bg:"secondary",width:l,height:l,radius:"lg",children:r}),(0,i.tZ)(a.xv.B5,{weight:"semibold",color:"primary",children:n})]})})})},2009:function(e,t,n){n.d(t,{L:()=>a});var i=n(93252),r=n(14773);let a=document.location.origin===r.tE&&!(0,i.P)()},8072:function(e,t,n){n.d(t,{C:()=>o});var i=n(16584),r=n(55679),a=n(42224);let o=e=>{let{node:t,editable:n,staticData:o}=e;return(0,i.tZ)(r.T5,{children:(0,i.tZ)(a.k,{node:t,editable:n,staticData:o})})}},81355:function(e,t,n){n.d(t,{e:()=>a});var i=n(16584);n(30396);var r=n(52720);let a=e=>{let{children:t}=e;return(0,i.tZ)(r.Z,{version:3,config:{loader:{load:["ui/safe"]}},children:t})}},54480:function(e,t,n){n.d(t,{n:()=>O});var i=n(58865),r=n(16584),a=n(36081),o=n(36813),l=n(95441),s=n(98422),d=n(19081),c=n(58175),u=n(18618),p=n(30396),h=n(85200),m=n(71212),g=n(51043),v=n(45609),f=n(67358),C=n(80569),w=n.n(C),Z=n(49995),b=n(68833),y=n(49762),k=n(98914),A=n(71068),_=n(15771),x=n(61254),E=n(36500),I=n(84747),B=n(21685),T=n(43905),L=n(60308);let S=e=>{let{audioFileUrl:t,feedUrl:n,isPrivateFeed:i,sectionId:a,user:o}=e,{iString:s}=(0,l.M1)();return(0,r.tZ)(B.J,{className:"popoverContainer-jZEE00",layerClassName:"popoverLayer-gOi2YH",content:(0,r.tZ)(M,{audioFileUrl:t,feedUrl:n,isPrivateFeed:i,sectionId:a,user:o}),preferPlacement:"bottom-start",children:(0,r.tZ)(h.Z,{className:"icon-vlW9ea",size:24,"aria-label":s("More options"),role:"button"})})},M=e=>{let{audioFileUrl:t,feedUrl:n,isPrivateFeed:i,sectionId:a,user:o}=e,{iString:s}=(0,l.M1)(),[u,h]=(0,p.eJ)(!1),[C,B]=(0,p.eJ)(null),T=(0,y.default)("hide_media_download_option"),S=async()=>{try{(0,b.j)(b.FP.PODCAST_EMAIL_LINK_CLICKED),await w().post("/api/v1/subscription/send_podcast_email").send({section_id:a}),(0,Z.ZP)(s("Email sent")),h(!0)}catch(e){B(e)}},M=()=>{(0,b.j)(b.FP.PODCAST_FEED_URL_COPIED),(0,k.vQ)(n),(0,Z.ZP)(s("RSS feed copied"))};return(0,r.BX)(A.xu,{style:{maxWidth:285},children:[(0,r.BX)(E.xw,{isFirst:!0,children:[t&&!T&&(0,r.tZ)(I.u,{leading:(0,r.tZ)(m.Z,{size:16}),onClick:()=>{(0,k.Hl)((0,L.rhs)(t,{download:!0}))},children:s("Download MP3")}),n&&(0,r.tZ)(I.u,{leading:(0,r.tZ)(g.Z,{size:16}),onClick:M,children:i?s("Your private RSS feed"):s("RSS feed")})]}),o&&n&&(0,r.BX)(r.HY,{children:[(0,r.tZ)(x.iz,{paddingY:8}),(0,r.BX)(d.tu,{gap:12,padding:8,children:[(0,r.BX)(c.xv.B4,{color:"pub-primary-text",children:[s("Copy your RSS link and paste it in your podcast app.")," ",(0,r.tZ)(N,{})]}),(0,r.BX)(d.gq,{gap:8,children:[(0,r.tZ)(_.zx,{leading:(0,r.tZ)(v.Z,{size:16}),priority:"secondary-outline",onClick:M,children:s("Copy link")}),(0,r.tZ)(_.zx,{disabled:u,leading:(0,r.tZ)(f.Z,{size:16}),priority:"secondary-outline",onClick:S,children:s("Email link")})]}),C&&(0,r.tZ)(c.xv.B4,{color:"error",children:(0,k.zx)(C)})]})]})]})},N=()=>{let{iString:e}=(0,l.M1)();return(0,r.tZ)(c.xv.B4,{as:"a",href:T.ty,target:"_blank",rel:"noopener",color:"accent",children:e("Learn about RSS.")})},P={"skip-button":"skip-button-jgLOBO","skip-icon":"skip-icon-YsbexL",playbackRate:"playbackRate-o33VkZ"};function D(){let e=(0,i._)(["Change playback speed. Current speed is "," times"]);return D=function(){return e},e}let R=[{value:1,display:"1"},{value:1.25,display:"1.25"},{value:1.5,display:"1.5"},{value:1.75,display:"1.75"},{value:2,display:"2"}],O=e=>{var t,n;let{audioFileUrl:i,feedUrl:p,isPlaying:h,isPrivateFeed:m,playbackRate:g,sectionId:v,user:f,onChangePlaybackRate:C,onSkipBack:w,onSkipForward:Z,onTogglePlayback:b}=e,{isMobile:y}=(0,s.v9)(),k=y?28:32,{iString:A,iTemplate:_}=(0,l.M1)(),x=R.findIndex(e=>{let{value:t}=e;return t===g}),E=(null===(t=R[x])||void 0===t?void 0:t.display)?_(D(),null===(n=R[x])||void 0===n?void 0:n.display):A("Change playback speed");return(0,r.BX)(d.gq,{gap:20,alignItems:"center",justifyContent:"space-between",children:[(0,r.tZ)(d.gq,{style:{width:60},justifyContent:"center",role:"button","aria-label":E,onClick:()=>{let e=(x+1)%R.length;C(R[e].value)},children:(0,r.BX)(c.xv.B2,{className:P.playbackRate,color:"vibrance-secondary",weight:"medium","aria-hidden":!0,children:[R[x].display,"\xd7"]})}),(0,r.BX)(d.gq,{gap:y?20:32,alignItems:"center",children:[w&&(0,r.tZ)("div",{onClick:w,role:"button",className:P["skip-button"],"aria-label":A("Skip backward 15 seconds"),children:(0,r.tZ)(a.Z,{className:P["skip-icon"],height:k})}),(0,r.tZ)(u.DN,{size:y?56:72,isPlaying:h,onTogglePlayback:b}),Z&&(0,r.tZ)("div",{onClick:Z,role:"button",className:P["skip-button"],"aria-label":A("Skip forward 30 seconds"),children:(0,r.tZ)(o.Z,{className:P["skip-icon"],height:k})})]}),(0,r.tZ)(d.gq,{style:{width:60},justifyContent:"center",alignItems:"center",children:(0,r.tZ)(S,{audioFileUrl:i,feedUrl:p,isPrivateFeed:m,sectionId:v,user:f})})]})}},3486:function(e,t,n){n.d(t,{p:()=>c});var i=n(16584),r=n(94184),a=n.n(r),o=n(71068),l=n(38841),s=n(43905),d=n(24791);let c=e=>{let t,{border:n,isFreemail:r,isStatic:c,post:u,pub:p,section:h,size:m=48,url:g,useSection:v}=e,f=(0,d.sv)({post:u}),{artUrl:C,paidArtUrl:w,url:Z}=(0,s.Mv)({pub:p,section:h,useSection:v}),b=(0,o.oB)({outline:"detail"});return t=c&&f&&u?r?C:null!=w?w:C:v?null!=C?C:null==u?void 0:u.podcast_episode_image_url:u&&((null==u?void 0:u.podcastUpload)||(null==u?void 0:u.videoUpload)||(null==u?void 0:u.podcast_url))?u.podcast_episode_image_url:C,(0,i.tZ)(l.nZ,{className:a()(b,"pub-logo-m0IFm6",{"pub-logo--border-white-M0Tr8T":"white"===n}),href:null!=g?g:Z,pub:p,logoUrl:t,size:m})}},61404:function(e,t,n){n.d(t,{w:()=>p});var i=n(58865),r=n(16584),a=n(94184),o=n.n(a),l=n(95441),s=n(19081),d=n(58175);let c={timestamp:"timestamp-FzOPmB","track-container":"track-container-Ycx4d5","track-container-dragging":"track-container-dragging-oDgpWK","track-handle":"track-handle-Ko3Wwm",track:"track-AtNL73","track-played":"track-played-VpPIlb","track-drag-time":"track-drag-time-QOxM_w","sr-progress":"sr-progress-gt0aLk"};function u(){let e=(0,i._)([""," with "," remaining"]);return u=function(){return e},e}let p=e=>{let{containerRef:t,currentTime:n,dragTime:i,hideStartingTimestamp:a,remainingTime:p,progress:h,onMouseDown:m}=e,{iString:g,iTemplate:v}=(0,l.M1)();return(0,r.BX)(s.gq,{alignItems:"center",flex:"grow",gap:12,children:[!a&&(0,r.tZ)(d.xv.B5,{className:c.timestamp,color:"vibrance-primary",children:n}),(0,r.BX)("div",{ref:t,className:o()(c["track-container"],i&&c["track-container-dragging"]),onMouseDown:m,role:"slider","aria-label":g("Seek progress"),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":100*h,"aria-valuetext":v(u(),n,p),tabIndex:0,children:[(0,r.BX)("div",{className:c["sr-progress"],"aria-hidden":!0,children:[g("Current time"),": ",n," / ",g("Total time"),": ",p]}),(0,r.tZ)("div",{className:c.track}),(0,r.tZ)("div",{className:c["track-played"],style:{width:"".concat(100*h,"%")}}),i&&(0,r.tZ)(d.xv.B5,{className:c["track-drag-time"],style:{left:"".concat(100*h,"%")},"aria-hidden":!0,children:i}),(0,r.tZ)("div",{className:c["track-handle"],style:{left:"".concat(100*h,"%")},"aria-hidden":!0})]}),(0,r.tZ)(d.xv.B5,{className:c.timestamp,color:"vibrance-secondary",children:p})]})}},4158:function(e,t,n){n.d(t,{z:()=>d});var i=n(7409),r=n(16584),a=n(3411),o=n(19081),l=n(60308);let s={backgroundImage:"backgroundImage-Eijlhi",backgroundDarkenRight:"backgroundDarkenRight-DYlB0F"},d=e=>{let{backgroundUrl:t,blurAmount:n,isBlurred:d,palette:c,radius:u="md"}=e,p="none"===u?void 0:u;return(0,r.BX)(r.HY,{children:[t&&(0,r.tZ)(o.hs,{className:s.backgroundImage,inset:0,position:"absolute",radius:p,style:t?{backgroundImage:"url(".concat((0,l.zF4)(t),")")}:void 0}),d?(0,r.tZ)(o.hs,{inset:0,position:"absolute",radius:p,style:(0,i._)({backdropFilter:"blur(".concat(n,"px)"),WebkitBackdropFilter:"blur(".concat(n,"px)"),WebkitFilter:"brightness(0.7)",filter:"brightness(0.7)"},(0,a.mX)({palette:c}))}):(0,r.tZ)(o.hs,{className:s.backgroundDarkenRight,inset:0,position:"absolute",radius:p})]})}},14283:function(e,t,n){n.d(t,{o:()=>v});var i=n(7409),r=n(99282),a=n(16584),o=n(2564),l=n(95441),s=n(68833),d=n(15771),c=n(19081),u=n(58175),p=n(3486),h=n(60308),m=n(47929);let g={header:"header-PjQum5",vibranceIcon:"vibranceIcon-a9wDjU"},v=e=>{let{explicitPodcastUrl:t,isDisabled:n,post:v,postTitle:f,pub:C,section:w,showTitle:Z,showUpgradeButton:b,variant:y}=e,{iString:k}=(0,l.M1)();return(0,a.BX)(c.gq,{className:g.header,flex:"grow",alignItems:"center",alignSelf:"start",gap:"mini"===y||"notes-embed"===y?12:16,opacity:n?20:void 0,pointerEvents:n?"none":void 0,children:[(0,a.tZ)(p.p,{post:v,pub:C,section:w,size:"mini"===y?32:"notes-embed"===y?48:76,url:t}),(0,a.BX)(c.tu,{minWidth:0,gap:4,flex:"grow",children:["mini"!==y&&(0,a.tZ)(u.xv.B4,{color:"vibrance-secondary",ellipsis:!0,overflow:"hidden",children:Z}),(0,a.tZ)(u.xv.B3,(0,r._)((0,i._)({color:"vibrance-primary",ellipsis:!0,overflow:"hidden",weight:"medium"},"mini"===y?{size:14,lineHeight:20}:null),{style:{maxWidth:460},children:f})),b&&"mini"!==y&&"notes-embed"!==y&&(0,a.tZ)(c.gq,{paddingTop:4,children:(0,a.tZ)(d.zx,{"data-testid":"free-podcast-url-cta",href:(0,h.Zs0)(C,{simple:!0,next:"undefined"!=typeof document?document.location.href:"",utm_source:m.b3.showsAudioPlayerHeader,utm_medium:m.lP.web,utm_content:null==v?void 0:v.id}),localNavigation:!1,priority:"primary-mono",size:"sm",onClick:()=>{(0,s.j)(s.FP.LISTEN_AD_FREE_CLICKED,{post_id:null==v?void 0:v.id,section_id:null==w?void 0:w.id,source:"audio-player"})},children:k("Listen ad-free")})})]}),"notes-embed"===y&&(0,a.tZ)(o.Z,{className:g.vibranceIcon,size:20})]})}},28797:function(e,t,n){n.d(t,{Z:()=>h});var i=n(7409),r=n(99282),a=n(16584),o=n(30396),l=n(94184),s=n.n(l),d=n(85277),c=n(48083);let u={container:"container-zAxsTa",text:"text-Mt4veX","container-full-screen":"container-full-screen-mK397L","text-full-screen":"text-full-screen-BX6VEN","highlight-word":"highlight-word-YsKp8Q","captions-small":"captions-small-CavdhE","text-small":"text-small-boKa5D"},p=new d.WebVTTParser,h=e=>{var t,n;let{videoEle:l,mediaUpload:d,handle:h,subtitles:m,showCaptions:g,withHighlight:v,size:f="md",captionsStyle:C}=e,[w,Z]=(0,o.eJ)([]),[b,y]=(0,o.eJ)({segment:null,wordIndex:-1}),{segment:k,wordIndex:A}=b,_=(0,c.Z)(l);return((0,o.d4)(()=>{if(l){let e=l.currentTime,t=w.find(t=>e>=t.start&&e<=t.end),n=null!=t?t:null;if(!v){y({wordIndex:-1,segment:n});return}if(n){let t=-1;for(let i=0;i<n.words.length;i++){let r=n.words[i];if(r){if(e>=r.start&&e<=r.end){t=i;break}if(e<r.start)break;t=i}}y({wordIndex:t,segment:n})}else y({wordIndex:-1,segment:n})}},[l,m,w.length,_]),(0,o.d4)(()=>{var e,t,n,a;let o=(null!==(n=null==d?void 0:null===(e=d.transcription)||void 0===e?void 0:e.signed_captions)&&void 0!==n?n:[]).find(e=>e.language===m);(null==o?void 0:o.original)?(null==d?void 0:null===(t=d.transcription)||void 0===t?void 0:t.cdn_url)&&fetch(null==d?void 0:null===(a=d.transcription)||void 0===a?void 0:a.cdn_url).then(e=>e.json()).then(e=>{Z(e.map(e=>(0,r._)((0,i._)({},e),{words:e.words?e.words:[]})))}).catch(e=>console.error("Error fetching transcription:",e)):(null==o?void 0:o.url)&&fetch(o.url).then(e=>e.text()).then(e=>{Z(p.parse(e,"metadata").cues.map(e=>({text:e.text,start:e.startTime,end:e.endTime,words:[]})))}).catch(e=>console.error("Error fetching transcription:",e))},[d,m,g]),g&&w.length)?k?(0,a.tZ)("div",{className:s()(u.container,{[u["container-full-screen"]]:h.active,[u["captions-small"]]:"sm"===f}),style:C,children:k&&(0,a.tZ)("div",{className:s()(u.text,{[u["text-full-screen"]]:h.active,[u["text-small"]]:"sm"===f}),children:(null==k?void 0:null===(t=k.words)||void 0===t?void 0:t.length)?(0,a.tZ)("div",{children:null==k?void 0:k.words.map((e,t)=>(0,a.tZ)("span",{className:s()({[u["highlight-word"]]:t<=A&&v||!v}),children:e.word.startsWith(" ")?e.word:" ".concat(e.word)},t))}):(0,a.tZ)("span",{className:u["highlight-word"],children:function(e){var t;let n=e.match(/<v [^>]+>(.*?)(<\/v>|$)/);return n?null===(t=n[1])||void 0===t?void 0:t.replace(/<\/v>$/,""):""}(null!==(n=null==k?void 0:k.text)&&void 0!==n?n:"")})})}):null:null}},49233:function(e,t,n){n.d(t,{Z:()=>g});var i=n(16584),r=n(30396),a=n(7409),o=n(99282),l=n(64515);let s=e=>(0,i.tZ)(l.l,(0,o._)((0,a._)({name:"ClosedCaptionsFilledIcon",svgParams:{height:16,width:20,stroke:"#808080"}},e),{children:(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2.51429C0 1.12568 1.14532 0 2.55814 0H17.4419C18.8547 0 20 1.12568 20 2.51429V13.4857C20 14.8743 18.8547 16 17.4419 16H2.55814C1.14532 16 0 14.8743 0 13.4857V2.51429ZM12.6776 7.9987V8.60503C12.6776 8.91696 12.7142 9.17954 12.7874 9.3928C12.8638 9.60605 12.972 9.76837 13.1121 9.87977C13.2553 9.98799 13.4272 10.0421 13.6277 10.0421C13.8251 10.0421 13.9906 9.99436 14.1242 9.89887C14.2579 9.8002 14.3582 9.66811 14.425 9.5026C14.4919 9.3371 14.5253 9.1509 14.5253 8.94401H16.4207V9.09201V9.23524C16.4207 9.7254 16.2997 10.1535 16.0578 10.5195C15.8191 10.8824 15.4881 11.1641 15.0648 11.3646C14.6415 11.5651 14.1561 11.6654 13.6086 11.6654C12.9657 11.6654 12.4214 11.538 11.9758 11.2834C11.5334 11.0288 11.1976 10.6723 10.9684 10.214C10.7393 9.75246 10.6247 9.21137 10.6247 8.59071V8.00347C10.6247 7.37963 10.7393 6.83854 10.9684 6.38021C11.1976 5.92188 11.5334 5.56699 11.9758 5.31554C12.4214 5.06091 12.9657 4.93359 13.6086 4.93359C14.0192 4.93359 14.3964 4.99089 14.7401 5.10547C15.0839 5.21687 15.3799 5.3792 15.6281 5.59245C15.8796 5.8057 16.0737 6.06192 16.2106 6.36111C16.3507 6.6603 16.4207 6.99609 16.4207 7.36849V7.51172V7.65017H14.5253C14.5253 7.44329 14.4919 7.25709 14.425 7.09158C14.3582 6.92607 14.2579 6.79557 14.1242 6.70009C13.9906 6.6046 13.8251 6.55686 13.6277 6.55686C13.4272 6.55686 13.2553 6.61256 13.1121 6.72396C12.972 6.83218 12.8638 6.99291 12.7874 7.20616C12.7142 7.41942 12.6776 7.68359 12.6776 7.9987ZM6.23177 8.60503V7.9987C6.23177 7.68359 6.26837 7.41942 6.34158 7.20616C6.41797 6.99291 6.52619 6.83218 6.66623 6.72396C6.80946 6.61256 6.98134 6.55686 7.18186 6.55686C7.3792 6.55686 7.5447 6.6046 7.67839 6.70009C7.81207 6.79557 7.91233 6.92607 7.97917 7.09158C8.04601 7.25709 8.07943 7.44329 8.07943 7.65017H9.97483V7.51172V7.36849C9.97483 6.99609 9.9048 6.6603 9.76476 6.36111C9.62789 6.06192 9.43374 5.8057 9.18229 5.59245C8.93403 5.3792 8.63802 5.21687 8.29427 5.10547C7.95052 4.99089 7.57335 4.93359 7.16276 4.93359C6.51982 4.93359 5.97555 5.06091 5.52995 5.31554C5.08753 5.56699 4.75174 5.92188 4.52257 6.38021C4.2934 6.83854 4.17882 7.37963 4.17882 8.00347V8.59071C4.17882 9.21137 4.2934 9.75246 4.52257 10.214C4.75174 10.6723 5.08753 11.0288 5.52995 11.2834C5.97555 11.538 6.51982 11.6654 7.16276 11.6654C7.71021 11.6654 8.1956 11.5651 8.61892 11.3646C9.04225 11.1641 9.37326 10.8824 9.61198 10.5195C9.85388 10.1535 9.97483 9.7254 9.97483 9.23524V9.09201V8.94401H8.07943C8.07943 9.1509 8.04601 9.3371 7.97917 9.5026C7.91233 9.66811 7.81207 9.8002 7.67839 9.89887C7.5447 9.99436 7.3792 10.0421 7.18186 10.0421C6.98134 10.0421 6.80946 9.98799 6.66623 9.87977C6.52619 9.76837 6.41797 9.60605 6.34158 9.3928C6.26837 9.17954 6.23177 8.91696 6.23177 8.60503Z",fill:"white",strokeWidth:.25})})),d=e=>(0,i.BX)(l.l,(0,o._)((0,a._)({name:"ClosedCaptionsIcon",svgParams:{height:16,width:20,stroke:"#808080"}},e),{children:[(0,i.tZ)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0 2.51429C0 1.12568 1.14532 0 2.55814 0H17.4419C18.8547 0 20 1.12568 20 2.51429V13.4857C20 14.8743 18.8547 16 17.4419 16H2.55814C1.14532 16 0 14.8743 0 13.4857V2.51429ZM2.55814 1.37143C1.91595 1.37143 1.39535 1.8831 1.39535 2.51429V13.4857C1.39535 14.1169 1.91595 14.6286 2.55814 14.6286H17.4419C18.0841 14.6286 18.6047 14.1169 18.6047 13.4857V2.51429C18.6047 1.8831 18.0841 1.37143 17.4419 1.37143H2.55814Z",fill:"white",strokeWidth:"0.25"}),(0,i.tZ)("path",{d:"M12.1858 7.94143V8.6719C12.1858 9.03793 12.2336 9.34826 12.329 9.60289C12.4277 9.85752 12.5694 10.0501 12.754 10.1806C12.9418 10.3111 13.1661 10.3763 13.4271 10.3763C13.6563 10.3763 13.8536 10.3286 14.0192 10.2331C14.1878 10.1344 14.3183 10.0008 14.4106 9.83206C14.5029 9.66337 14.5555 9.4708 14.5682 9.25437H16.0626C16.0626 9.2862 16.0626 9.31802 16.0626 9.34985C16.0626 9.38168 16.0626 9.41192 16.0626 9.44057C16.053 9.88617 15.9321 10.2777 15.6997 10.615C15.4705 10.9492 15.1586 11.2102 14.7639 11.398C14.3693 11.5826 13.9205 11.6749 13.4176 11.6749C12.8097 11.6749 12.294 11.5524 11.8707 11.3073C11.4506 11.0622 11.1307 10.7153 10.9111 10.2665C10.6946 9.81774 10.5864 9.2846 10.5864 8.66713V7.94143C10.5864 7.32077 10.6962 6.78605 10.9159 6.33727C11.1355 5.8853 11.4553 5.53677 11.8755 5.29169C12.2988 5.04661 12.8128 4.92407 13.4176 4.92407C13.7964 4.92407 14.1449 4.97818 14.4632 5.0864C14.7814 5.19143 15.0584 5.34421 15.2939 5.54473C15.5294 5.74525 15.714 5.98556 15.8477 6.26565C15.9846 6.54256 16.0562 6.85289 16.0626 7.19664C16.0626 7.22847 16.0626 7.2603 16.0626 7.29213C16.0626 7.32077 16.0626 7.34942 16.0626 7.37807H14.5682C14.5555 7.15526 14.5014 6.95633 14.4059 6.78128C14.3136 6.60622 14.1847 6.46936 14.0192 6.37069C13.8536 6.26883 13.6563 6.21791 13.4271 6.21791C13.1661 6.21791 12.9433 6.28634 12.7587 6.4232C12.5741 6.55688 12.4325 6.75104 12.3338 7.00567C12.2352 7.2603 12.1858 7.57222 12.1858 7.94143Z",fill:"white",strokeWidth:"0.25"}),(0,i.tZ)("path",{d:"M5.87381 7.94143V8.6719C5.87381 9.03793 5.92155 9.34826 6.01704 9.60289C6.1157 9.85752 6.25734 10.0501 6.44195 10.1806C6.62974 10.3111 6.85413 10.3763 7.11513 10.3763C7.34429 10.3763 7.54163 10.3286 7.70714 10.2331C7.87583 10.1344 8.00633 10.0008 8.09863 9.83206C8.19094 9.66337 8.24345 9.4708 8.25618 9.25437H9.75054C9.75054 9.2862 9.75054 9.31802 9.75054 9.34985C9.75054 9.38168 9.75054 9.41192 9.75054 9.44057C9.74099 9.88617 9.62004 10.2777 9.3877 10.615C9.15853 10.9492 8.84661 11.2102 8.45193 11.398C8.05726 11.5826 7.60847 11.6749 7.10558 11.6749C6.49765 11.6749 5.98202 11.5524 5.5587 11.3073C5.13856 11.0622 4.81868 10.7153 4.59907 10.2665C4.38263 9.81774 4.27441 9.2846 4.27441 8.66713V7.94143C4.27441 7.32077 4.38422 6.78605 4.60384 6.33727C4.82346 5.8853 5.14334 5.53677 5.56348 5.29169C5.9868 5.04661 6.50083 4.92407 7.10558 4.92407C7.48434 4.92407 7.83286 4.97818 8.15115 5.0864C8.46944 5.19143 8.74635 5.34421 8.98188 5.54473C9.21741 5.74525 9.40202 5.98556 9.5357 6.26565C9.67256 6.54256 9.74418 6.85289 9.75054 7.19664C9.75054 7.22847 9.75054 7.2603 9.75054 7.29213C9.75054 7.32077 9.75054 7.34942 9.75054 7.37807H8.25618C8.24345 7.15526 8.18934 6.95633 8.09386 6.78128C8.00156 6.60622 7.87265 6.46936 7.70714 6.37069C7.54163 6.26883 7.34429 6.21791 7.11513 6.21791C6.85413 6.21791 6.63133 6.28634 6.44672 6.4232C6.26212 6.55688 6.12048 6.75104 6.02181 7.00567C5.92314 7.2603 5.87381 7.57222 5.87381 7.94143Z",fill:"white",strokeWidth:"0.25"})]}));var c=n(95441),u=n(84370),p=n(87077),h=n(74571),m=n(63722);let g=e=>{let{showCaptions:t,setShowCaptions:n,isFocused:a,disabled:o,disableShortcuts:l,disableTooltips:g=!1}=e,{iString:v}=(0,c.M1)(),f=e=>{n({showCaptions:e,userInitiated:!0}),e?localStorage.setItem("video_player:show_captions","true"):localStorage.removeItem("video_player:show_captions")};return(0,r.d4)(()=>{let e="true"===localStorage.getItem("video_player:show_captions");t!==e&&n({showCaptions:e,userInitiated:!1})},[]),(0,h.Kr)("c",()=>f(!t),a&&!l),(0,i.tZ)(p.u,{disabled:g,text:v("Closed captions / subtitles"),trailing:l?void 0:(0,i.tZ)(u.T,{children:"C"}),children:(0,i.tZ)(m.Z,{onClick:()=>f(!t),disabled:o,children:t?(0,i.tZ)(s,{}):(0,i.tZ)(d,{})})})}},90630:function(e,t,n){n.d(t,{Z:()=>c});var i=n(16584),r=n(27299),a=n(83502),o=n(84370),l=n(87077),s=n(74571),d=n(63722);let c=e=>{let{disableShortcuts:t=!1,disableTooltips:n=!1,handle:c,isFocused:u}=e,p=()=>{c.active?c.exit():c.enter()};return(0,s.Kr)("f",p,u&&!t),(0,i.tZ)(l.u,{disabled:n,text:c.active?"Exit full screen":"Full screen",trailing:t?void 0:(0,i.tZ)(o.T,{children:"F"}),children:(0,i.tZ)(d.Z,{onClick:p,children:c.active?(0,i.tZ)(r.Z,{size:18}):(0,i.tZ)(a.Z,{size:18})})})}},63587:function(e,t,n){n.d(t,{Z:()=>Z});var i=n(16584),r=n(30396),a=n(2564),o=n(33979),l=n(80569),s=n.n(l),d=n(20888),c=n(68833),u=n(98914),p=n(33870),h=n(71068),m=n(19081),g=n(58175),v=n(74571),f=n(63722),C=n(84864);let w={fullWidth:"fullWidth-KNhzK0",container:"container-djeVTw","thumbnail-duration":"thumbnail-duration-CaP985",space:"space-NQlvsK"},Z=e=>{var t,n,l,Z;let{pub:b,postId:y,isFocused:k,disableShortcuts:A=!1}=e,[_,x]=(0,r.eJ)(!1),[E,I]=(0,r.eJ)(null),B=e=>{if(!E||!b)return;(0,c.j)(c.FP.VIDEO_NEXT_VIDEO_BUTTON_CLICKED,{postId:E.id,pubId:b.id});let t=(0,p.zV)({linkToComments:!1,post:E,pub:b,utm:"next-episode"});(0,u.uX)(t,{event:e})};(0,r.d4)(()=>{(async()=>{var e,t,n;let i=await s().get("/api/v1/recent_posts").query({episodes_only:!0}),r=(null!==(t=i.body)&&void 0!==t?t:[]).findIndex(e=>e.id===y);I(null!==(n=null===(e=i.body)||void 0===e?void 0:e[r+1])&&void 0!==n?n:void 0)})()},[]),(0,v.Kr)("shift+n",()=>B(),k&&!A);let T=(null==E?void 0:E.cover_image)||(null==E?void 0:E.podcast_episode_image_url);return(0,i.BX)("div",{style:{position:"relative"},onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[_&&T&&(0,i.BX)(m.tu,{position:"absolute",className:w.container,children:[(0,i.BX)(m.tu,{bg:"glass-inverted-medium",radius:"sm",style:{cursor:"pointer"},paddingY:8,paddingX:12,gap:4,onClick:B,onMouseEnter:()=>x(!0),onMouseLeave:()=>x(!1),children:[(0,i.BX)(m.gq,{gap:16,children:[(0,i.BX)(m.tu,{gap:2,flex:"grow",children:[(0,i.tZ)(g.xv.Meta,{color:"white",opacity:80,children:"Next Up"}),(0,i.tZ)(g.xv.B4,{color:"white",children:E.title})]}),(0,i.tZ)(m.gq,{alignItems:"center",children:(0,i.tZ)(a.Z,{color:"white",size:24})})]}),(0,i.BX)("div",{style:{position:"relative"},children:[(0,i.tZ)(d.e,{className:w.fullWidth,src:T,alt:E.title,maxWidth:200,imageProps:{height:112.5,smartCrop:!0},radius:"sm"}),(0,i.tZ)(m.gq,{className:w["thumbnail-duration"],bg:"glass-inverted-medium",position:"absolute",radius:"sm",children:(0,i.tZ)(g.xv.Meta,{color:"white",lineHeight:20,children:(0,C.secondsToHHMMSS)(null!==(Z=null!==(l=null===(t=E.videoUpload)||void 0===t?void 0:t.duration)&&void 0!==l?l:null===(n=E.podcastUpload)||void 0===n?void 0:n.duration)&&void 0!==Z?Z:0)})})]})]}),(0,i.tZ)(h.xu,{className:w.space})]}),(0,i.tZ)(f.Z,{disabled:!E,children:(0,i.tZ)(o.Z,{size:18,fill:"white",onClick:B})})]})}},32782:function(e,t,n){n.d(t,{Z:()=>c});var i=n(16584),r=n(30396),a=n(37474),o=n(84370),l=n(87077),s=n(74571),d=n(63722);let c=e=>{let{disableShortcuts:t,disableTooltips:n,isFocused:c,mediaRef:u}=e,[p,h]=(0,r.eJ)(!1),m=async()=>{if(u.current)try{document.pictureInPictureElement?await document.exitPictureInPicture():u.current.player&&"requestPictureInPicture"in u.current.player&&await u.current.player.requestPictureInPicture()}catch(e){console.error("Failed to toggle PiP mode:",e)}};return(0,r.d4)(()=>{let e=()=>h(!0),t=()=>h(!1);if(u.current){var n,i;null===(n=u.current.player)||void 0===n||n.addEventListener("enterpictureinpicture",e),null===(i=u.current.player)||void 0===i||i.addEventListener("leavepictureinpicture",t)}return()=>{if(u.current){var n,i;null===(n=u.current.player)||void 0===n||n.removeEventListener("enterpictureinpicture",e),null===(i=u.current.player)||void 0===i||i.removeEventListener("leavepictureinpicture",t)}}},[u]),(0,s.Kr)("i",m,c&&!t),(0,i.tZ)(l.u,{disabled:n,text:"Picture-in-picture",trailing:t?void 0:(0,i.tZ)(o.T,{children:"I"}),children:(0,i.tZ)(d.Z,{onClick:m,children:(0,i.tZ)(a.Z,{size:18})})})}},76671:function(e,t,n){n.d(t,{Z:()=>u});var i=n(16584),r=n(44276),a=n(77475),o=n(53030),l=n(84370),s=n(87077),d=n(74571),c=n(63722);let u=e=>{let{mediaRef:t,isFocused:n,disableShortcuts:u,disableTooltips:p=!1}=e,h=(0,o.On)(t),m=()=>{var e,n;return null===(n=t.current)||void 0===n?void 0:null===(e=n.player)||void 0===e?void 0:e.play()},g=()=>{var e,n;return null===(n=t.current)||void 0===n?void 0:null===(e=n.player)||void 0===e?void 0:e.pause()},v=()=>h?g():m();return(0,d.Kr)("k",v,n&&!u),(0,d.Kr)(" ",v,n&&!u),(0,i.tZ)(s.u,{disabled:p,text:h?"Pause":"Play",trailing:u?void 0:(0,i.tZ)(l.T,{children:"K"}),children:(0,i.tZ)(c.Z,{onClick:v,children:h?(0,i.tZ)(r.Z,{fill:"white",size:18}):(0,i.tZ)(a.Z,{fill:"white",size:18})})})}},63722:function(e,t,n){n.d(t,{Z:()=>c});var i=n(7409),r=n(99282),a=n(98848),o=n(16584),l=n(94184),s=n.n(l),d=n(15771);let c=e=>{var{children:t,className:n}=e,l=(0,a._)(e,["children","className"]);return(0,o.tZ)(d.kG,(0,r._)((0,i._)({resetCss:!0,className:s()("playerButton-qCsqQJ",n)},l),{children:t}))}},84945:function(e,t,n){n.d(t,{L:()=>c,Z:()=>u});var i=n(16584),r=n(30396),a=n(19081),o=n(58175),l=n(43905);let s=e=>{let{startTime:t,mediaRef:n}=e,[a,s]=(0,r.eJ)(0);return(0,r.d4)(()=>{let e;let t=()=>{var i;(null===(i=n.current)||void 0===i?void 0:i.player)&&(s(n.current.player.currentTime),e=requestAnimationFrame(t))};return n.current&&(e=requestAnimationFrame(t)),()=>{cancelAnimationFrame(e)}},[n]),(0,i.tZ)(o.xv.Digit,{size:14,color:"white",children:t?a-t<0?null:(0,l.mr)(a-t):(0,l.mr)(a)})},d=e=>{var t;let{duration:n,mediaRef:a}=e,s=null==a?void 0:null===(t=a.current)||void 0===t?void 0:t.player,[d,c]=(0,r.eJ)(null!=n?n:(null==s?void 0:s.duration)?s.duration:0);return(0,r.d4)(()=>{let e=()=>{var e;(null==a?void 0:null===(e=a.current)||void 0===e?void 0:e.player)&&!isNaN(a.current.player.duration)&&c(a.current.player.duration)};if(null==a?void 0:a.current){var t,n;null===(n=a.current)||void 0===n||null===(t=n.player)||void 0===t||t.addEventListener("durationchange",e)}return e(),()=>{if(null==a?void 0:a.current){var t,n;null===(n=a.current)||void 0===n||null===(t=n.player)||void 0===t||t.removeEventListener("durationchange",e)}}},[s]),(0,i.tZ)(o.xv.Digit,{size:14,color:"white",children:(0,l.mr)(d)})},c=e=>{let{startTime:t,duration:n,mediaRef:r}=e;return(0,i.BX)(a.gq,{justifyContent:"center",alignItems:"center",gap:4,children:[(0,i.tZ)(s,{mediaRef:r,startTime:t}),(0,i.tZ)(o.xv.Digit,{size:14,color:"white",children:"/"}),(0,i.tZ)(d,{duration:n})]})},u=e=>{let{duration:t,mediaRef:n}=e;return(0,i.BX)(a.gq,{justifyContent:"center",alignItems:"center",gap:4,children:[(0,i.tZ)(s,{startTime:null,mediaRef:n}),(0,i.tZ)(o.xv.Digit,{size:14,color:"white",children:"/"}),(0,i.tZ)(d,{duration:t,mediaRef:n})]})}},68260:function(e,t,n){n.d(t,{Z:()=>s});var i=n(16584),r=n(2647),a=n(95441),o=n(87077),l=n(63722);let s=e=>{let{disableTooltips:t=!1,isSettingsOpen:n,setIsSettingsOpen:s}=e,{iString:d}=(0,a.M1)();return n?(0,i.tZ)(l.Z,{children:(0,i.tZ)(r.Z,{size:18,onClick:()=>s(!n)})}):(0,i.tZ)(o.u,{disabled:t,text:d("Settings"),children:(0,i.tZ)(l.Z,{children:(0,i.tZ)(r.Z,{size:18,onClick:()=>s(!n)})})})}},30730:function(e,t,n){n.d(t,{Z:()=>x});var i=n(7409),r=n(16584),a=n(6400),o=n(30396),l=n(94184),s=n.n(l),d=n(25380),c=n(53961),u=n(48619),p=n(31131),h=n(48083),m=n(14068),g=n(75697),v=n(95441),f=n(68833),C=n(19081),w=n(58175),Z=n(40949);let b={seetingsMenu:"seetingsMenu-zc8kI3",menuItem:"menuItem-Z86vY3"},y=e=>{let{mediaRef:t,dismiss:n}=e,i=e=>{var i;(null===(i=t.current)||void 0===i?void 0:i.player)&&(t.current.player.playbackRate=e,localStorage.setItem("video_player:playbackRate",e.toString())),n()};return(0,r.tZ)(C.tu,{gap:4,flex:"grow",children:[.25,.5,.75,1,1.25,1.5,1.75,2].map(e=>{var n,a;return(0,r.BX)(C.gq,{className:b.menuItem,padding:8,justifyContent:"space-between",alignItems:"center",onClick:()=>i(e),children:[(0,r.BX)(w.xv.B4,{font:"text",size:12,lineHeight:16,weight:"regular",color:"white",children:[e,"\xd7"]}),e===(null===(a=t.current)||void 0===a?void 0:null===(n=a.player)||void 0===n?void 0:n.playbackRate)&&(0,r.tZ)(d.Z,{size:16,color:"white"})]})})})},k={en:"English",es:"Spanish",it:"Italian",de:"German",pt:"Portuguese",fr:"French"},A=e=>{let{options:t=[],subtitles:n,setSubtitles:i,dismiss:a}=e,o=e=>{i(e),localStorage.setItem("video_player:subtitles",e||""),a()};return(0,r.tZ)(C.tu,{gap:4,flex:"grow",children:[null,...t].map(e=>{var t;return(0,r.BX)(C.gq,{className:b.menuItem,paddingY:8,paddingX:16,justifyContent:"space-between",alignItems:"center",onClick:()=>o(e),children:[(0,r.tZ)(w.xv.B4,{font:"text",size:12,lineHeight:16,weight:"regular",color:"white",children:null!==(t=k[null!=e?e:""])&&void 0!==t?t:"None"}),n===e&&(0,r.tZ)(d.Z,{size:16,color:"white"})]})})})},_=e=>{let{title:t,icon:n,selection:i,onClick:a}=e;return(0,r.BX)(C.gq,{className:b.menuItem,padding:8,justifyContent:"space-between",alignItems:"center",onClick:a,children:[(0,r.BX)(C.gq,{gap:8,alignItems:"center",children:[n,(0,r.tZ)(w.xv.B4,{color:"white",font:"text",size:12,lineHeight:16,weight:"regular",children:t})]}),(0,r.tZ)(C.gq,{children:(0,r.tZ)(w.xv.B4,{color:"white",font:"text",size:12,lineHeight:16,weight:"regular",children:i})})]})},x=e=>{var t,n,l;let{hideSharePostAtCurrentTime:d,mediaRef:w,post:x,pub:E,podcastUpload:I,subtitles:B,setSubtitles:T,setIsSettingsOpen:L}=e,{iString:S}=(0,v.M1)(),[M,N]=(0,o.eJ)(!1),[P,D]=(0,o.eJ)(!1),R=(0,a.createRef)(),O=(0,h.Z)(null===(t=w.current)||void 0===t?void 0:t.player),X=(0,Z.y)(),[j,z]=(0,o.eJ)([]);return(0,o.d4)(()=>{T(localStorage.getItem("video_player:subtitles")||null)},[]),(0,o.d4)(()=>{var e,t;if(null==I?void 0:null===(e=I.transcription)||void 0===e?void 0:e.signed_captions){let e=(null!==(t=I.transcription.signed_captions)&&void 0!==t?t:[]).map(e=>e.language);z(e),B&&!e.includes(B)&&T(null)}},[I,B]),(0,o.d4)(()=>{var e,t;let n=parseFloat(localStorage.getItem("video_player:playbackRate")||"1"),i=()=>{var e;(null===(e=w.current)||void 0===e?void 0:e.player)&&(w.current.player.playbackRate=n)};return(null===(e=w.current)||void 0===e?void 0:e.player)&&(null===(t=w.current.player)||void 0===t||t.addEventListener("loadedmetadata",i)),()=>{if(w.current){var e;null===(e=w.current.player)||void 0===e||e.removeEventListener("loadedmetadata",i)}}},[w]),(0,m.Z)(R,()=>{N(!1),D(!1),L(!1)}),(0,r.BX)(C.tu,{paddingY:8,ref:R,gap:4,flex:"grow",className:s()(b.seetingsMenu,{[b.slideOut]:M}),children:[M&&(0,r.tZ)(y,{mediaRef:w,dismiss:()=>N(!1)}),P&&(0,r.tZ)(A,{options:j,subtitles:B,setSubtitles:T,dismiss:()=>D(!1)}),!M&&!P&&(0,r.BX)(C.tu,{gap:4,flex:"grow",children:[(0,r.tZ)(_,{title:S("Playback speed"),icon:(0,r.tZ)(c.Z,{size:16,color:"white"}),onClick:()=>N(!0),selection:(0,r.BX)(r.HY,{children:[null===(l=w.current)||void 0===l?void 0:null===(n=l.player)||void 0===n?void 0:n.playbackRate,"\xd7"]})}),j.length>0&&(0,r.tZ)(_,{title:S("Subtitles"),icon:(0,r.tZ)(u.Z,{size:16,color:"white"}),onClick:()=>D(!0),selection:k[null!=B?B:""]}),x&&E&&(0,r.BX)(a.Fragment,{children:[(0,r.tZ)(_,{title:S("Share post"),icon:(0,r.tZ)(p.Z,{size:16,color:"white"}),onClick:()=>{x&&E&&(X((0,g.O1)(null,{post:x,pub:E,useCustomDomainOverOpen:!0})),(0,f.j)(f.FP.SHARE_LINK_CLICKED,{name:"copy",source:"player",post_id:x.id}))}}),!d&&(0,r.tZ)(_,{title:S("Share post at current time"),icon:(0,r.tZ)(p.Z,{size:16,color:"white"}),onClick:()=>{if(!x||!E)return;let e=O?{timestamp:O.toFixed(1)}:{};X((0,g.O1)(null,{post:x,pub:E,useCustomDomainOverOpen:!0,params:e})),(0,f.j)(f.FP.SHARE_LINK_CLICKED,(0,i._)({name:"copy",source:"player",post_id:x.id},e))}})]})]})]})}},27420:function(e,t,n){n.d(t,{T:()=>W});var i=n(16584),r=n(30396),a=n(94184),o=n.n(a),l=n(74691),s=n.n(l),d=n(31131),c=n(61649),u=n(95441),p=n(53030),h=n(68833),m=n(19081),g=n(58175),v=n(74571),f=n(43905);let C=()=>{let e=new URL(window.location.href);e.searchParams.delete("t"),e.searchParams.delete("d"),window.history.replaceState({},"",e.toString())},w=()=>{if("undefined"==typeof window)return null;let e=new URLSearchParams(window.location.search),t=e.get("t"),n=e.get("d");if(!t||!n)return null;let i=parseInt(t),r=parseInt(n);return isNaN(i)||isNaN(r)?(C(),null):{start:i,end:i+s()(r,c.AT,c.ar)}},Z=()=>{let[e]=(0,r.eJ)(w());return{clipTimes:e}};var b=n(40423),y=n(93370);let k=e=>{let{clipDuration:t,isMinimized:n,onClick:r}=e;return n?(0,i.tZ)(A,{onClick:r}):(0,i.BX)(m.gq,{alignItems:"center",bg:"glass-inverted-thick",gap:6,padding:6,paddingRight:8,radius:"full",onMouseDown:e=>e.stopPropagation(),onClick:e=>{e.stopPropagation(),r()},children:[(0,i.tZ)("div",{className:"iconContainer-RgovDu",children:(0,i.tZ)(b.Z,{size:12,color:"white"})}),(0,i.tZ)(g.xv.Meta,{color:"white",children:(0,y.DL)(t)})]})},A=e=>{let{onClick:t}=e;return(0,i.tZ)("div",{className:"iconContainerMarker-qBRnT3",onMouseDown:e=>e.stopPropagation(),onClick:e=>{e.stopPropagation(),t()},children:(0,i.tZ)(b.Z,{size:12,color:"white"})})};var _=n(7409),x=n(39693),E=n.n(x),I=n(71212),B=n(42042),T=n(67203),L=n(75697),S=n(15771),M=n(61254),N=n(84747),P=n(43681),D=n(33884);function R(e){var t,n,a,o;let{duration:l,pub:s,post:d,trigger:p,timestamp:m,onShareMenuOpen:g,onShareMenuClose:v,size:f}=e,[C,w]=(0,r.eJ)(m),{onStartClipping:Z}=(0,c.Sr)(),b=C&&l,y=b?{t:C.toFixed(1),d:l.toFixed(1)}:C?{timestamp:C.toFixed(1)}:{};(0,r.d4)(()=>{w(m)},[m]);let k=(0,L.O1)(null,{post:d,pub:null!=s?s:void 0,useCustomDomainOverOpen:!0,params:y}),{iString:A}=(0,u.M1)(),x={variant:"menu",url:k,onLinkClicked:e=>{(0,h.j)(h.FP.SHARE_LINK_CLICKED,(0,_._)({is_clip:b,type:e,post_id:null==d?void 0:d.id},y)),(0,h.j)(h.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"share_to_".concat(e),source:"playback timeline"})}},B=(0,P.LM)(x),S=(0,P.gY)(x),D=(0,P.oy)(x),R=(0,P.Wh)(x),X=O(x),j=E()([R,"sm"!==f?(0,i.tZ)(N.u,{leading:(0,i.tZ)(I.Z,{}),onClick:()=>{(0,h.j)(h.FP.SHARE_LINK_CLICKED,(0,_._)({is_clip:b,type:"download_clip",post_id:null==d?void 0:d.id},y)),(0,h.j)(h.FP.MEDIA_CLIP_BUTTON_CLICKED,{button:"create",source:"playback timeline"}),Z({source:"video-timeline",title:null})},children:A("Download clip")}):null,(0,i.tZ)(T.O0,{url:x.url,onShare:()=>{var e;null===(e=x.onLinkClicked)||void 0===e||e.call(x,"chat")}}),(0,i.tZ)(M.iz,{paddingX:8}),X,B,S,D]);return(0,i.BX)(N.M,{trigger:p,title:A("Share"),maxHeight:350,layerOptions:{placement:"top-center"},onOpen:g,onClose:v,children:[j,!b&&(0,i.BX)(i.HY,{children:[(0,i.tZ)(M.iz,{}),(0,i.tZ)(T.YY,{initialTime:null!=C?C:0,onChange:w,maxTime:null!==(o=null!==(a=null==d?void 0:null===(t=d.videoUpload)||void 0===t?void 0:t.duration)&&void 0!==a?a:null==d?void 0:null===(n=d.podcastUpload)||void 0===n?void 0:n.duration)&&void 0!==o?o:null})]})]})}let O=e=>{let{variant:t,url:n,onLinkClicked:r}=e,{iString:a}=(0,u.M1)(),o=()=>{window.open((0,D.TK)({message:null!=n?n:""}),"_blank"),null==r||r("notes")};return"icon"===t?(0,i.tZ)(S.hU,{onClick:o,children:(0,i.tZ)(B.Z,{})}):(0,i.tZ)(N.u,{leading:(0,i.tZ)(B.Z,{}),onClick:o,children:a("Share to Notes")})};var X=n(40297);let j={timelineThumbnail:"timelineThumbnail-sJc0Xj",timelineThumbnailSmall:"timelineThumbnailSmall-FCvVQ9"},z=e=>{var t;let{children:n,showTooltip:r,size:a,setIsHovering:l,storyboard:s,videoTime:d}=e,c="sm"===a?75:100,u=null!==(t=null==s?void 0:s.tiles)&&void 0!==t?t:[],p=u.length?(0,X.wb)(u,d):null;return(0,i.BX)(m.tu,{bg:r?"glass-inverted-medium":void 0,radius:"sm"===a?"xs":"sm",padding:8*("sm"!==a),gap:4,opacity:100*!!r,children:[(0,i.tZ)(m.gq,{justifyContent:"center",alignItems:"center",onMouseEnter:()=>l(!1),children:(0,i.tZ)("div",{style:{position:"relative"},children:s&&p&&(0,i.tZ)(X.RF,{storyboard:s,imageUrl:s.url,displayHeight:c,displayWidth:s.tile_width/s.tile_height*c,x:p.x,y:p.y,className:o()(j.timelineThumbnail,{[j.timelineThumbnailSmall]:"sm"===a})})})}),n]})},U={container:"container-S0aAZ3",track:"track-FYojQC",trackClippedPlayed:"trackClippedPlayed-cnYlGh",trackClippedUnplayed:"trackClippedUnplayed-km4zul",trackFilled:"trackFilled-gbOxAX",trackExpanded:"trackExpanded-_EdObk"},H=e=>{let{clipTimes:t,duration:n,isHovering:a,isPlayingClippedSegment:l,post:s,pub:c,progress:p,setIsHovering:v,storyboard:f,onClickBubble:C,onPause:w,onShareMenuOpen:Z,onShareMenuClose:b}=e,{iString:y}=(0,u.M1)(),[A,_]=(0,r.eJ)(!1),[x,E]=(0,r.eJ)(!0),I=!l&&p>t.start/n*100,B=!l&&p>t.end/n*100;return(0,r.d4)(()=>{(0,h.j)(h.FP.MEDIA_CLIP_SEEN,{start_time:t.start,duration:t.end-t.start})},[t.end,t.start]),(0,i.BX)("div",{className:U.container,children:[(0,i.tZ)("div",{className:o()(U.track,U.trackUnclipped,{[U.trackFilled]:I,[U.trackExpanded]:I&&a}),style:{left:0,width:"calc(".concat(t.start/n*100,"% - 2px)")}}),(0,i.tZ)("div",{className:o()(U.track,{[U.trackClippedUnplayed]:l,[U.trackFilled]:B,[U.trackExpanded]:B&&a}),style:{left:"".concat(t.start/n*100,"%"),width:"".concat((t.end-t.start)/n*100,"%")}}),(0,i.tZ)("div",{className:o()(U.track),style:{right:0,width:"calc(".concat((1-t.end/n)*100,"% - 2px)")}}),l?(0,i.tZ)("div",{className:o()(U.track,U.trackClippedPlayed,{[U.trackExpanded]:a}),style:{left:"".concat(t.start/n*100,"%"),width:"".concat(p-t.start/n*100,"%")}}):p<t.start/n*100?(0,i.tZ)("div",{className:o()(U.track,U.trackFilled,{[U.trackExpanded]:a}),style:{left:0,width:"".concat(p,"%")}}):(0,i.tZ)("div",{className:o()(U.track,U.trackFilled,{[U.trackExpanded]:a}),style:{left:"calc(".concat(t.end/n*100,"% + 2px)"),width:"calc(".concat(p-t.end/n*100,"% - 2px)")}}),(0,i.BX)(m.tu,{alignItems:"center",position:"absolute",gap:8,style:{bottom:16,left:l?"".concat(Math.max(t.start/n*100,3.5),"%"):"".concat(Math.max(.5*(t.start+t.end)/n*100,1.5),"%"),transform:"translateX(-50%)"},onMouseEnter:()=>{_(!0)},onMouseLeave:()=>{x&&(E(!0),_(!1))},children:[A&&(0,i.tZ)(z,{setIsHovering:v,showTooltip:x,size:"md",storyboard:f,videoTime:t.start,children:(0,i.tZ)(R,{onShareMenuOpen:()=>{E(!1),null==Z||Z(),(0,h.j)(h.FP.POST_SHARE_BUTTON_CLICKED,{position:"video_timeline",post_id:null==s?void 0:s.id})},onShareMenuClose:()=>{E(!0),null==b||b()},timestamp:t.start,duration:t.end-t.start,pub:c,post:s,size:"md",trigger:(0,i.tZ)("div",{onMouseDown:e=>e.stopPropagation(),children:x&&(0,i.BX)(m.gq,{cursor:"pointer",gap:8,flex:"grow",paddingY:4,onClick:w,justifyContent:"center",children:[(0,i.tZ)(d.Z,{color:"white",size:20}),(0,i.tZ)(g.xv.B4,{color:"white",weight:"semibold",children:y("Share clip")})]})})})}),(0,i.tZ)(k,{clipDuration:t.end-t.start,isMinimized:!l,onClick:C})]})]})},F={timelineContainer:"timelineContainer-QAunx2",timeline:"timeline-nCVBQY",timelineHover:"timelineHover-G7eFow",progress:"progress-K0IenH",progressHover:"progressHover-Cm9xTr",thumbnailContainer:"thumbnailContainer-vAgzNA"},W=e=>{var t;let{disableSharing:n,mediaRef:a,mediaUpload:l,post:C,pub:w,size:b,startTime:y=0,endTime:k,onShareMenuOpen:A,onShareMenuClose:_}=e,{iString:x}=(0,u.M1)(),{isClipping:E}=(0,c.Sr)(),{currentTime:I}=(0,p.FI)(a),{clipTimes:B}=Z(),T=!!(B&&I>=B.start&&I<=B.end),[L,S]=(0,r.eJ)(!0),[M,N]=(0,r.eJ)(null),[P,D]=(0,r.eJ)(0),[O,X]=(0,r.eJ)(!1),[j,U]=(0,r.eJ)(!1),[W,V]=(0,r.eJ)(0),[q,Y]=(0,r.eJ)(0),[J,G]=(0,r.eJ)(0),[K,Q]=(0,r.eJ)(0),$=(0,r.sO)(null),ee=(0,r.sO)(null),et=(0,r.sO)(null),en=(0,v.lg)(l),ei=(k||W)-y,er=(0,r.I4)(()=>{var e;if(null===(e=a.current)||void 0===e?void 0:e.player){let e=a.current.player;D(s()(e.currentTime-y,0,null!=ei?ei:e.duration-y)/(null!=ei?ei:e.duration)*100),k&&e.currentTime>=k&&(e.currentTime=y,e.pause())}$.current=requestAnimationFrame(er)},[a,y,ei,k]),ea=(0,r.I4)(e=>{var t;if(et.current&&(null===(t=a.current)||void 0===t?void 0:t.player)){let t=et.current.getBoundingClientRect(),n=(e.clientX-t.left)/t.width;a.current.player.currentTime=s()(y+n*ei,0,W),D(100*n)}},[a,y,W,ei]),eo=(0,r.I4)(e=>{ea(e)},[ea]),el=(0,r.I4)(e=>{O&&e.preventDefault()},[O]),es=(0,r.I4)(()=>{X(!1),document.removeEventListener("mousemove",eo),document.removeEventListener("selectstart",el)},[eo,el]),ed=(0,r.I4)(e=>{e.preventDefault(),X(!0),ea(e),document.addEventListener("mousemove",eo),document.addEventListener("mouseup",es),document.addEventListener("selectstart",el)},[ea,eo,es,el]),ec=()=>{Math.abs(q-K)>.1?(Q(e=>e+(q-e)*.1),ee.current=window.requestAnimationFrame(ec)):(Q(q),ee.current&&window.cancelAnimationFrame(ee.current))};(0,r.d4)(()=>($.current=window.requestAnimationFrame(er),()=>{null!==$.current&&window.cancelAnimationFrame($.current),null!==ee.current&&window.cancelAnimationFrame(ee.current)}),[er]),(0,r.d4)(()=>{let e=()=>{var e;(null===(e=a.current)||void 0===e?void 0:e.player)&&!isNaN(a.current.player.duration)&&V(a.current.player.duration)};if(a.current){var t;null===(t=a.current.player)||void 0===t||t.addEventListener("durationchange",e)}return e(),()=>{if(a.current){var t;null===(t=a.current.player)||void 0===t||t.removeEventListener("durationchange",e)}}},[null===(t=a.current)||void 0===t?void 0:t.player]);let eu=M?M/ei*100:q*ei/100;return(0,i.BX)(m.gq,{ref:et,onMouseDown:ed,onMouseEnter:()=>U(!0),onMouseLeave:()=>U(!1),onClick:es,onMouseMove:e=>{var t,n,i,r;let{x:a,width:o}=null!==(i=null===(t=et.current)||void 0===t?void 0:t.getBoundingClientRect())&&void 0!==i?i:{x:0,width:0};Y((e.clientX-a)/o*100);let l=en?en.tile_width/en.tile_height*100:100,d=((null!=l?l:0)+10)/2/(null!==(r=null===(n=et.current)||void 0===n?void 0:n.getBoundingClientRect().width)&&void 0!==r?r:1)*100,c=M?M/ei*100:null;G(s()(null!=c?c:q,d,100-d)),ee.current||ec()},flex:"grow",position:"relative",className:F.timelineContainer,cursor:"pointer",children:[B&&W&&C&&w&&!E?(0,i.tZ)(H,{clipTimes:B,duration:W,isHovering:j,isPlayingClippedSegment:null!=T&&T,post:C,pub:w,progress:P,setIsHovering:U,storyboard:en,onClickBubble:()=>{var e,t,n;(null===(e=a.current)||void 0===e?void 0:e.player)&&B&&(a.current.player.currentTime=B.start,a.current.player.paused&&(null===(t=(n=a.current.player).play)||void 0===t||t.call(n)))},onPause:()=>{var e,t,n;(null===(e=a.current)||void 0===e?void 0:e.player)&&(null===(t=(n=a.current.player).pause)||void 0===t||t.call(n))},onShareMenuOpen:A,onShareMenuClose:_}):(0,i.BX)("div",{className:F.timeline,children:[j&&(0,i.tZ)("div",{className:F.timelineHover,style:{width:"".concat(q,"%"),height:"100%"}}),(0,i.tZ)("div",{className:o()(F.progress,{[F.progressHover]:j&&!B}),style:{width:"".concat(P,"%"),height:"100%"}})]}),!E&&!n&&!B&&C&&w&&_&&A&&(0,i.tZ)(m.tu,{position:"absolute",className:F.thumbnailContainer,style:{position:"absolute",left:"".concat(J,"%"),opacity:+!!j},children:(0,i.tZ)(z,{setIsHovering:U,showTooltip:L,size:null!=b?b:"md",storyboard:en,videoTime:eu,children:"sm"!==b&&(0,i.tZ)(R,{onShareMenuOpen:()=>{S(!1),null==A||A(),(0,h.j)(h.FP.POST_SHARE_BUTTON_CLICKED,{position:"video_timeline",post_id:null==C?void 0:C.id})},onShareMenuClose:()=>{S(!0),N(null),null==_||_()},timestamp:M,pub:w,post:C,size:b,trigger:(0,i.tZ)(m.gq,{children:L&&(0,i.BX)(m.gq,{cursor:"pointer",gap:8,flex:"grow",paddingY:4,onClick:()=>{var e,t,n,i;(null===(t=a.current)||void 0===t?void 0:null===(e=t.player)||void 0===e?void 0:e.paused)||null===(i=a.current)||void 0===i||null===(n=i.player)||void 0===n||n.pause(),N(eu)},justifyContent:"center",children:[(0,i.tZ)(d.Z,{color:"white",size:20}),(0,i.BX)(g.xv.B4,{color:"white",weight:"semibold",children:[x("Share from "),(0,f.mr)(eu)]})]})})})})})]})}},91189:function(e,t,n){n.d(t,{Z:()=>c});var i=n(16584),r=n(56687),a=n(95441),o=n(84370),l=n(87077),s=n(74571),d=n(63722);let c=e=>{let{isFocused:t,disabled:n,disableShortcuts:c,disableTooltips:u=!1,onToggleShowTranscript:p}=e,{iString:h}=(0,a.M1)();return(0,s.Kr)("t",p,t&&!c),(0,i.tZ)(l.u,{disabled:u,text:h("Transcripts"),trailing:c?void 0:(0,i.tZ)(o.T,{children:"T"}),children:(0,i.tZ)(d.Z,{onClick:p,disabled:n,children:(0,i.tZ)(r.Z,{size:18})})})}},76820:function(e,t,n){n.d(t,{Jl:()=>C,PJ:()=>f,Qz:()=>g,YQ:()=>v});var i=n(7409),r=n(16584),a=n(30396),o=n(12281),l=n(60807),s=n(27625),d=n(98422),c=n(71068),u=n(19081),p=n(75822),h=n(18618),m=n(95738);function g(e,t){let[n,i]=(0,a.eJ)(null);return(0,a.d4)(()=>{let n=new ResizeObserver(e=>{if(!e||0===e.length)return;let n=e[0];if(n&&n.target){let{width:e}=n.contentRect;t?i(Math.min(e,t)):i(e)}}),r=e.current;return r&&n.observe(r),()=>{n.disconnect()}},[e]),n}let v=295,f=520;function C(e){let{mediaUpload:t,composing:n,maxWidth:C,videoPlayerProps:Z,tag:b}=e,y=(0,l.Fl)().autoPlayVideo,{isMobile:k}=(0,d.v9)(),A=(0,a.sO)(null),_=(0,a.sO)(null),x=g(_,C);(0,p.KS)({videoPlayerRef:A,showPaywall:!1,disable:!1});let{isHidden:E,onShow:I}=(0,s.Sl)(!!t.explicit),B=null;null!==t.width&&null!==t.height&&(B=t.width/t.height);let T={};if(k){let e=null!=x?x:v;T=B?B>1?{width:"".concat(e,"px"),height:"".concat(e/B,"px")}:{height:"".concat(400,"px"),width:"".concat(400*B,"px")}:{}}else if(B){let e=null!=x?x:f;T=B?B>1?{width:"".concat(e,"px"),height:"".concat(e/B,"px")}:{height:"".concat(400,"px"),width:"".concat(400*B,"px")}:{}}return(0,r.tZ)(u.tu,{ref:_,children:(0,r.BX)(u.tu,{style:T,radius:"md",overflow:"hidden",position:"relative",className:m.Z.videoPlayerContainer,children:[(0,r.tZ)(o.Z,(0,i._)({ref:A,mediaUpload:t,startMuted:y,autoPlay:y&&n,renderPlayButton:()=>(0,r.tZ)(h.fI,{isPlaying:!1,size:k?40:56}),pub:null,videoPlayerClassName:m.Z.videoPlayer,videoClassName:m.Z.video,omitBackgroundColor:!0,stopPropagation:!0,noKeyboardShortcuts:!0},Z)),!n&&E&&(0,r.tZ)(s.cD,{radius:"md",onShow:I,itemName:"video"}),(0,r.tZ)(c.xu,{position:"absolute",inset:0,radius:"md",outline:"detail",pointerEvents:"none"}),b&&(0,r.tZ)(w,{children:b})]})})}let w=(0,c.zo)({display:"flex",padding:8,position:"absolute",alignItems:"start",justifyContent:"start"})},38927:function(e,t,n){n.d(t,{t:()=>i});let i=["listItem","codeBlock","heading","paragraph"]},71106:function(e,t,n){n.d(t,{A:()=>d});var i=n(60826),r=n(19834),a=n(60308),o=n(63651),l=n(84864),s=n(47929);function d(e,t){var n,d;let{pub:c,post:u,user:p}=t,h=e=>RegExp(e,"g"),m=e;return u&&p&&(m=m.replace(h(i.W.COMMENTS_URL),(0,a.tk4)(c,u)).replace(h(i.W.HALF_MAGIC_COMMENTS_URL),(0,a.tk4)(c,u))),m.replace(h(i.W.CHECKOUT_URL),(0,l.escapeNewlines)((0,a.Zs0)(c))).replace(h(i.W.FOUNDING_CHECKOUT_URL),(0,l.escapeNewlines)((0,a.pqm)(c))).replace(h(i.W.ACCOUNT_URL),(0,l.escapeNewlines)((0,o.mGw)(c,{addBase:!0}))).replace(h(i.W.ARCHIVE_URL),(0,l.escapeNewlines)((0,a.nxG)(c,{addBase:!0,params:null}))).replace(h(i.W.PUBLICATION_NAME),(0,l.escapeNewlines)((0,r.Z)(c.name||""))).replace(h(i.W.PUBLICATION_HERO_TEXT),(0,l.escapeNewlines)((0,r.Z)(c.hero_text||""))).replace(h(i.W.AUTHOR_NAME),(0,l.escapeNewlines)((0,r.Z)(c.author_name||""))).replace(h(i.W.AUTHOR_FIRST_NAME),(0,l.escapeNewlines)((0,r.Z)((0,l.guessFirstName)(c.author_name)||""))).replace(h(i.W.AUTHOR_BIO),(0,l.escapeNewlines)((0,r.Z)(c.author_bio||""))).replace(h(i.W.SHARE_URL),"").replace(h(i.W.SHARE_PUB_URL),(0,a.a_F)(c)).replace(h(i.W.PODCAST_SETUP_URL),(0,a.tS3)(c,{addBase:!0,noSection:!0,params:null,section:null,user:null,startAtSubscribeFlow:!1})).replace(h(i.W.PERSONAL_PODCAST_SETUP_URL),(0,a.tS3)(c,{addBase:!0,noSection:!0,params:null,section:null,user:null,startAtSubscribeFlow:!1})).replace(h(i.W.ALL_PODCASTS_SETUP_URL),(0,a.Tk$)(c,{startAtSubscribeFlow:!0,utm_source:s.b3.allPodcastsSetupButton})).replace(h(i.W.HOME_LINK),(0,o.SVA)(c)).replace(h(i.W.THREAD_URL),(0,o.ZVW)({pubKey:c.subdomain})).replace(h(i.W.CHAT_URL),(0,o.ZVW)({pubKey:c.subdomain})).replace(h(i.W.PREACT_COMPAT_HTML_COMMENT_OPEN),"\x3c!--").replace(h(i.W.PREACT_COMPAT_HTML_COMMENT_CLOSE),"--\x3e").replace(h(i.W.DASHBOARD_URL),(0,o.QK7)(c,{addBase:!0})).replace(h(i.W.AUTHOR_PHOTO_URL),c.author_photo_url||"").replace(h(i.W.MEETINGS_URL),(0,o.szv)(c,{addBase:!0})||"").replace(h(i.W.PUBLICATION_URL),(0,o.SVA)(c)).replace(h(i.W.LEADERBOARD_URL),(0,o.j8T)(c,void 0,{addBase:!0})).replace(h(i.W.ACTIVITY_PAGE_URL),"".concat((0,o.ZJn)(),"/activity")).replace(h(i.W.FOLLOW_PROFILE_URL),p?(0,o.NNq)(p,{utm_source:s.b3.email,extraParams:{r:null!==(n=(0,l.userReferralKey)(p))&&void 0!==n?n:"",followPrompt:!0}}):(0,o.n1t)((0,o.ZJn)(),{utm_source:s.b3.email,followPrompt:!0})).replace(h(i.W.FOLLOW_POST_URL),p?(0,o.uRy)(c,u,{urlParams:{utm_source:s.b3.email,r:null!==(d=(0,l.userReferralKey)(p))&&void 0!==d?d:"",followPrompt:!0}}):(0,o.n1t)((0,o.ZJn)(),{utm_source:s.b3.email,followPrompt:!0}))}},23854:function(e,t,n){n.d(t,{bP:()=>a,sC:()=>r});var i,r=((i={}).Removed="removed",i.Unavailable="unavailable",i.BlockedYou="blocked-you",i.YouBlocked="you-blocked",i.YouMuted="you-muted",i);function a(e){return"missing"===e.type}},99605:function(e,t,n){n.d(t,{$:()=>i});let i={content:"block+",group:"block",defining:!0,parseDOM:[{tag:"div[data-callout]",priority:100},{tag:"div.callout-block",priority:99}],toDOM:()=>["div",{class:"callout-block","data-callout":"true"},0],toDOMStatic:()=>["div",{class:"callout-block","data-callout":"true"},0]}},94826:function(e,t,n){n.d(t,{I:()=>l,P:()=>o});var i=n(92007),r=n(68303),a=n(80870);function o(e){let{paragraph:t,ordered_list:n,bullet_list:i,blockquote:a,orderedList:o,bulletList:l}=e.schema.nodes;return(0,r.$9)(e,[t,n,i,a,o,l])}function l(e,t){if(!o(e))return!1;let{schema:n}=e,r=n.nodes.footnote.create({number:1},n.nodes.paragraph.create()),l=n.nodes.footnoteAnchor.create({number:1}),s=e.tr,d=(0,a.dG)(s,n);s.replaceWith(d,d,r),s.replaceSelectionWith(l),(0,a.A0)(s,n);try{s.setSelection(i.Bs.create(s.doc,d+2,d+2)).scrollIntoView()}catch(e){return console.error("could not set footnote text selection"),!1}return t&&t(s),!0}},59383:function(e,t,n){n.d(t,{M:()=>o});var i=n(88897),r=n(68303);let a=e=>{let{label:t,mediaUploadId:n,duration:i}=e;return(e,a)=>(a&&a((0,r.o4)(e,e.schema.nodes.audio.create({label:t,mediaUploadId:n,duration:i,isEditorNode:!0}))),!0)},o=i.hj.create({name:"audioInsert",addCommands:()=>({insertAudio:e=>{let{label:t,mediaUploadId:n,duration:i}=e;return e=>{let{state:r,dispatch:o}=e;return a({label:t,mediaUploadId:n,duration:i})(r,o)}}})})},5660:function(e,t,n){n.d(t,{z:()=>d});var i=n(88897),r=n(86551),a=n(63651),o=n(47929),l=n(68303),s=n(39947);let d=i.hj.create({name:"buttonCustom",addCommands:()=>({insertSubscribeButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.tX)(e)(n,i)},insertSubscribeButtonWithPreamble:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.Ui)(e)(n,i)},insertCaptionedShareButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.T6)(e)(n,i)},insertSpecialOfferButton:e=>{let{couponPub:t,scrollParent:n,parentClass:i,get_coupons:a,insert_coupon:o,SelectField:l,openPrompt:s,closePrompt:d,getNetworkErrorMessage:c}=e;return e=>{let{state:u,dispatch:p,view:h}=e;return(0,r.pw)({couponPub:t,scrollParent:n,parentClass:i,get_coupons:a,insert_coupon:o,SelectField:l,openPrompt:s,closePrompt:d,getNetworkErrorMessage:c})(u,p,h)}},insertGroupSubscriptionButton:e=>{let{publication:t}=e;return e=>{let{state:n,dispatch:i}=e;return(0,r.Fp)({publication:t})(n,i)}},insertDonateButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.U0)(e)(n,i)},insertReferralButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.Lb)(e)(n,i)},insertCaptionedWriterReferralButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.HQ)({writerReferralCode:e.writerReferralCode,publication:e.publication,postId:e.postId})(n,i)},insertGiftButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.aZ)(e)(n,i)},insertCommentsButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.sj)(e)(n,i)},insertSurveyButton:(e,t,n)=>i=>{let{state:a,dispatch:o}=i;return(0,r.F2)(e,t,n)(a,o)},insertSharePubButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.S_)(e)(n,i)},insertSharePostButton:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.BN)(e)(n,i)},insertCustomButton:e=>{let{scrollParent:t,parentClass:n,TextField:i,openPrompt:a,publication:o}=e;return e=>{let{state:l,dispatch:s,view:d}=e;return(0,r.op)({scrollParent:t,parentClass:n,TextField:i,openPrompt:a,publication:o})(l,s,d)}},insertVisitThreadButton:e=>t=>{let{state:n,dispatch:i}=t;return((t,n)=>{if(!t.schema.nodes.communityChat)return console.error("insertCommunityChatEmbed: schema is missing communityChat node"),!1;if(!(0,s.o)(t,t.schema.nodes.communityChat))return!1;if(n){var i,r;n((0,l.o4)(t,t.schema.nodes.communityChat.create({url:(0,a.ZVW)({pubKey:e.subdomain,utm_source:o.b3.chatEmbed}),subdomain:e.subdomain,pub:{id:e.id,name:e.name,author_name:null!==(i=e.primary_profile_name)&&void 0!==i?i:e.author_name,author_photo_url:null!==(r=e.primary_profile_photo_url)&&void 0!==r?r:e.author_photo_url}})))}return!0})(n,i)}})})},98616:function(e,t,n){n.d(t,{l:()=>l});var i=n(88897),r=n(60308),a=n(68303);let o=e=>(t,n)=>{let i=(0,r.SVA)(e);return n&&n((0,a.o4)(t,t.schema.nodes.install_substack_app.create({logo_url:e.logo_url||"".concat(i,"/img/substack.png"),author_name:e.author_name,publication_subdomain:e.subdomain,publication_name:e.name,language:e.language}))),!0},l=i.hj.create({name:"embedContentCustom",addCommands:()=>({insertInstallSubstackAppEmbed:e=>t=>{let{state:n,dispatch:i}=t;return o(e)(n,i)}})})},82708:function(e,t,n){n.d(t,{k:()=>h});var i=n(88897),r=n(92007),a=n(14017),o=n(98914);let l=e=>{e.preventDefault()},s=(e,t,n)=>{let i=e.dom;if(i){let e=i.querySelector('[data-attrs*=\'{"nodeId":"'.concat(t,"\"']"));e&&(n?e.addEventListener("dragstart",l):e.removeEventListener("dragstart",l))}},d=(e,t)=>(n,i,r)=>{if(i){let a,o;if(n.doc.descendants((t,n)=>{if(t.attrs.nodeId===e.nodeId)return a=t,o=n,!1}),a&&void 0!==o){let l=n.tr;l.setNodeMarkup(o,a.type,Object.assign({},a.attrs,e)),s(r,e.nodeId,t),i(l)}}return!0},c=e=>{let{url:t}=e;return(e,n)=>{if(n){let i=e.tr,a=e.selection.from,o=a+t.length;i.deleteSelection(),i.insertText(t,a),i.addMark(a,o+1,e.schema.marks.link.create({text:t,href:t})),i.setSelection(r.Bs.create(i.doc,a,o+1)),n(i)}return!0}},u=e=>{let{url:t}=e;return(e,n,i)=>{if(n){let[,r]=(0,a.WB)(t,e.schema,{forceAllowOwnPub:!0});if(!r)return!0;(0,a.rN)(r,i,e.schema,{forceAllowOwnPub:!0}).catch(e=>alert((0,o.zx)(e))),n(e.tr.replaceSelectionWith(r))}return!0}},p=()=>(e,t)=>(t&&t(e.tr.deleteSelection()),!0),h=i.hj.create({name:"digestPostEmbedExtension",addCommands:()=>({updateDigestPostEmbed:(e,t)=>n=>{let{state:i,dispatch:r,view:a}=n;return d(e,!!t)(i,r,a)},convertDigestPostEmbedToLink:e=>t=>{let{state:n,dispatch:i}=t;return c(e)(n,i)},convertDigestPostEmbedToEmbeddedPost:e=>t=>{let{state:n,dispatch:i,view:r}=t;return u(e)(n,i,r)},deleteDigestPostEmbed:()=>e=>{let{state:t,dispatch:n}=e;return p()(t,n)}})})},73984:function(e,t,n){n.d(t,{w:()=>a});var i=n(88897),r=n(94826);let a=i.hj.create({name:"footnoteCustom",addCommands:()=>({insertFootnote:()=>e=>{let{state:t,dispatch:n}=e;return(0,r.I)(t,n)}})})},11105:function(e,t,n){n.d(t,{y:()=>p});var i=n(88897),r=n(11239),a=n(44369),o=n(68303);let l=e=>{let{gallery:t}=e;return(e,n)=>(n&&n((0,o.o4)(e,e.schema.nodes.imageGallery.create({gallery:t,isEditorNode:!0}))),!0)},s=e=>{let{gallery:t}=e;return(e,n)=>(n&&n((0,o.Hs)(e,e.schema.nodes.imageGallery.create({gallery:t,isEditorNode:!0}))),!0)},d=e=>{let{url:t,caption:n,width:i,height:r}=e;return(e,a)=>{if(!a)return!1;let l=e.schema;if(!l.nodes.image2||!l.nodes.captionedImage||!l.nodes.caption)return!1;let s=l.nodes.image2.create({src:t,imageSize:"normal",height:null!=r?r:512,width:null!=i?i:512});if(n){let t=l.nodes.caption.create(null,l.text(n)),i=l.nodes.captionedImage.create({},[s,t]);a((0,o.o4)(e,i))}else a((0,o.o4)(e,s));return!0}},c=e=>{let{url:t,width:n,height:i}=e;return(e,r)=>{let a=e.schema,l={alt:"TradingView chart",src:t,height:i,width:n,type:"image/jpg"};if(!a.nodes.image2||!a.nodes.captionedImage||!a.nodes.caption||!a.marks.link)return!1;let s=a.text("Created with "),d=a.text("TradingView",[a.marks.link.create({title:"TradingView",href:"https://tradingview.com"})]),c=a.nodes.captionedImage.create(l,[a.nodes.image2.create(l),a.nodes.caption.create(null,[s,d])]);return r&&r((0,o.o4)(e,c)),!0}},u=e=>{let{url:t,width:n,height:i,description:r,userName:a,userHref:l}=e;return(e,s)=>{let d=e.schema,c={alt:r,src:t,height:i,width:n,type:"image/jpg"},u=d.text("Photo by "),p=d.text(a,[d.marks.link.create({title:a,href:l})]),h=d.text(" on "),m=d.text("Unsplash",[d.marks.link.create({title:"Unsplash",href:"https://unsplash.com"})]),g=d.nodes.captionedImage.create(c,[d.nodes.image2.create(c),d.nodes.caption.create(null,[u,p,h,m])]);return s&&s((0,o.o4)(e,g)),!0}},p=i.hj.create({name:"imageInsert",addCommands:()=>({insertImage:e=>t=>{let{state:n,dispatch:i,view:o}=t;return n.schema.nodes.image2?(i&&(function(e,t){let{insertImageFile:n}=t,i=document.createElement("input");return i.type="file",i.accept="image/*,.heic,.heif",i.style.cssText="display:none;",i.onchange=()=>{i.files&&i.files.length>0&&i.files[0]&&n(i.files[0]),i.value=""},i.className="insert-image-menu-item-input",document.body.appendChild(i),new a.$4({title:"Insert image",icon:r.aL,active:()=>!1,enable:t=>(0,a.om)(t,e),run(){setTimeout(()=>{i.click()},0)}},"image")})(n.schema.nodes.image2,{insertImageFile:e}).spec.run(n,i,o,void 0),!0):(console.error("image2 node not enabled"),!1)},insertUnsplashImage:e=>t=>{let{state:n,dispatch:i}=t;return u(e)(n,i)},insertImageGallery:e=>t=>{let{state:n,dispatch:i}=t;return l(e)(n,i)},updateImageGallery:e=>t=>{let{state:n,dispatch:i}=t;return s(e)(n,i)},insertImageFromUrl:e=>{let{url:t,caption:n,width:i,height:r}=e;return e=>{let{state:a,dispatch:o}=e;return d({url:t,caption:n,width:i,height:r})(a,o)}},insertTradingViewImageFromUrl:e=>{let{url:t,width:n,height:i}=e;return e=>{let{state:r,dispatch:a}=e;return c({url:t,width:n,height:i})(r,a)}}})})},10218:function(e,t,n){n.d(t,{_:()=>l});var i=n(88897),r=n(41128),a=n(68303);let o=e=>{let{expression:t}=e;return(e,n)=>{let i=(0,r.Ox)();return n&&n((0,a.o4)(e,e.schema.nodes.latex_block.create({persistentExpression:t,id:i}))),!0}},l=i.hj.create({name:"latexInsert",addCommands:()=>({insertLatex:e=>{let{expression:t}=e;return e=>{let{state:n,dispatch:i}=e;return o({expression:t})(n,i)}}})})},81519:function(e,t,n){n.d(t,{r:()=>s});var i=n(88897),r=n(60308),a=n(63651),o=n(68303);let l=e=>{let{publication:t,meetingsConfig:n,usePublicationName:i}=e;return(e,l)=>{let s=(0,r.SMH)({id:n.user_id,photo_url:n.user_profile_photo_url});return i&&t.logo_url&&(s=(0,a.zF4)(t.logo_url,112)),l&&l((0,o.o4)(e,e.schema.nodes.meeting.create({name:i?t.name:n.user_name,avatarUrl:s,url:(0,a.szv)(t,{addBase:!0,params:{source:"embed"}}),isEditorNode:!0}))),!0}},s=i.hj.create({name:"meetingInsert",addCommands:()=>({insertMeeting:e=>{let{publication:t,meetingsConfig:n,usePublicationName:i}=e;return e=>{let{state:r,dispatch:a}=e;return l({publication:t,meetingsConfig:n,usePublicationName:i})(r,a)}}})})},59662:function(e,t,n){n.d(t,{f:()=>a});var i=n(88897),r=n(57208);let a=i.hj.create({name:"paywallCustom",addCommands:()=>({addPaywall:e=>t=>{let{state:n,dispatch:i}=t;return(0,r.f2)(e)(n,i)}})})},60511:function(e,t,n){n.d(t,{q:()=>o});var i=n(88897),r=n(68303);let a=e=>{let{url:t}=e;return(e,n)=>{if(n){if(!e.schema.nodes.pinterest)return console.error("pinterest node not defined"),!1;n((0,r.o4)(e,e.schema.nodes.pinterest.create({url:t})))}return!0}},o=i.hj.create({name:"pinterestInsert",addCommands:()=>({insertPinterest:e=>{let{url:t}=e;return e=>{let{state:n,dispatch:i}=e;return a({url:t})(n,i)}}})})},75837:function(e,t,n){n.d(t,{q:()=>o});var i=n(88897),r=n(68303);let a=e=>{let{id:t}=e;return(e,n)=>(n&&n((0,r.o4)(e,e.schema.nodes.poll.create({id:t}))),!0)},o=i.hj.create({name:"pollInsert",addCommands:()=>({insertPoll:e=>{let{id:t}=e;return e=>{let{state:n,dispatch:i}=e;return a({id:t})(n,i)}}})})},29961:function(e,t,n){n.d(t,{R:()=>o});var i=n(88897),r=n(68303);let a=e=>{let{id:t}=e;return(e,n)=>(n&&n((0,r.o4)(e,e.schema.nodes.recipe.create({id:t}))),!0)},o=i.hj.create({name:"recipeInsert",addCommands:()=>({insertRecipe:e=>{let{id:t}=e;return e=>{let{state:n,dispatch:i}=e;return a({id:t})(n,i)}}})})},80334:function(e,t,n){n.d(t,{a:()=>o});var i=n(88897),r=n(68303);let a=e=>{let{id:t}=e;return(e,n)=>{var i,a;return n&&(null==e?void 0:null===(a=e.schema)||void 0===a?void 0:null===(i=a.nodes)||void 0===i?void 0:i.sponsorshipCampaign)&&n((0,r.o4)(e,e.schema.nodes.sponsorshipCampaign.create({id:t}))),!0}},o=i.hj.create({name:"sponsorshipCampaignInsert",addCommands:()=>({insertSponsorshipCampaign:e=>{let{id:t}=e;return e=>{let{state:n,dispatch:i}=e;return a({id:t})(n,i)}}})})},75970:function(e,t,n){n.d(t,{f:()=>o});var i=n(88897),r=n(68303);let a=e=>{let{mediaUploadId:t}=e;return(e,n)=>(n&&n((0,r.o4)(e,e.schema.nodes.video.create({mediaUploadId:t,isEditorNode:!0}))),!0)},o=i.hj.create({name:"videoInsert",addCommands:()=>({insertVideo:e=>{let{mediaUploadId:t}=e;return e=>{let{state:n,dispatch:i}=e;return a({mediaUploadId:t})(n,i)}}})})},64314:function(e,t,n){n.d(t,{N:()=>i});let i='!function(){"use strict";window.addEventListener("message",(function(e){if(void 0!==e.data["datawrapper-height"]){var t=document.querySelectorAll("iframe");for(var a in e.data["datawrapper-height"])for(var r=0;r<t.length;r++){if(t[r].contentWindow===e.source)t[r].style.height=e.data["datawrapper-height"][a]+"px"}}}))}();'},57125:function(e,t,n){n.d(t,{Op:()=>a});var i=n(78718),r=n.n(i);let a=e=>{let{attrs:t}=e,n={};for(let[e,i]of Object.entries(t))n[e]=r()(i,["default"]);return n}},99741:function(e,t,n){n.d(t,{$:()=>r,b:()=>a});var i=n(27412);let r={attrs:{},inline:!1,group:"block",atom:!0,selectable:!0,isolating:!1,defining:!1,draggable:!0,parseDOM:[{tag:".paywall-jump"}],toDOM:()=>["div",{class:"paywall-jump","data-component-name":"PaywallToDOM"}]};class a{constructor(){var e,t,n;(0,i._)(this,"dom",void 0);let r="undefined"!=typeof window&&null!==(n=null===(t=window._preloads)||void 0===t?void 0:null===(e=t.pub)||void 0===e?void 0:e.language)&&void 0!==n?n:"en",{iString:a}=I18N.i(r),o=document.createElement("div");o.className="paywall-editor",o.appendChild(document.createElement("hr"));let l=document.createElement("div");l.className="paywall-editor-pill";let s=document.createElement("span");s.innerText=a("Paid content below this line");let d=document.createElement("div");d.className="paywall-editor-pill-icon-container",d.innerHTML='\n<svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M8.75439 4.33398V14.834" stroke="#666666" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n<path d="M3.50439 9.58398L8.7544 14.834L14.0044 9.58398" stroke="#666666" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>\n</svg>\n',l.appendChild(s),l.appendChild(d),o.appendChild(l),o.appendChild(document.createElement("hr")),this.dom=o}}},3185:function(e,t,n){n.d(t,{Z:()=>a});var i=n(80508),r=n(54809);let a=new i.ZP({actionButtonAttr:"raw_href",substackType:"pdf",mimeTypesToSignature:r.Lz,actionButtonText:"Download"})},19520:function(e,t,n){n.d(t,{s:()=>r});var i=n(68833);function r(e){let{msg:t,node:n,err:r,group:o}=e;(0,i.j)(i.FP.EDITOR_NODE_RENDER_FAILED,{nodeType:n.type.name,nodeAttrs:n.attrs,errMsg:null==r?void 0:r.message});let l=null!=t?t:"Something went wrong";return"block"===o?function(e){let{msg:t}=e,n=document.createElement("div");n.className="blockContainer-sGUymL";let i=document.createElement("div");i.textContent=t,i.className="blockTitle-p5J1JM";let r=document.createElement("div");r.textContent="Try refreshing the page or try again later.",r.className="blockSubTitle-b49Pjc";let o=document.createElement("div");return o.className="blockTitleContainer-_ayaxc",o.appendChild(i),o.appendChild(r),n.appendChild(a({size:24})),n.appendChild(o),n}({msg:l}):function(e){let{msg:t}=e,n=document.createElement("span");n.className="inlineContainer-pdOZS_";let i=document.createElement("span");return i.className="inlineText-mmZJjI",i.textContent=t,n.appendChild(a({size:10})),n.appendChild(i),n}({msg:l})}function a(e){let{size:t}=e,n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg");i.setAttribute("width","".concat(t)),i.setAttribute("height","".concat(t)),i.setAttribute("viewBox","0 0 24 24"),i.setAttribute("fill","none"),i.setAttribute("stroke","#363737"),i.setAttribute("stroke-width","2"),i.setAttribute("stroke-linecap","round"),i.setAttribute("stroke-linejoin","round");let r=document.createElementNS(n,"circle");r.setAttribute("d","M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z"),r.setAttribute("cx","12"),r.setAttribute("cy","12"),r.setAttribute("r","10");let a=document.createElementNS(n,"line");a.setAttribute("x1","12"),a.setAttribute("x2","12"),a.setAttribute("y1","8"),a.setAttribute("y2","12");let o=document.createElementNS(n,"line");return o.setAttribute("x1","12"),o.setAttribute("x2","12.01"),o.setAttribute("y1","16"),o.setAttribute("y2","16"),i.appendChild(r),i.appendChild(a),i.appendChild(o),i}},15233:function(e,t,n){n.d(t,{L:()=>r});var i=n(60308);let r=function(e,t,n,r){let{targetUrl:a}=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=["td",{class:"audio-details","data-component-name":"AudioEmbedStatic"},["p",{class:"title"},t],["p",{class:"subtitle"},n]];r&&(o=[...o,["p",{class:"metadata"},r]]);let l=["table",{class:"audio-embed-static",cellspacing:"12","data-component-name":"AudioEmbedStaticTable"},["tr",{},["td",{class:"thumbnail-container"},["div",{class:"play-container"},["img",{class:"play",src:(0,i.zF4)("/img/thumbnail-play.png",72),height:36,width:36}]],["img",{class:"thumbnail",src:(0,i.zF4)(e,160),height:80,width:80}]],o]];return a?["a",{class:"audio-embed-static-outer",href:a,target:"_blank","data-component-name":"AudioEmbedStaticLink"},l]:l}},62645:function(e,t,n){n.d(t,{J:()=>i});let i={parseDOM:[{tag:"del"},{tag:"s"}],toDOM:()=>["s",0]}},42034:function(e,t,n){n.d(t,{l:()=>i});let i={parseDOM:[{tag:"sub"}],toDOM:()=>["sub",0]}},41505:function(e,t,n){n.d(t,{O:()=>i});let i={parseDOM:[{tag:"sup"}],toDOM:()=>["sup",0]}},39947:function(e,t,n){n.d(t,{o:()=>i});let i=(e,t)=>{if(!t)return!1;let n=e.selection.$from;for(let e=n.depth;e>=0;e--){let i=n.index(e);if(n.node(e).canReplaceWith(i,i,t))return!0}return!1}},30548:function(e,t,n){n.d(t,{S:()=>a});var i=n(88897);let r=e=>{let{attrs:t}=e,n={};if(!t)return n;for(let[e,r]of Object.entries(t)){var i;n[e]={default:null!==(i=r.default)&&void 0!==i?i:null,keepOnSplit:!1}}return n},a=e=>{let{name:t,nodeSpec:n,addNodeView:a,addCommands:o}=e;return i.NB.create({name:t,content:n.content,marks:n.marks,group:n.group,inline:n.inline,atom:n.atom,selectable:n.selectable,draggable:n.draggable,code:n.code,whitespace:n.whitespace,defining:n.defining,isolating:n.isolating,addNodeView:a,addCommands:o,renderHTML(e){return this.options.isStatic&&n.toDOMStatic?n.toDOMStatic(e.node):n.toDOM(e.node)},parseHTML:()=>n.parseDOM,addAttributes:()=>r({attrs:n.attrs})})}},88956:function(e,t,n){n.d(t,{Y:()=>function e(t,n){if(!t||((0,i.f5)(t)||(0,i.PH)(t))&&!n(t))return null;if((0,i.f5)(t)&&t.content&&t.content.length>0){if(t.content=t.content.filter(t=>e(t,n)),0===t.content.length)return null}else if((0,i.PH)(t)){let r=(0,i.yX)({fragment:t.content});if(r.length>0){let a=r.filter(t=>e(t,n));if(0===a.length)return null;(0,i.uR)({fragment:t.content,content:a})}}return t}});var i=n(62092)},22365:function(e,t,n){n.d(t,{e:()=>a});var i=n(88897),r=n(76405);let a=e=>{let{doc:t,extensions:n,customDocument:a}=e,o=(0,i.J1)(n),l=r.NB.fromJSON(o,t),s=document.createElement("div");return r.PW.fromSchema(o).serializeFragment(l.content,{document:a},s),s.innerHTML}},30837:function(e,t,n){n.d(t,{Y:()=>i});let i=e=>{try{if("string"!=typeof e){let t=e.getAttribute("data-attrs");if(t)return JSON.parse(t)}}catch(e){}return!1}},12076:function(e,t,n){n.d(t,{Z:()=>a});var i=n(80508),r=n(54809);let a=new i.ZP({actionButtonAttr:null,substackType:"xlsx",mimeTypesToSignature:r.Z$,actionButtonText:null})},18925:function(){},81481:function(){},21361:function(){},53480:function(){},31337:function(){},17879:function(){},31384:function(){},24877:function(){}}]);