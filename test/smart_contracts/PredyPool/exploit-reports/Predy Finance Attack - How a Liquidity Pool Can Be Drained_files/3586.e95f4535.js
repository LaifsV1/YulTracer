"use strict";(self.webpackChunksubstack=self.webpackChunksubstack||[]).push([["3586"],{21811:function(e,i,n){n.d(i,{l:()=>o});var u=n(7409);let r={};function o(){return(0,u._)({},r)}},47102:function(e,i,n){n(55229),n(8090),n(96708),n(60308),n(84864)},73943:function(e,i,n){n.d(i,{us:()=>o,vn:()=>u});let u={test1:"SubstackInc",badnews:"ryangrim",dmortberg:"danielortberg",offthechain:"APompliano",on:"SubstackInc",petition:"petition",popularinformation:"JuddLegum",shane:"shanesnow",signalproblems:"A_W_Gordon",sinocism:"niubi",taibbi:"mtaibbi",thefirstand15th:"tressiemcphd",thenewsletter:"jbouie",numlock:"WaltHickey"};var r,o=((r={}).comments_disabled="comments_disabled",r.free_subscription_required="free_subscription_required",r.paid_subscription_required="paid_subscription_required",r.founding_subscription_required="founding_subscription_required",r)},6070:function(e,i,n){function u(e){let{pub:i}=e;return!!i&&[260347,3116199].includes(i.id)}n.d(i,{HD:()=>u}),n(39693)},31377:function(e,i,n){n.r(i),n.d(i,{getAllAudiences:()=>c,getAudiencesForPublicListing:()=>_,getCommentAuthor:()=>q,getCoverImageUrl:()=>T,getDurationForPostPreview:()=>U,getFoundingAudiences:()=>b,getFreePodcastUrl:()=>S,getPaidAudiences:()=>f,getPostAuthor:()=>H,getPreamble:()=>C,isFoundingAudience:()=>p,isPaidAudience:()=>v,isSubscriptionLevel:()=>m,previewSubHasFullAccessToPost:()=>k,pubRoleHasFullAccessToPost:()=>w,pubRolesHaveFullAccessToPost:()=>F,subHasFullAccessToPost:()=>y,subHasFullAccessToPostAudience:()=>A,userHasFullAccessToPost:()=>h});var u=n(7409),r=n(98848),o=n(84864);let t=["founding","only_paid","everyone","only_free"],l=["founding","only_paid","everyone"],d=["founding","only_paid"],s=["founding"],a=["free","paid","founding"];function c(){return[...t]}function _(){return[...l]}function f(){return[...d]}function b(){return[...s]}function v(e){return f().includes(e)}function p(e){return b().includes(e)}function m(e){return a.map(String).includes(e)}function g(e){switch(e){case"founding":return["founding"];case"only_paid":return["paid","founding"];case"only_free":return["free"];case"everyone":return["free","paid","founding"];default:throw Error("Unknown audience: ".concat(e))}}function h(e,i){if(!i)return!1;if(!i.audience)throw Error("Post has no audience");if(e&&e.is_contributor&&e.subscription_publication_id===i.publication_id)return!0;let n=function(e,i){if(!i||(null==e?void 0:e.subscription_publication_id)===i){if((null==e?void 0:e.is_founding)||(null==e?void 0:e.is_contributor))return"founding";if(null==e?void 0:e.is_subscribed)return"paid"}return"free"}(e,i.publication_id);return g(i.audience).includes(n)}function P(e,i){if(!i||(null==e?void 0:e.publication_id)===i){if((null==e?void 0:e.membership_state)==="subscribed"&&(null==e?void 0:e.is_founding))return"founding";if((null==e?void 0:e.membership_state)==="subscribed")return"paid"}return"free"}function y(e,i){if(!i)return!1;if(!i.audience)throw Error("Post has no audience");let n=P(e,i.publication_id);return g(i.audience).includes(n)}function A(e,i){let n=P(e);return g(i).includes(n)}function w(e,i){if(!i)return!1;if(!i.audience)throw Error("Post has no audience");let n=(null==e?void 0:e.role)==="admin"||(null==e?void 0:e.role)==="contributor"||(null==e?void 0:e.membership_state)==="subscribed"&&(null==e?void 0:e.is_founding)?"founding":(null==e?void 0:e.membership_state)==="subscribed"?"paid":"free";return g(i.audience).includes(n)}function F(e,i){return!!(i&&w(null==e?void 0:e[i.publication_id],i))}function k(e,i,n){let{audienceOverride:u}=n;if(!i)return!1;if(!i.audience&&!u)throw Error("Post has no audience");return g(null!=u?u:i.audience).includes(e)}function H(e,i){var n;let o=null==i?void 0:null===(n=i.publishedBylines)||void 0===n?void 0:n[0];if(o)return o;let t=e.contributors.find(e=>e.owner);if(t){let{user_id:e}=t,i=(0,r._)(t,["user_id"]);return(0,u._)({id:e},i)}let l=e.contributors.find(e=>["admin","contributor"].includes(e.role));if(l){let{user_id:e}=l,i=(0,r._)(l,["user_id"]);return(0,u._)({id:e},i)}return{id:e.author_id,name:e.author_name,photo_url:e.author_photo_url,bio:e.author_bio}}function q(e){var i,n,u,r,o,t,l,d,s,a,c,_,f,b,v;return{id:null!==(d=null!==(l=null===(i=e.user)||void 0===i?void 0:i.id)&&void 0!==l?l:e.user_id)&&void 0!==d?d:-1,name:null!==(a=null!==(s=null===(n=e.user)||void 0===n?void 0:n.name)&&void 0!==s?s:e.name)&&void 0!==a?a:"",handle:null!==(c=null===(u=e.user)||void 0===u?void 0:u.handle)&&void 0!==c?c:e.handle,photo_url:null!==(_=null===(r=e.user)||void 0===r?void 0:r.photo_url)&&void 0!==_?_:e.photo_url,bestseller_tier:null!==(b=null!==(f=null===(o=e.user)||void 0===o?void 0:o.bestseller_tier)&&void 0!==f?f:e.user_bestseller_tier)&&void 0!==b?b:null,primary_publication:null!==(v=null===(t=e.user)||void 0===t?void 0:t.primary_publication)&&void 0!==v?v:e.user_primary_publication}}function T(e){return!e.cover_image||/12634ced-0eb6-4238-a94a-70ab242c5ad8/.test(e.cover_image)||/fa15c776-f514-42fe-8ee0-4c94148a0a8a/.test(e.cover_image)||/8826edac-0d50-4ba0-b861-f3ed9336878b/.test(e.cover_image)||/49be2356-6491-4a6f-84a5-15e99d23b6d1/.test(e.cover_image)?null:e.cover_image}function S(e){var i,n;let{post:u}=e;return null!==(n=null===(i=u.podcastFields)||void 0===i?void 0:i.free_podcast_url)&&void 0!==n?n:null}function U(e){var i,n,u,r,o,t,l,d;let{post:s}=e;return null!==(d=null!==(l=null!==(t=null!==(o=null===(i=s.videoUpload)||void 0===i?void 0:i.duration)&&void 0!==o?o:null===(u=s.podcastUpload)||void 0===u?void 0:null===(n=u.full_podcast_info)||void 0===n?void 0:n.duration)&&void 0!==t?t:null===(r=s.podcastUpload)||void 0===r?void 0:r.duration)&&void 0!==l?l:s.podcast_duration)&&void 0!==d?d:0}function C(e,i,n){let{is_freemail:u,is_free_preview:r,sectionEmailRenderElements:t}=n,l=(e,n)=>{var u,r;let o=!("section"in i&&(null===(u=i.section)||void 0===u?void 0:u.ignore_publication_email_settings));return null!==(r=null==t?void 0:t[n])&&void 0!==r?r:o?null==e?void 0:e[n]:null};return r?l(e.email_render_elements,"free_preview_preamble"):(0,o.isPaidPub)(e)?"everyone"===i.audience?l(e,u?"public_post_free_signup_preamble":"public_post_subscriber_preamble"):v(i.audience)?l(e,"subscriber_post_subscriber_preamble"):void 0:l(e.email_render_elements,"email_preamble_for_free_writer")}},42886:function(e,i,n){n.d(i,{qX:()=>r});var u,r=((u={}).Base="base",u.Secondary="secondary",u.Topic="topic",u.Category="category",u)}}]);